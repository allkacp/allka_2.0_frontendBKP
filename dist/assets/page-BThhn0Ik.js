import{bM as R,r as d,j as e,f as m,B as p,C as c,g as x,aU as z,ag as M,a1 as V,E as f,H as N,I as b,J as y,K as t,ao as S,n as H,a as $,d as G,az as J}from"./index-D2dOrPZ8.js";import{P as U}from"./page-header-DpITyWPC.js";import{D as X}from"./download--rFCaPFG.js";import{F as C}from"./funnel-D8IEwOH8.js";import{C as K}from"./circle-x-D0uMI9ez.js";import{T as q}from"./triangle-alert-Cjhkzg0C.js";function ee(){const D=R(),[l,g]=d.useState(""),[h,j]=d.useState("all"),[i,v]=d.useState("all"),[w,E]=d.useState(!1),[T]=d.useState([{id:"1",taskId:"T19572",title:"Card Post Estático ou Motion (8 criativos + 8 copy)",project:"Sebrae CE",client:"Outros",overallStatus:"in-progress",pendingStages:1,totalStages:2,isEmergency:!0,isOverdue:!0,nextDeadline:"2025-10-07T18:00:00"},{id:"2",taskId:"T19580",title:"Desenvolvimento de Landing Page Responsiva",project:"Marketing Digital Pro",client:"TechStart",overallStatus:"pending",pendingStages:3,totalStages:3,isEmergency:!1,isOverdue:!1,nextDeadline:"2025-10-15T23:59:00"},{id:"3",taskId:"T19565",title:"Criação de Identidade Visual Completa",project:"Branding Solutions",client:"Fashion Store",overallStatus:"approved",pendingStages:0,totalStages:4,isEmergency:!1,isOverdue:!1,nextDeadline:"2025-10-20T23:59:00"}]),A=s=>{switch(s){case"approved":return"bg-green-500 text-white";case"rejected":return"bg-red-500 text-white";case"pending":return"bg-yellow-500 text-white";case"in-progress":return"bg-blue-500 text-white";default:return"bg-gray-500 text-white"}},F=s=>{switch(s){case"approved":return"APROVADA";case"rejected":return"REJEITADA";case"pending":return"PENDENTE";case"in-progress":return"EM ANDAMENTO";default:return s.toUpperCase()}},P=s=>new Date(s).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),L=s=>new Date(s)<new Date,a=T.filter(s=>{const o=s.title.toLowerCase().includes(l.toLowerCase())||s.taskId.toLowerCase().includes(l.toLowerCase())||s.project.toLowerCase().includes(l.toLowerCase()),u=h==="all"||s.overallStatus===h;let n=!0;if(i==="overdue")n=s.isOverdue===!0;else if(i==="today"){const r=new Date().toDateString();n=new Date(s.nextDeadline).toDateString()===r}else if(i==="week"){const r=new Date;r.setDate(r.getDate()+7),n=new Date(s.nextDeadline)<=r}return o&&u&&n}),I=a.filter(s=>s.pendingStages>0).length,B=a.filter(s=>s.overallStatus==="approved").length,O=a.filter(s=>s.overallStatus==="rejected").length;return e.jsx("div",{className:"min-h-screen p-6 px-0 py-0 bg-slate-200",children:e.jsxs("div",{className:"max-w-7xl bg-slate-200 mx-0 my-0 px-0 py-0 space-y-6",children:[e.jsx(U,{title:"Aprovações",description:"Gerencie aprovações de entregas e projetos",actions:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(m,{variant:"outline",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Exportar"]}),e.jsxs(m,{variant:"outline",onClick:()=>E(!w),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Filtros",(h!=="all"||i!=="all"||l)&&e.jsx(p,{className:"ml-2 bg-blue-500 text-white",children:"Ativos"})]})]})}),w&&e.jsx(c,{className:"shadow-lg border-0 bg-white",children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(M,{placeholder:"Buscar tarefas...",value:l,onChange:s=>g(s.target.value),className:"pl-10"}),l&&e.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx(V,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs(f,{value:h,onValueChange:j,children:[e.jsx(N,{children:e.jsx(b,{placeholder:"Todos os status"})}),e.jsxs(y,{children:[e.jsx(t,{value:"all",children:"Todos os status"}),e.jsx(t,{value:"pending",children:"Pendente"}),e.jsx(t,{value:"in-progress",children:"Em Andamento"}),e.jsx(t,{value:"approved",children:"Aprovada"}),e.jsx(t,{value:"rejected",children:"Rejeitada"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Prazo"}),e.jsxs(f,{value:i,onValueChange:v,children:[e.jsx(N,{children:e.jsx(b,{placeholder:"Todos os prazos"})}),e.jsxs(y,{children:[e.jsx(t,{value:"all",children:"Todos os prazos"}),e.jsx(t,{value:"overdue",children:"Atrasadas"}),e.jsx(t,{value:"today",children:"Hoje"}),e.jsx(t,{value:"week",children:"Próximos 7 dias"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(m,{variant:"outline",className:"w-full bg-transparent",onClick:()=>{g(""),j("all"),v("all")},children:"Limpar Filtros"})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(c,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 h-full",children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white/90",children:"Pendentes"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:I})]}),e.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:e.jsx(S,{className:"h-8 w-8 text-white"})})]})})})}),e.jsx(c,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-full",children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white/90",children:"Aprovadas"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:B})]}),e.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:e.jsx(H,{className:"h-8 w-8 text-white"})})]})})})}),e.jsx(c,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 h-full",children:e.jsx(x,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white/90",children:"Rejeitadas"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:O})]}),e.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:e.jsx(K,{className:"h-8 w-8 text-white"})})]})})})})]}),e.jsxs(c,{className:"shadow-lg border-0 bg-white",children:[e.jsx($,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center text-sm",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Lista de Tarefas"]}),e.jsxs("span",{className:"text-xs font-normal text-gray-500",children:[a.length," ",a.length===1?"tarefa":"tarefas"]})]})}),e.jsx(x,{className:"space-y-2",children:a.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(C,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-xs",children:"Nenhuma tarefa encontrada com os filtros aplicados"})]}):a.map((s,o)=>{const u=o%2===0?"bg-blue-50":"bg-gray-50",n=o%2===0?"border-blue-200":"border-gray-200",r=o%2===0?"hover:bg-blue-100":"hover:bg-gray-100";return e.jsxs("div",{className:`flex items-center justify-between p-3 border ${n} ${u} ${r} rounded-lg transition-all cursor-pointer group`,onClick:()=>D(`/company/aprovacoes/${s.id}`),children:[e.jsx("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("h3",{className:"font-semibold text-sm group-hover:text-blue-600 transition-colors truncate",children:["[",s.taskId,"] ",s.title]}),s.isEmergency&&e.jsx(p,{className:"bg-red-500 text-white text-xs px-1.5 py-0",children:"EMERGENCIAL"}),s.isOverdue&&e.jsxs("div",{className:"flex items-center gap-1 text-red-600 text-xs",children:[e.jsx(q,{className:"h-3 w-3"}),e.jsx("span",{children:"Atrasado"})]}),e.jsx(p,{className:A(s.overallStatus),size:"sm",children:F(s.overallStatus)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mt-0.5 flex-wrap",children:[e.jsx("span",{children:s.project}),e.jsx("span",{children:"•"}),e.jsx("span",{children:s.client}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.pendingStages,"/",s.totalStages," etapas"]}),s.nextDeadline&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:L(s.nextDeadline)?"text-red-600 font-medium":"",children:P(s.nextDeadline)})]})]})]})}),e.jsxs(m,{size:"sm",variant:"outline",className:"group-hover:bg-blue-600 group-hover:text-white bg-transparent text-xs ml-3 flex-shrink-0",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"Ver"]})]},s.id)})})]})]})})}export{ee as default};
