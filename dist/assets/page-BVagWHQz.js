import{r as i,S as m,U as u,q as S,j as e,f as o,P as y,z as A,C as c,g as T,aU as E,ag as U,T as k,h as z,i as x,k as h,Z as M,B as p}from"./index-D2dOrPZ8.js";import{A as $,a as B,b as I,c as O}from"./accordion-C2wU0TCh.js";import{P as G}from"./permission-profile-slide-panel-B1G40H5b.js";import{S as L}from"./square-pen-Bi43ABVd.js";import"./sidebar-context-DQOyQsLi.js";function Z(){const[d,f]=i.useState(""),[b,n]=i.useState(null),[v,r]=i.useState(!1),l=[{id:1,name:"Super Admin",description:"Acesso total ao sistema",users:2,permissions:{Usuários:{view:!0,create:!0,edit:!0,delete:!0},Empresas:{view:!0,create:!0,edit:!0,delete:!0},Projetos:{view:!0,create:!0,edit:!0,delete:!0},Nômades:{view:!0,create:!0,edit:!0,delete:!0}}},{id:2,name:"Gerente de Operações",description:"Gestão de projetos e nômades",users:5,permissions:{Usuários:{view:!0,create:!1,edit:!0,delete:!1},Empresas:{view:!0,create:!1,edit:!1,delete:!1},Projetos:{view:!0,create:!0,edit:!0,delete:!1},Nômades:{view:!0,create:!0,edit:!0,delete:!1}}},{id:3,name:"Analista Financeiro",description:"Acesso a relatórios financeiros",users:3,permissions:{Usuários:{view:!0,create:!1,edit:!1,delete:!1},Empresas:{view:!0,create:!1,edit:!1,delete:!1},Projetos:{view:!0,create:!1,edit:!1,delete:!1},Financeiro:{view:!0,create:!0,edit:!0,delete:!1}}}],g=()=>{n(null),r(!0)},j=s=>{n(s),r(!0)},N=s=>{console.log("Saving profile:",s),r(!1)},w=l.filter(s=>s.name.toLowerCase().includes(d.toLowerCase())),P=[{label:"Total de Perfis",value:l.length,icon:m,color:"blue"},{label:"Usuários com Perfil",value:l.reduce((s,a)=>s+a.users,0),icon:u,color:"green"},{label:"Módulos do Sistema",value:8,icon:S,color:"purple"}];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Gestão de Permissões"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Configure perfis de acesso e permissões granulares"})]}),e.jsxs(o,{onClick:g,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-9",children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Novo Perfil"]})]}),e.jsx($,{type:"single",collapsible:!0,className:"mb-1",children:e.jsxs(B,{value:"stats",className:"border-none",children:[e.jsx(I,{className:"bg-blue-50 hover:bg-blue-100 rounded-lg px-4 py-3 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-blue-900",children:"Estatísticas e Métricas"})]})}),e.jsx(O,{className:"pt-3",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:P.map((s,a)=>{const C=s.icon,t={blue:{bg:"bg-gradient-to-br from-blue-50 to-blue-100",border:"border-blue-200",icon:"text-blue-600",text:"text-blue-900",value:"text-blue-700"},green:{bg:"bg-gradient-to-br from-emerald-50 to-emerald-100",border:"border-emerald-200",icon:"text-emerald-600",text:"text-emerald-900",value:"text-emerald-700"},purple:{bg:"bg-gradient-to-br from-violet-50 to-violet-100",border:"border-violet-200",icon:"text-violet-600",text:"text-violet-900",value:"text-violet-700"}}[s.color];return e.jsxs(c,{className:`p-3 ${t.bg} ${t.border}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(C,{className:`h-4 w-4 ${t.icon}`}),e.jsx("span",{className:`text-xs font-medium ${t.text}`,children:s.label})]}),e.jsx("p",{className:`text-2xl font-bold ${t.value}`,children:s.value})]},a)})})})]})}),e.jsx(c,{className:"border-2",children:e.jsx(T,{className:"pt-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(U,{placeholder:"Buscar perfis...",value:d,onChange:s=>f(s.target.value),className:"pl-10"})]}),e.jsxs(k,{defaultValue:"all",className:"w-full",children:[e.jsxs(z,{className:"grid w-full grid-cols-2",children:[e.jsx(x,{value:"all",children:"Perfis de Acesso"}),e.jsx(x,{value:"matrix",children:"Matriz de Permissões"})]}),e.jsx(h,{value:"all",className:"space-y-2 mt-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:w.map(s=>e.jsxs(c,{className:"p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-base",children:s.name})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>j(s),className:"h-7 w-7 p-0",children:e.jsx(L,{className:"h-3.5 w-3.5"})}),e.jsx(o,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(M,{className:"h-3.5 w-3.5"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-3 border-b",children:[e.jsx(u,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Usuários com este perfil"}),e.jsx(p,{variant:"secondary",className:"ml-auto",children:s.users})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Módulos com Acesso:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:Object.keys(s.permissions).map(a=>e.jsx(p,{variant:"outline",className:"text-xs",children:a},a))})]})]},s.id))})}),e.jsx(h,{value:"matrix",className:"space-y-2 mt-4",children:e.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Matriz de permissões - Em desenvolvimento"})})]})]})})}),e.jsx(G,{open:v,onClose:()=>r(!1),profile:b,onSave:N})]})}export{Z as default};
