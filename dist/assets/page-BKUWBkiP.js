import{c as B,r as u,j as e,C as c,a as o,A as D,b as P,d as m,e as _,B as r,f as j,g as n,T as k,h as M,i as p,k as v,U as q,l as I,m as L,P as E,S as T,n as w,o as A,F as C,p as S,G as F,q as W,u as R}from"./index-D2dOrPZ8.js";import{S as z}from"./square-pen-Bi43ABVd.js";import{T as H}from"./triangle-alert-Cjhkzg0C.js";import{D as G}from"./download--rFCaPFG.js";const $=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],K=B("brain",$);function O({company:s,currentUser:d}){const[l,f]=u.useState("overview"),x=s.is_active,h=d.role==="company_admin",g=s.last_project_date?Math.floor((new Date().getTime()-new Date(s.last_project_date).getTime())/(1e3*60*60*24)):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsx(c,{children:e.jsx(o,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(D,{className:"h-16 w-16",children:e.jsx(P,{className:"bg-blue-600 text-white text-xl",children:s.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-2xl",children:s.name}),e.jsx(_,{className:"text-base",children:s.email}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(r,{variant:s.account_type==="independent"?"default":"secondary",children:s.account_type==="independent"?"Independente":"Dependente"}),e.jsx(r,{variant:x?"default":"destructive",children:x?"Ativa":"Inativa"}),s.agency&&e.jsxs(r,{variant:"outline",children:["Via ",s.agency.name]})]})]})]}),h&&e.jsxs(j,{variant:"outline",size:"sm",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Editar"]})]})})}),!x&&e.jsx(c,{className:"border-orange-200 bg-orange-50",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-orange-800",children:"Conta Inativa"}),e.jsx("p",{className:"text-sm text-orange-600",children:g?`Sem projetos há ${g} dias. Contas são inativadas após 90 dias sem projetos.`:"Esta conta não possui projetos ativos."})]})]})})}),e.jsxs(k,{value:l,onValueChange:f,children:[e.jsxs(M,{className:"grid w-full grid-cols-4",children:[e.jsx(p,{value:"overview",children:"Visão Geral"}),e.jsx(p,{value:"users",children:"Usuários"}),e.jsx(p,{value:"projects",children:"Projetos"}),e.jsx(p,{value:"ai-knowledge",children:"Base de Conhecimento"})]}),e.jsxs(v,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Usuários Ativos"}),e.jsx(q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.users.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.users.filter(a=>a.role==="company_admin").length," administradores"]})]})]}),e.jsxs(c,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Projetos Ativos"}),e.jsx(I,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.projects.filter(a=>a.status==="active").length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.projects.length," total"]})]})]}),e.jsxs(c,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Último Projeto"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(n,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g?`${g}d`:"N/A"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.last_project_date?new Date(s.last_project_date).toLocaleDateString():"Nenhum projeto"})]})]})]}),e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(m,{children:"Detalhes da Conta"})}),e.jsx(n,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Tipo de Operação"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.account_type==="independent"?"Contratação direta da plataforma (In-House). Acesso total ao catálogo com valores cheios.":"Cliente vinculado a agência parceira. Acesso limitado a projetos ativos e sistema de aprovação."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Permissões"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.account_type==="independent"?e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"outline",className:"text-xs",children:"Catálogo Completo"}),e.jsx(r,{variant:"outline",className:"text-xs",children:"Contratação Direta"}),e.jsx(r,{variant:"outline",className:"text-xs",children:"Gestão Autônoma"})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"outline",className:"text-xs",children:"Projetos Ativos"}),e.jsx(r,{variant:"outline",className:"text-xs",children:"Aprovação Cadenciada"}),e.jsx(r,{variant:"outline",className:"text-xs",children:"Via Agência"})]})})]})]})})]})]}),e.jsxs(v,{value:"users",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Usuários da Empresa"}),h&&e.jsxs(j,{size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Adicionar Usuário"]})]}),e.jsx("div",{className:"grid gap-4",children:s.users.map(a=>e.jsx(c,{children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(D,{children:e.jsx(P,{children:a.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r,{variant:a.role==="company_admin"?"default":"secondary",children:a.role==="company_admin"?"Administrador":"Usuário"}),a.role==="company_admin"&&e.jsx(T,{className:"h-4 w-4 text-blue-600"})]})]})})},a.id))})]}),e.jsxs(v,{value:"projects",className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Histórico de Projetos"}),e.jsx("div",{className:"grid gap-4",children:s.projects.map(a=>e.jsx(c,{children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r,{variant:a.status==="active"?"default":a.status==="completed"?"secondary":"outline",children:a.status==="active"?"Ativo":a.status==="completed"?"Concluído":a.status==="paused"?"Pausado":"Cancelado"}),a.status==="active"&&e.jsx(w,{className:"h-4 w-4 text-green-600"})]})]})})},a.id))})]}),e.jsxs(v,{value:"ai-knowledge",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"text-lg font-medium",children:"Base de Conhecimento IA"})]}),h&&e.jsxs(j,{variant:"outline",size:"sm",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Editar"]})]}),e.jsxs(c,{children:[e.jsxs(o,{children:[e.jsx(m,{className:"text-base",children:"Resumo da Empresa"}),e.jsx(_,{children:"Informações mantidas automaticamente pela IA da Allka"})]}),e.jsxs(n,{children:[e.jsx("p",{className:"text-sm leading-relaxed",children:s.ai_knowledge_base.summary||"Nenhum resumo disponível ainda."}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Última atualização: ",new Date(s.ai_knowledge_base.last_updated).toLocaleDateString()]}),e.jsx(r,{variant:"outline",className:"text-xs",children:s.ai_knowledge_base.auto_generated?"Auto-gerado":"Manual"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(m,{className:"text-base",children:"Histórico de Briefings"})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:s.ai_knowledge_base.briefing_history.slice(0,3).map((a,i)=>e.jsxs("div",{className:"border-l-2 border-blue-200 pl-3",children:[e.jsx("p",{className:"font-medium text-sm",children:a.project_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.brief_summary}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(a.date).toLocaleDateString()})]},i))})})]}),e.jsxs(c,{children:[e.jsx(o,{children:e.jsx(m,{className:"text-base",children:"Padrões de Contratação"})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:s.ai_knowledge_base.contracting_patterns.slice(0,3).map((a,i)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:a.service_type}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.frequency,"x contratado"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium",children:["R$ ",a.average_budget.toLocaleString()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.preferred_timeline})]})]},i))})})]})]})]})]})]})}const Z={id:1,account_id:1,account_type:"agency",plan_id:2,status:"active",current_period_start:"2024-01-01",current_period_end:"2024-01-31",next_billing_date:"2024-02-01",invoices:[{id:1,number:"INV-2024-001",amount:299,status:"paid",issue_date:"2024-01-01",due_date:"2024-01-15",paid_date:"2024-01-10",download_url:"/invoices/INV-2024-001.pdf"},{id:2,number:"INV-2024-002",amount:299,status:"pending",issue_date:"2024-02-01",due_date:"2024-02-15"}]},X=[{id:1,name:"Básico",type:"basic",monthly_price:99,features:["Até 5 usuários","Suporte por email","Relatórios básicos"],is_active:!0},{id:2,name:"Premium",type:"premium",monthly_price:299,features:["Até 20 usuários","Suporte prioritário","Relatórios avançados","API access"],is_active:!0},{id:3,name:"Enterprise",type:"enterprise",monthly_price:599,features:["Usuários ilimitados","Suporte dedicado","Relatórios personalizados","API completa","White label"],is_active:!0}],J=[{id:1,type:"credit_card",last_four:"4532",brand:"Visa",is_default:!0},{id:2,type:"credit_card",last_four:"8765",brand:"Mastercard",is_default:!1}];function Q({company:s,currentUser:d}){const[l,f]=u.useState(null),[x,h]=u.useState([]),[g,a]=u.useState([]),[i,b]=u.useState(!0);u.useEffect(()=>{setTimeout(()=>{f(Z),h(X),a(J),b(!1)},1e3)},[]);const N=x.find(t=>t.id===l?.plan_id),y=t=>{switch(t){case"paid":return e.jsx(r,{className:"bg-green-100 text-green-800",children:"Pago"});case"pending":return e.jsx(r,{className:"bg-yellow-100 text-yellow-800",children:"Pendente"});case"overdue":return e.jsx(r,{className:"bg-red-100 text-red-800",children:"Vencido"});case"cancelled":return e.jsx(r,{variant:"secondary",children:"Cancelado"});default:return e.jsx(r,{variant:"outline",children:t})}};return i?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(m,{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{children:"Plano Atual"})]})}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:N?.name}),e.jsxs("p",{className:"text-muted-foreground",children:["R$ ",N?.monthly_price.toFixed(2),"/mês"]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(r,{variant:l.status==="active"?"default":"destructive",children:l.status==="active"?"Ativo":"Inativo"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Próximo pagamento: ",new Date(l.next_billing_date).toLocaleDateString()]})]})]}),e.jsx(j,{variant:"outline",children:"Alterar Plano"})]})})]}),e.jsxs(k,{defaultValue:"invoices",className:"w-full",children:[e.jsxs(M,{className:"grid w-full grid-cols-3",children:[e.jsx(p,{value:"invoices",children:"Faturas"}),e.jsx(p,{value:"payment-methods",children:"Pagamento"}),e.jsx(p,{value:"plans",children:"Planos"})]}),e.jsxs(v,{value:"invoices",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Histórico de Faturas"}),e.jsxs(r,{variant:"outline",children:[l.invoices.length," faturas"]})]}),e.jsx("div",{className:"grid gap-4",children:l.invoices.map(t=>e.jsx(c,{children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:t.number}),y(t.status)]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Emitida: ",new Date(t.issue_date).toLocaleDateString()]}),e.jsxs("span",{children:["Vencimento: ",new Date(t.due_date).toLocaleDateString()]}),t.paid_date&&e.jsxs("span",{children:["Paga: ",new Date(t.paid_date).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-semibold",children:["R$ ",t.amount.toFixed(2)]})}),t.download_url&&e.jsxs(j,{variant:"outline",size:"sm",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})},t.id))})]}),e.jsxs(v,{value:"payment-methods",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Métodos de Pagamento"}),e.jsxs(j,{size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Adicionar Cartão"]})]}),e.jsx("div",{className:"grid gap-4",children:g.map(t=>e.jsx(c,{children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(A,{className:"h-8 w-8 text-muted-foreground"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[t.brand," •••• ",t.last_four]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.type==="credit_card"?"Cartão de Crédito":"Transferência Bancária"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t.is_default&&e.jsx(r,{variant:"outline",children:"Padrão"}),e.jsx(j,{variant:"outline",size:"sm",children:"Editar"})]})]})})},t.id))})]}),e.jsxs(v,{value:"plans",className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Planos Disponíveis"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:x.map(t=>e.jsxs(c,{className:t.id===l.plan_id?"ring-2 ring-blue-600":"",children:[e.jsxs(o,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{children:t.name}),t.id===l.plan_id&&e.jsx(r,{children:"Atual"})]}),e.jsxs(_,{children:[e.jsxs("span",{className:"text-2xl font-bold",children:["R$ ",t.monthly_price.toFixed(2)]}),e.jsx("span",{className:"text-muted-foreground",children:"/mês"})]})]}),e.jsxs(n,{className:"space-y-4",children:[e.jsx("ul",{className:"space-y-2",children:t.features.map((V,U)=>e.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(w,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:V})]},U))}),t.id!==l.plan_id&&e.jsx(j,{className:"w-full",children:t.monthly_price>(N?.monthly_price||0)?"Fazer Upgrade":"Fazer Downgrade"})]})]},t.id))})]})]})]}):e.jsx(c,{children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum plano ativo"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Configure um plano para começar a usar os recursos premium"}),e.jsx(j,{children:"Escolher Plano"})]})})})}const Y=[{id:1,account_id:1,account_type:"company",term_type:"terms_of_service",term_version:"2.1",accepted_by:1,accepted_at:"2024-01-15T10:30:00Z",ip_address:"192.168.1.100",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:2,account_id:1,account_type:"company",term_type:"privacy_policy",term_version:"1.5",accepted_by:1,accepted_at:"2024-01-15T10:30:00Z",ip_address:"192.168.1.100",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:3,account_id:1,account_type:"company",term_type:"data_processing",term_version:"1.2",accepted_by:1,accepted_at:"2024-01-15T10:30:00Z",ip_address:"192.168.1.100",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{id:4,account_id:1,account_type:"company",term_type:"service_agreement",term_version:"3.0",accepted_by:2,accepted_at:"2023-12-01T14:20:00Z",ip_address:"192.168.1.101",user_agent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"}];function ee({company:s}){const[d,l]=u.useState([]),[f,x]=u.useState(!0);u.useEffect(()=>{setTimeout(()=>{l(Y),x(!1)},1e3)},[]);const h=i=>{switch(i){case"terms_of_service":return"Termos de Serviço";case"privacy_policy":return"Política de Privacidade";case"data_processing":return"Processamento de Dados";case"service_agreement":return"Acordo de Serviços";default:return i}},g=i=>{switch(i){case"terms_of_service":return e.jsx(C,{className:"h-5 w-5 text-blue-600"});case"privacy_policy":return e.jsx(T,{className:"h-5 w-5 text-green-600"});case"data_processing":return e.jsx(F,{className:"h-5 w-5 text-purple-600"});case"service_agreement":return e.jsx(w,{className:"h-5 w-5 text-orange-600"});default:return e.jsx(C,{className:"h-5 w-5 text-gray-600"})}},a=i=>{const b=s.users.find(N=>N.id===i);return b?b.name:`Usuário ${i}`};return f?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{children:[e.jsxs(o,{children:[e.jsxs(m,{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"h-5 w-5"}),e.jsx("span",{children:"Termos Aceitos"})]}),e.jsx(_,{children:"Histórico de todos os termos e políticas aceitos pela sua conta"})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"h-5 w-5 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium",children:[d.length," termos aceitos"]})]}),e.jsx(r,{variant:"outline",className:"text-green-600",children:"Conformidade em dia"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Histórico de Aceites"}),e.jsx("div",{className:"grid gap-4",children:d.map(i=>e.jsx(c,{children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[g(i.term_type),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:h(i.term_type)}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Versão ",i.term_version]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(S,{className:"h-3 w-3"}),e.jsxs("span",{children:["Aceito por: ",a(i.accepted_by)]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(L,{className:"h-3 w-3"}),e.jsxs("span",{children:[new Date(i.accepted_at).toLocaleDateString()," às"," ",new Date(i.accepted_at).toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsxs("p",{children:["IP: ",i.ip_address]}),e.jsxs("p",{className:"truncate max-w-md",children:["User Agent: ",i.user_agent]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(r,{variant:"outline",className:"text-green-600",children:[e.jsx(w,{className:"h-3 w-3 mr-1"}),"Aceito"]}),e.jsx(j,{variant:"outline",size:"sm",children:"Ver Documento"})]})]})})},i.id))})]}),e.jsxs(c,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Status Atual dos Termos"}),e.jsx(_,{children:"Verifique se todos os termos necessários foram aceitos"})]}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{type:"terms_of_service",label:"Termos de Serviço",required:!0},{type:"privacy_policy",label:"Política de Privacidade",required:!0},{type:"data_processing",label:"Processamento de Dados",required:!0},{type:"service_agreement",label:"Acordo de Serviços",required:!1}].map(i=>{const b=d.some(y=>y.term_type===i.type),N=d.filter(y=>y.term_type===i.type).sort((y,t)=>new Date(t.accepted_at).getTime()-new Date(y.accepted_at).getTime())[0];return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[g(i.type),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.label}),N&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Versão ",N.term_version," -"," ",new Date(N.accepted_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[i.required&&e.jsx(r,{variant:"outline",className:"text-xs",children:"Obrigatório"}),e.jsx(r,{variant:b?"default":"destructive",className:"text-xs",children:b?"Aceito":"Pendente"})]})]},i.type)})})})]})]})}function se({company:s,currentUser:d}){const[l,f]=u.useState("profile");if(!s||!d)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const x=d.role==="company_admin"||d.role==="agency_admin",h=d.account_type==="agencias";return e.jsxs("div",{className:"space-y-6",children:[e.jsx(c,{children:e.jsx(o,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(D,{className:"h-16 w-16",children:e.jsx(P,{className:"bg-blue-600 text-white text-xl",children:s.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsx(m,{className:"text-2xl",children:"Minha Conta"}),e.jsx(_,{className:"text-base",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(r,{variant:s.account_type==="independent"?"default":"secondary",children:s.account_type==="independent"?"Independente":"Dependente"}),e.jsx(r,{variant:s.is_active?"default":"destructive",children:s.is_active?"Ativa":"Inativa"}),x&&e.jsxs(r,{variant:"outline",className:"text-blue-600",children:[e.jsx(T,{className:"h-3 w-3 mr-1"}),"Master"]})]})]})]})})})}),e.jsxs(k,{value:l,onValueChange:f,children:[e.jsxs(M,{className:"grid w-full grid-cols-5",children:[e.jsxs(p,{value:"profile",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Perfil"]}),e.jsxs(p,{value:"billing",disabled:!h,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Faturamento"]}),e.jsxs(p,{value:"settings",disabled:!x,children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Configurações"]}),e.jsxs(p,{value:"terms",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Termos"]}),e.jsxs(p,{value:"activity",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Atividade"]})]}),e.jsx(v,{value:"profile",children:e.jsx(O,{company:s,currentUser:d})}),e.jsx(v,{value:"billing",children:h?e.jsx(Q,{company:s,currentUser:d}):e.jsx(c,{children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Faturamento não disponível"}),e.jsx("p",{className:"text-muted-foreground",children:"Esta funcionalidade está disponível apenas para contas de agência"})]})})})}),e.jsx(v,{value:"settings",children:x?e.jsx("div",{className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Configurações da Conta"}),e.jsx(_,{children:"Gerencie as configurações gerais da sua conta"})]}),e.jsx(n,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Dados Bancários"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Configure as informações bancárias para recebimento"}),e.jsx(j,{variant:"outline",size:"sm",children:"Gerenciar Dados Bancários"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Cartões de Crédito"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Gerencie os métodos de pagamento da conta"}),e.jsx(j,{variant:"outline",size:"sm",children:"Gerenciar Cartões"})]})]})})]})}):e.jsx(c,{children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(T,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Acesso restrito"}),e.jsx("p",{className:"text-muted-foreground",children:"Apenas usuários master podem acessar as configurações da conta"})]})})})}),e.jsx(v,{value:"terms",children:e.jsx(ee,{company:s})}),e.jsx(v,{value:"activity",children:e.jsxs(c,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Atividade da Conta"}),e.jsx(_,{children:"Histórico de ações e alterações na conta"})]}),e.jsx(n,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(w,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Conta criada"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[e.jsx(S,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Última atualização do perfil"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s.updated_at).toLocaleDateString()})]})]})]})})]})})]})]})}const ae={id:1,name:"TechCorp Solutions",email:"contato@techcorp.com",phone:"(11) 99999-9999",document:"12.345.678/0001-90",account_type:"independent",is_active:!0,last_project_date:"2024-01-15",ai_knowledge_base:{id:1,company_id:1,summary:"TechCorp Solutions é uma empresa de tecnologia focada em soluções digitais inovadoras. Possui histórico de projetos em desenvolvimento web, aplicativos móveis e consultoria em transformação digital. Valoriza entregas rápidas e comunicação transparente.",briefing_history:[{id:1,project_name:"App Mobile E-commerce",brief_summary:"Desenvolvimento de aplicativo mobile para vendas online com integração de pagamentos",key_requirements:["React Native","Pagamentos","Push Notifications"],date:"2024-01-15"},{id:2,project_name:"Website Institucional",brief_summary:"Criação de website responsivo com foco em conversão",key_requirements:["Design Responsivo","SEO","Analytics"],date:"2023-12-10"}],contracting_patterns:[{service_type:"Desenvolvimento Web",frequency:5,average_budget:25e3,preferred_timeline:"30-45 dias"},{service_type:"Design UI/UX",frequency:3,average_budget:15e3,preferred_timeline:"15-20 dias"}],guidelines:[{category:"Comunicação",description:"Prefere reuniões semanais e relatórios detalhados",importance:"high"},{category:"Tecnologia",description:"Foco em tecnologias modernas e escaláveis",importance:"high"}],last_updated:"2024-01-20",auto_generated:!0},created_at:"2023-06-15",updated_at:"2024-01-20",users:[{id:1,email:"admin@techcorp.com",name:"Carlos Silva",account_type:"empresas",account_sub_type:"in-house",company_id:1,role:"company_admin",permissions:[],is_admin:!0,is_active:!0,created_at:"2023-06-15",updated_at:"2024-01-20"},{id:2,email:"user@techcorp.com",name:"Ana Santos",account_type:"empresas",account_sub_type:"in-house",company_id:1,role:"company_user",permissions:[],is_admin:!1,is_active:!0,created_at:"2023-07-01",updated_at:"2024-01-15"}],projects:[{id:1,name:"App Mobile E-commerce",description:"Desenvolvimento de aplicativo mobile para vendas online",company_id:1,status:"active",start_date:"2024-01-15",created_at:"2024-01-15",updated_at:"2024-01-20"},{id:2,name:"Website Institucional",description:"Criação de website responsivo",company_id:1,status:"completed",start_date:"2023-12-01",end_date:"2023-12-30",created_at:"2023-12-01",updated_at:"2023-12-30"}]},te={id:1,email:"admin@techcorp.com",name:"Carlos Silva",account_type:"empresas",account_sub_type:"in-house",company_id:1,role:"company_admin",permissions:[],is_admin:!0,is_active:!0,created_at:"2023-06-15",updated_at:"2024-01-20"};function le(){const{accountType:s}=R(),[d,l]=u.useState(null),[f,x]=u.useState(null),[h,g]=u.useState(!0);return u.useEffect(()=>{setTimeout(()=>{l(ae),x(te),g(!1)},1e3)},[]),h?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):!d||!f?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("p",{children:"Erro ao carregar dados da conta."})}):e.jsx("div",{className:"container mx-auto py-6",children:e.jsx(se,{company:d,currentUser:f})})}export{le as default};
