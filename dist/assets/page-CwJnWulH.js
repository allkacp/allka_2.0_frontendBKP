import{c as rn,r as d,j as t,b1 as ns,f as S,a1 as hs,aL as ua,ap as ma,b3 as ha,O as Ls,Q as Is,m as fa,R as ga,N as dt,V as Os,a9 as on,F as Nt,bf as z,t as wt,P as $s,z as xa,C as Oe,g as He,bg as pa,ao as va,a2 as ln,a6 as ba,l as cn,U as ya,y as ja,X as wa,aU as Na,ag as as,az as dn,aQ as Ca,B as _e,D as It,v as Ot,w as ut,x as mt,af as $t,ah as ht,q as Da}from"./index-D2dOrPZ8.js";import{A as zs,a as Fs,b as Bs,c as Gs}from"./accordion-C2wU0TCh.js";import{u as Sa}from"./sidebar-context-DQOyQsLi.js";import{P as Ra}from"./project-create-slide-panel-COmkpcow.js";import{C as Vs}from"./calendar-DwnGr2XM.js";import{D as Pa}from"./download--rFCaPFG.js";import{u as Ea,B as Aa,P as Ta,a as ka}from"./project-management-modal-DR7MxtOP.js";import{P as Ma}from"./page-header-DpITyWPC.js";import{A as Qe}from"./arrow-up-right-BzGpF1u-.js";import{R as La}from"./repeat-9aPkItj1.js";import{A as qs}from"./arrow-down-right-8AMLUdrR.js";import{C as Ia}from"./circle-x-D0uMI9ez.js";import{T as Oa}from"./triangle-alert-Cjhkzg0C.js";import{L as $a}from"./list-CjThOVOb.js";import{F as za}from"./funnel-D8IEwOH8.js";import{S as cs}from"./square-pen-Bi43ABVd.js";import{E as Ws}from"./external-link-CC_JdT4J.js";import"./product-context-C-bR3Wyg.js";import"./specialty-context-B5jJAh8-.js";import"./video-BSGHFI8a.js";import"./megaphone-DX3qK3BU.js";import"./grid-3x3-DSkwZCAM.js";import"./key-DrOyWj5p.js";import"./format-Dp_GGtXD.js";import"./table-DSYZvwhV.js";import"./trending-down-DG-mIJr0.js";import"./arrow-up-DskKQPw8.js";import"./file-Bd9y-o0b.js";import"./eye-off-99P7biTF.js";import"./pen-D9tnGfMD.js";const Fa=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Ba=rn("rotate-cw",Fa);const Ga=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Xs=rn("skip-forward",Ga);function Va({open:e,onClose:s,onSkip:n,onCreateWithAI:a}){const{sidebarWidth:o}=Sa(),[r,c]=d.useState(!1),[l,u]=d.useState(""),[m,h]=d.useState([]),[f,v]=d.useState(!1),p=()=>{c(!0),h([{id:"user-1",role:"user",content:"Ol√°! Gostaria de ajuda para criar um novo projeto."}]),setTimeout(()=>{const g={id:"ai-1",role:"assistant",content:`Ol√°! Prazer em te ajudar! üåü

Vou te fazer algumas perguntas para entender melhor o seu projeto:

1. Qual √© o nome ou t√≠tulo do projeto?
2. √â um projeto recorrente (assinatura) ou avulso?
3. Qual √© o tipo: Company, Agency ou Squad?
4. Pode me contar um pouco sobre o objetivo e escopo do projeto?

Responda quando estiver pronto!`};h(y=>[...y,g]),v(!0)},1e3)},D=x=>{if(x.preventDefault(),!l.trim())return;const g={id:`user-${Date.now()}`,role:"user",content:l};h(y=>[...y,g]),u("")};return e?t.jsxs("div",{className:"fixed top-0 right-0 h-full bg-white shadow-2xl z-50 flex flex-col transition-all duration-500",style:{width:`calc(100% - ${o}px)`},children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-gradient-to-r from-purple-600 to-blue-600",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ns,{className:"h-5 w-5 text-white"}),t.jsx("h2",{className:"text-lg font-semibold text-white",children:r?"Criando seu Projeto":"Novo Projeto"})]}),t.jsx(S,{variant:"ghost",size:"icon",onClick:s,className:"text-white hover:bg-white/20",children:t.jsx(hs,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"flex-1 overflow-hidden",children:r?t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx(ua,{className:"flex-1 p-6",children:t.jsxs("div",{className:"space-y-4 max-w-3xl mx-auto",children:[m.map(x=>t.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:t.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${x.role==="user"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:x.content})})},x.id)),f&&t.jsx("div",{className:"flex justify-center mt-6",children:t.jsxs(S,{onClick:a,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white",children:[t.jsx(ma,{className:"h-4 w-4 mr-2"}),"Criar Projeto com Ajuda da IA"]})})]})}),t.jsx("div",{className:"border-t p-4 bg-white",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-3",children:[t.jsx("div",{className:"flex justify-center",children:t.jsxs(S,{onClick:n,variant:"outline",size:"sm",className:"border-gray-300 bg-transparent",children:[t.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Pular e Configurar Manualmente"]})}),t.jsx("form",{onSubmit:D,children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:l,onChange:x=>u(x.target.value),placeholder:"Digite sua resposta...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),t.jsx(S,{type:"submit",disabled:!l.trim(),className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:t.jsx(ha,{className:"h-4 w-4"})})]})})]})})]}):t.jsxs("div",{className:"h-full flex flex-col items-center justify-center px-8 text-center",children:[t.jsx("div",{className:"mb-8 relative",children:t.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:t.jsx(ns,{className:"h-12 w-12 text-white"})})}),t.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Sou a Allka"}),t.jsx("p",{className:"text-base text-gray-600 mb-8 max-w-md",children:"Posso te ajudar a selecionar os produtos certos para este projeto e criar um briefing completo!"}),t.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[t.jsxs(S,{onClick:p,size:"lg",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white",children:[t.jsx(ns,{className:"h-4 w-4 mr-2"}),"Come√ßar Conversa"]}),t.jsxs(S,{onClick:n,variant:"outline",size:"lg",className:"border-gray-300 bg-transparent",children:[t.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Pular e Configurar Manualmente"]})]})]})})]}):null}const qa=[{label:"Hoje",days:0},{label:"√öltimos 7 dias",days:7},{label:"√öltimos 30 dias",days:30},{label:"√öltimos 90 dias",days:90},{label:"√öltimo ano",days:365}];function Wa(e,s){const n=new Date(e);return n.setDate(n.getDate()+s),n}function zt(e){return e?e.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):""}function Xa(e,s){return!e||!s?0:Math.ceil((s.getTime()-e.getTime())/(1e3*60*60*24))}function Ja({dateRange:e,onDateChange:s,onExport:n,onReset:a,onLeadFilterChange:o,leadFilter:r="all",isLoading:c=!1}){const[l,u]=d.useState(!1),[m,h]=d.useState(e),[f,v]=d.useState(!1);d.useEffect(()=>{h(e)},[e]);const p=g=>{const y=new Date,w={from:Wa(y,-g),to:y};h(w),s?.(w)},D=Xa(m?.from,m?.to),x=()=>{h(void 0),u(!1),a?.()};return t.jsx("div",{className:"w-full space-y-3",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center flex-wrap",children:[t.jsxs(Ls,{open:l,onOpenChange:u,children:[t.jsx(Is,{asChild:!0,children:t.jsxs(S,{variant:"outline",className:dt("justify-between gap-2 px-4 py-5 border-2 transition-all min-w-max","bg-white hover:bg-gray-50 text-left font-medium",l&&"border-blue-500 bg-blue-50",e&&"border-blue-300 bg-blue-50"),disabled:c,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fa,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"Per√≠odo"}),m?.from&&m?.to?t.jsxs("span",{className:"text-sm",children:[zt(m.from)," ‚Üí ",zt(m.to)]}):t.jsx("span",{className:"text-sm text-gray-400",children:"Selecione per√≠odo"})]})]}),t.jsx(ga,{className:dt("h-4 w-4 transition-transform flex-shrink-0",l&&"rotate-180")})]})}),t.jsx(Os,{className:"w-auto p-0 bg-white shadow-lg border-0 rounded-lg overflow-hidden",children:t.jsxs("div",{className:"flex",children:[t.jsxs("div",{className:"w-40 border-r border-gray-200 p-3 bg-gradient-to-b from-gray-50 to-gray-100",children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2 px-2 uppercase tracking-wider",children:"Per√≠odos R√°pidos"}),t.jsx("div",{className:"space-y-1",children:qa.map(g=>t.jsx("button",{onClick:()=>p(g.days),className:dt("w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-colors",D===g.days?"bg-blue-500 text-white":"text-gray-700 hover:bg-white"),children:g.label},g.days))}),t.jsx("div",{className:"border-t border-gray-300 mt-3 pt-3",children:t.jsx("button",{onClick:x,className:"w-full text-left px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:"Limpar Filtro"})})]}),t.jsx("div",{className:"p-4 bg-white",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wider",children:"Data Inicial"}),t.jsx(Vs,{mode:"single",selected:m?.from,onSelect:g=>{!m?.from||!m?.to?h({from:g,to:g}):g&&g<=(m?.to||new Date)&&h({from:g,to:m.to})},disabled:g=>m?.to?g>m.to:!1,className:"border-0"})]}),t.jsx("div",{className:"border-t border-gray-200"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wider",children:"Data Final"}),t.jsx(Vs,{mode:"single",selected:m?.to,onSelect:g=>{g&&m?.from&&g>=m.from&&(h({...m,to:g}),s?.({...m,to:g}),u(!1))},disabled:g=>m?.from?g<m.from:!1,className:"border-0"})]})]})})]})})]}),m?.from&&m?.to&&t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsxs("div",{className:"px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg text-xs font-semibold text-blue-700",children:[D," dias"]}),t.jsx("div",{className:"px-3 py-2 bg-green-50 border border-green-200 rounded-lg text-xs font-semibold text-green-700",children:zt(m.from)}),t.jsx("div",{className:"px-3 py-2 bg-purple-50 border border-purple-200 rounded-lg text-xs font-semibold text-purple-700",children:zt(m.to)})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center flex-wrap sm:justify-between",children:[t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsx(S,{variant:r==="all"?"default":"outline",size:"sm",onClick:()=>o?.("all"),className:dt("transition-all font-semibold",r==="all"?"bg-amber-400 hover:bg-amber-500 text-amber-900":"bg-white hover:bg-amber-50 text-amber-700 border-2 border-amber-300"),children:"Todos"}),t.jsxs(S,{variant:r==="lead"?"default":"outline",size:"sm",onClick:()=>o?.("lead"),className:dt("transition-all flex items-center gap-1.5 font-semibold",r==="lead"?"bg-amber-500 hover:bg-amber-600 text-white":"bg-white hover:bg-amber-50 text-amber-700 border-2 border-amber-300"),children:[t.jsx(on,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Leads"})]}),t.jsxs(S,{variant:r==="non-lead"?"default":"outline",size:"sm",onClick:()=>o?.("non-lead"),className:dt("transition-all font-semibold",r==="non-lead"?"bg-amber-400 hover:bg-amber-500 text-amber-900":"bg-white hover:bg-amber-50 text-amber-700 border-2 border-amber-300"),children:[t.jsx("span",{className:"hidden sm:inline",children:"Outros"}),t.jsx("span",{className:"sm:hidden",children:"N√£o-Leads"})]})]}),t.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t.jsxs(Ls,{open:f,onOpenChange:v,children:[t.jsx(Is,{asChild:!0,children:t.jsxs(S,{variant:"outline",size:"sm",className:"border-2 border-green-400 hover:bg-green-50 text-green-700 gap-1.5 font-semibold bg-transparent",disabled:c||!m?.from,children:[t.jsx(Pa,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Exportar"})]})}),t.jsx(Os,{className:"w-48 p-2",side:"bottom",align:"end",children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:()=>{n?.("csv"),v(!1)},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 text-sm font-medium text-gray-700 transition-colors flex items-center gap-2",children:[t.jsx(Nt,{className:"h-4 w-4"}),"CSV"]}),t.jsxs("button",{onClick:()=>{n?.("excel"),v(!1)},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 text-sm font-medium text-gray-700 transition-colors flex items-center gap-2",children:[t.jsx(Nt,{className:"h-4 w-4"}),"Excel"]}),t.jsxs("button",{onClick:()=>{n?.("pdf"),v(!1)},className:"w-full text-left px-3 py-2 rounded-lg hover:bg-gray-100 text-sm font-medium text-gray-700 transition-colors flex items-center gap-2",children:[t.jsx(Nt,{className:"h-4 w-4"}),"PDF"]})]})})]}),t.jsxs(S,{variant:"outline",size:"sm",onClick:x,disabled:c||!m?.from,className:"border-2 border-red-400 hover:bg-red-50 text-red-700 gap-1.5 font-semibold bg-transparent",children:[t.jsx(Ba,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Limpar"})]})]})]})]})})}function Ua(e,s,n){const a=["ID","Nome do Projeto","Status","Tipo","Or√ßamento","Gasto","Saldo","% Progresso","Empresa","Ag√™ncia","Data Cria√ß√£o","Data Vencimento"],o=e.map(u=>[u.id,u.name,u.status,u.type,`R$ ${u.budget.toLocaleString("pt-BR")}`,`R$ ${u.spent.toLocaleString("pt-BR")}`,`R$ ${(u.budget-u.spent).toLocaleString("pt-BR")}`,`${u.progress}%`,u.company||"-",u.agency||"-",u.createdDate,u.dueDate]),r=s.from?.toLocaleDateString("pt-BR")||"",c=s.to?.toLocaleDateString("pt-BR")||"";let l=`Relat√≥rio de Projetos
`;l+=`Per√≠odo: ${r} at√© ${c}
`,l+=`Total de Projetos: ${e.length}
`,l+=`Valor Total: R$ ${e.reduce((u,m)=>u+m.budget,0).toLocaleString("pt-BR")}
`,l+=`Gasto Total: R$ ${e.reduce((u,m)=>u+m.spent,0).toLocaleString("pt-BR")}

`,l+=a.join(";")+`
`,l+=o.map(u=>u.map(m=>`"${m}"`).join(";")).join(`
`),un(l,`projetos_${r.replace(/\//g,"-")}_${c.replace(/\//g,"-")}.csv`)}function Ya(e,s,n){const a=s.from?.toLocaleDateString("pt-BR")||"",o=s.to?.toLocaleDateString("pt-BR")||"";let r=`<?xml version="1.0" encoding="UTF-8"?>
`;r+=`<?mso-application progid="Excel.Sheet"?>
`,r+=`<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet"
`,r+=` xmlns:o="urn:schemas-microsoft-com:office:office"
`,r+=` xmlns:x="urn:schemas-microsoft-com:office:excel"
`,r+=` xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet"
`,r+=` xmlns:html="http://www.w3.org/TR/REC-html40">
`,r+=`<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">
`,r+=`<Author>ALLKA Platform</Author>
`,r+=`<LastSavedTime>${new Date().toISOString()}</LastSavedTime>
`,r+=`</DocumentProperties>
`,r+=`<Worksheet ss:Name="Projetos">
`,r+=`<Table>
`,r+=`<Row><Cell ss:StyleID="Summary"><Data ss:Type="String">Relat√≥rio de Projetos</Data></Cell></Row>
`,r+=`<Row><Cell><Data ss:Type="String">Per√≠odo: ${a} at√© ${o}</Data></Cell></Row>
`,r+=`<Row><Cell><Data ss:Type="String">Total de Projetos: ${e.length}</Data></Cell></Row>
`,r+=`<Row><Cell><Data ss:Type="String">Valor Total: R$ ${e.reduce((l,u)=>l+u.budget,0).toLocaleString("pt-BR")}</Data></Cell></Row>
`,r+=`<Row><Cell><Data ss:Type="String">Gasto Total: R$ ${e.reduce((l,u)=>l+u.spent,0).toLocaleString("pt-BR")}</Data></Cell></Row>
`,r+=`<Row><Cell></Cell></Row>
`,r+=`<Row>
`,["ID","Nome do Projeto","Status","Tipo","Or√ßamento","Gasto","Saldo","% Progresso","Empresa","Ag√™ncia","Data Cria√ß√£o","Data Vencimento"].forEach(l=>{r+=`<Cell ss:StyleID="Header"><Data ss:Type="String">${l}</Data></Cell>
`}),r+=`</Row>
`,e.forEach(l=>{r+=`<Row>
`,r+=`<Cell><Data ss:Type="String">${l.id}</Data></Cell>
`,r+=`<Cell><Data ss:Type="String">${l.name}</Data></Cell>
`,r+=`<Cell><Data ss:Type="String">${l.status}</Data></Cell>
`,r+=`<Cell><Data ss:Type="String">${l.type}</Data></Cell>
`,r+=`<Cell><Data ss:Type="Number">${l.budget}</Data></Cell>
`,r+=`<Cell><Data ss:Type="Number">${l.spent}</Data></Cell>
`,r+=`<Cell><Data ss:Type="Number">${l.budget-l.spent}</Data></Cell>
`,r+=`<Cell><Data ss:Type="Number">${l.progress}</Data></Cell>
`,r+=`<Cell><Data ss:Type="String">${l.company||"-"}</Data></Cell>
`,r+=`<Cell><Data ss:Type="String">${l.agency||"-"}</Data></Cell>
`,r+=`<Cell><Data ss:Type="String">${l.createdDate}</Data></Cell>
`,r+=`<Cell><Data ss:Type="String">${l.dueDate}</Data></Cell>
`,r+=`</Row>
`}),r+=`</Table>
`,r+=`</Worksheet>
`,r+="</Workbook>",un(r,`projetos_${a.replace(/\//g,"-")}_${o.replace(/\//g,"-")}.xls`,"application/vnd.ms-excel")}function Ka(e,s,n){const a=s.from?.toLocaleDateString("pt-BR")||"",o=s.to?.toLocaleDateString("pt-BR")||"",r=e.reduce((m,h)=>m+h.budget,0),c=e.reduce((m,h)=>m+h.spent,0);let l=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <title>Relat√≥rio de Projetos</title>
      <style>
        * { margin: 0; padding: 0; }
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }
        .header { border-bottom: 3px solid #2563eb; padding-bottom: 20px; margin-bottom: 30px; }
        .header h1 { color: #1e40af; font-size: 24px; margin-bottom: 5px; }
        .header p { color: #666; font-size: 14px; }
        .summary { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; margin-bottom: 30px; }
        .summary-box { background: #f0f9ff; border: 2px solid #0ea5e9; border-radius: 8px; padding: 15px; }
        .summary-box .label { font-size: 12px; color: #0369a1; font-weight: bold; }
        .summary-box .value { font-size: 20px; font-weight: bold; color: #0c4a6e; margin-top: 5px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th { background: #2563eb; color: white; padding: 12px; text-align: left; font-weight: bold; font-size: 12px; }
        td { padding: 12px; border-bottom: 1px solid #e5e7eb; font-size: 12px; }
        tr:nth-child(even) { background: #f9fafb; }
        tr:hover { background: #f3f4f6; }
        .status { display: inline-block; padding: 4px 8px; border-radius: 4px; font-weight: bold; }
        .status.completed { background: #d1fae5; color: #065f46; }
        .status.in-progress { background: #dbeafe; color: #0c4a6e; }
        .status.draft { background: #fef3c7; color: #92400e; }
        .status.cancelled { background: #fee2e2; color: #7f1d1d; }
        .money { color: #059669; font-weight: bold; }
        .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #666; font-size: 12px; text-align: center; }
      </style>
    </head>
    <body>
      <div class="container">
        <div class="header">
          <h1>Relat√≥rio de Projetos</h1>
          <p>Per√≠odo: ${a} at√© ${o}</p>
          <p>Gerado em: ${new Date().toLocaleString("pt-BR")}</p>
        </div>

        <div class="summary">
          <div class="summary-box">
            <div class="label">Total de Projetos</div>
            <div class="value">${e.length}</div>
          </div>
          <div class="summary-box">
            <div class="label">Or√ßamento Total</div>
            <div class="value">R$ ${r.toLocaleString("pt-BR")}</div>
          </div>
          <div class="summary-box">
            <div class="label">Gasto Total</div>
            <div class="value">R$ ${c.toLocaleString("pt-BR")}</div>
          </div>
          <div class="summary-box">
            <div class="label">Saldo</div>
            <div class="value">R$ ${(r-c).toLocaleString("pt-BR")}</div>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th>Projeto</th>
              <th>Status</th>
              <th>Tipo</th>
              <th>Or√ßamento</th>
              <th>Gasto</th>
              <th>Saldo</th>
              <th>Progresso</th>
            </tr>
          </thead>
          <tbody>
            ${e.map(m=>`
              <tr>
                <td>${m.name}</td>
                <td><span class="status ${m.status}">${m.status}</span></td>
                <td>${m.type}</td>
                <td class="money">R$ ${m.budget.toLocaleString("pt-BR")}</td>
                <td class="money">R$ ${m.spent.toLocaleString("pt-BR")}</td>
                <td class="money">R$ ${(m.budget-m.spent).toLocaleString("pt-BR")}</td>
                <td>${m.progress}%</td>
              </tr>
            `).join("")}
          </tbody>
        </table>

        <div class="footer">
          <p>Este documento foi gerado automaticamente pelo ALLKA Platform</p>
        </div>
      </div>
    </body>
    </html>
  `;const u=window.open("","","width=900,height=700");u&&(u.document.write(l),u.document.close(),setTimeout(()=>{u.print()},250))}function un(e,s,n="text/csv"){const a=new Blob([e],{type:n}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)}function Ha(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return d.useMemo(()=>a=>{s.forEach(o=>o(a))},s)}const Kt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xt(e){const s=Object.prototype.toString.call(e);return s==="[object Window]"||s==="[object global]"}function fs(e){return"nodeType"in e}function ee(e){var s,n;return e?xt(e)?e:fs(e)&&(s=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?s:window:window}function gs(e){const{Document:s}=ee(e);return e instanceof s}function Et(e){return xt(e)?!1:e instanceof ee(e).HTMLElement}function mn(e){return e instanceof ee(e).SVGElement}function pt(e){return e?xt(e)?e.document:fs(e)?gs(e)?e:Et(e)||mn(e)?e.ownerDocument:document:document:document}const Ce=Kt?d.useLayoutEffect:d.useEffect;function Ht(e){const s=d.useRef(e);return Ce(()=>{s.current=e}),d.useCallback(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return s.current==null?void 0:s.current(...a)},[])}function _a(){const e=d.useRef(null),s=d.useCallback((a,o)=>{e.current=setInterval(a,o)},[]),n=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[s,n]}function Rt(e,s){s===void 0&&(s=[e]);const n=d.useRef(e);return Ce(()=>{n.current!==e&&(n.current=e)},s),n}function At(e,s){const n=d.useRef();return d.useMemo(()=>{const a=e(n.current);return n.current=a,a},[...s])}function qt(e){const s=Ht(e),n=d.useRef(null),a=d.useCallback(o=>{o!==n.current&&s?.(o,n.current),n.current=o},[]);return[n,a]}function Wt(e){const s=d.useRef();return d.useEffect(()=>{s.current=e},[e]),s.current}let rs={};function Tt(e,s){return d.useMemo(()=>{if(s)return s;const n=rs[e]==null?0:rs[e]+1;return rs[e]=n,e+"-"+n},[e,s])}function hn(e){return function(s){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.reduce((r,c)=>{const l=Object.entries(c);for(const[u,m]of l){const h=r[u];h!=null&&(r[u]=h+e*m)}return r},{...s})}}const gt=hn(1),Xt=hn(-1);function Qa(e){return"clientX"in e&&"clientY"in e}function _t(e){if(!e)return!1;const{KeyboardEvent:s}=ee(e.target);return s&&e instanceof s}function Za(e){if(!e)return!1;const{TouchEvent:s}=ee(e.target);return s&&e instanceof s}function Jt(e){if(Za(e)){if(e.touches&&e.touches.length){const{clientX:s,clientY:n}=e.touches[0];return{x:s,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:s,clientY:n}=e.changedTouches[0];return{x:s,y:n}}}return Qa(e)?{x:e.clientX,y:e.clientY}:null}const qe=Object.freeze({Translate:{toString(e){if(!e)return;const{x:s,y:n}=e;return"translate3d("+(s?Math.round(s):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:s,scaleY:n}=e;return"scaleX("+s+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[qe.Translate.toString(e),qe.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:s,duration:n,easing:a}=e;return s+" "+n+"ms "+a}}}),Js="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function er(e){return e.matches(Js)?e:e.querySelector(Js)}const tr={display:"none"};function sr(e){let{id:s,value:n}=e;return z.createElement("div",{id:s,style:tr},n)}function nr(e){let{id:s,announcement:n,ariaLiveType:a="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return z.createElement("div",{id:s,style:o,role:"status","aria-live":a,"aria-atomic":!0},n)}function ar(){const[e,s]=d.useState("");return{announce:d.useCallback(a=>{a!=null&&s(a)},[]),announcement:e}}const fn=d.createContext(null);function rr(e){const s=d.useContext(fn);d.useEffect(()=>{if(!s)throw new Error("useDndMonitor must be used within a children of <DndContext>");return s(e)},[e,s])}function or(){const[e]=d.useState(()=>new Set),s=d.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[d.useCallback(a=>{let{type:o,event:r}=a;e.forEach(c=>{var l;return(l=c[o])==null?void 0:l.call(c,r)})},[e]),s]}const lr={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ir={onDragStart(e){let{active:s}=e;return"Picked up draggable item "+s.id+"."},onDragOver(e){let{active:s,over:n}=e;return n?"Draggable item "+s.id+" was moved over droppable area "+n.id+".":"Draggable item "+s.id+" is no longer over a droppable area."},onDragEnd(e){let{active:s,over:n}=e;return n?"Draggable item "+s.id+" was dropped over droppable area "+n.id:"Draggable item "+s.id+" was dropped."},onDragCancel(e){let{active:s}=e;return"Dragging was cancelled. Draggable item "+s.id+" was dropped."}};function cr(e){let{announcements:s=ir,container:n,hiddenTextDescribedById:a,screenReaderInstructions:o=lr}=e;const{announce:r,announcement:c}=ar(),l=Tt("DndLiveRegion"),[u,m]=d.useState(!1);if(d.useEffect(()=>{m(!0)},[]),rr(d.useMemo(()=>({onDragStart(f){let{active:v}=f;r(s.onDragStart({active:v}))},onDragMove(f){let{active:v,over:p}=f;s.onDragMove&&r(s.onDragMove({active:v,over:p}))},onDragOver(f){let{active:v,over:p}=f;r(s.onDragOver({active:v,over:p}))},onDragEnd(f){let{active:v,over:p}=f;r(s.onDragEnd({active:v,over:p}))},onDragCancel(f){let{active:v,over:p}=f;r(s.onDragCancel({active:v,over:p}))}}),[r,s])),!u)return null;const h=z.createElement(z.Fragment,null,z.createElement(sr,{id:a,value:o.draggable}),z.createElement(nr,{id:l,announcement:c}));return n?wt.createPortal(h,n):h}var W;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(W||(W={}));function Ut(){}function dr(e,s){return d.useMemo(()=>({sensor:e,options:s??{}}),[e,s])}function ur(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return d.useMemo(()=>[...s].filter(a=>a!=null),[...s])}const De=Object.freeze({x:0,y:0});function mr(e,s){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function hr(e,s){const n=Jt(e);if(!n)return"0 0";const a={x:(n.x-s.left)/s.width*100,y:(n.y-s.top)/s.height*100};return a.x+"% "+a.y+"%"}function fr(e,s){let{data:{value:n}}=e,{data:{value:a}}=s;return n-a}function gr(e,s){let{data:{value:n}}=e,{data:{value:a}}=s;return a-n}function xr(e,s){if(!e||e.length===0)return null;const[n]=e;return n[s]}function Us(e,s,n){return s===void 0&&(s=e.left),n===void 0&&(n=e.top),{x:s+e.width*.5,y:n+e.height*.5}}const pr=e=>{let{collisionRect:s,droppableRects:n,droppableContainers:a}=e;const o=Us(s,s.left,s.top),r=[];for(const c of a){const{id:l}=c,u=n.get(l);if(u){const m=mr(Us(u),o);r.push({id:l,data:{droppableContainer:c,value:m}})}}return r.sort(fr)};function vr(e,s){const n=Math.max(s.top,e.top),a=Math.max(s.left,e.left),o=Math.min(s.left+s.width,e.left+e.width),r=Math.min(s.top+s.height,e.top+e.height),c=o-a,l=r-n;if(a<o&&n<r){const u=s.width*s.height,m=e.width*e.height,h=c*l,f=h/(u+m-h);return Number(f.toFixed(4))}return 0}const br=e=>{let{collisionRect:s,droppableRects:n,droppableContainers:a}=e;const o=[];for(const r of a){const{id:c}=r,l=n.get(c);if(l){const u=vr(l,s);u>0&&o.push({id:c,data:{droppableContainer:r,value:u}})}}return o.sort(gr)};function yr(e,s,n){return{...e,scaleX:s&&n?s.width/n.width:1,scaleY:s&&n?s.height/n.height:1}}function gn(e,s){return e&&s?{x:e.left-s.left,y:e.top-s.top}:De}function jr(e){return function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),r=1;r<a;r++)o[r-1]=arguments[r];return o.reduce((c,l)=>({...c,top:c.top+e*l.y,bottom:c.bottom+e*l.y,left:c.left+e*l.x,right:c.right+e*l.x}),{...n})}}const wr=jr(1);function xn(e){if(e.startsWith("matrix3d(")){const s=e.slice(9,-1).split(/, /);return{x:+s[12],y:+s[13],scaleX:+s[0],scaleY:+s[5]}}else if(e.startsWith("matrix(")){const s=e.slice(7,-1).split(/, /);return{x:+s[4],y:+s[5],scaleX:+s[0],scaleY:+s[3]}}return null}function Nr(e,s,n){const a=xn(s);if(!a)return e;const{scaleX:o,scaleY:r,x:c,y:l}=a,u=e.left-c-(1-o)*parseFloat(n),m=e.top-l-(1-r)*parseFloat(n.slice(n.indexOf(" ")+1)),h=o?e.width/o:e.width,f=r?e.height/r:e.height;return{width:h,height:f,top:m,right:u+h,bottom:m+f,left:u}}const Cr={ignoreTransform:!1};function vt(e,s){s===void 0&&(s=Cr);let n=e.getBoundingClientRect();if(s.ignoreTransform){const{transform:m,transformOrigin:h}=ee(e).getComputedStyle(e);m&&(n=Nr(n,m,h))}const{top:a,left:o,width:r,height:c,bottom:l,right:u}=n;return{top:a,left:o,width:r,height:c,bottom:l,right:u}}function Ys(e){return vt(e,{ignoreTransform:!0})}function Dr(e){const s=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:s,bottom:n,width:s,height:n}}function Sr(e,s){return s===void 0&&(s=ee(e).getComputedStyle(e)),s.position==="fixed"}function Rr(e,s){s===void 0&&(s=ee(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const r=s[o];return typeof r=="string"?n.test(r):!1})}function xs(e,s){const n=[];function a(o){if(s!=null&&n.length>=s||!o)return n;if(gs(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Et(o)||mn(o)||n.includes(o))return n;const r=ee(e).getComputedStyle(o);return o!==e&&Rr(o,r)&&n.push(o),Sr(o,r)?n:a(o.parentNode)}return e?a(e):n}function pn(e){const[s]=xs(e,1);return s??null}function os(e){return!Kt||!e?null:xt(e)?e:fs(e)?gs(e)||e===pt(e).scrollingElement?window:Et(e)?e:null:null}function vn(e){return xt(e)?e.scrollX:e.scrollLeft}function bn(e){return xt(e)?e.scrollY:e.scrollTop}function ds(e){return{x:vn(e),y:bn(e)}}var J;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(J||(J={}));function yn(e){return!Kt||!e?!1:e===document.scrollingElement}function jn(e){const s={x:0,y:0},n=yn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=s.y,r=e.scrollLeft<=s.x,c=e.scrollTop>=a.y,l=e.scrollLeft>=a.x;return{isTop:o,isLeft:r,isBottom:c,isRight:l,maxScroll:a,minScroll:s}}const Pr={x:.2,y:.2};function Er(e,s,n,a,o){let{top:r,left:c,right:l,bottom:u}=n;a===void 0&&(a=10),o===void 0&&(o=Pr);const{isTop:m,isBottom:h,isLeft:f,isRight:v}=jn(e),p={x:0,y:0},D={x:0,y:0},x={height:s.height*o.y,width:s.width*o.x};return!m&&r<=s.top+x.height?(p.y=J.Backward,D.y=a*Math.abs((s.top+x.height-r)/x.height)):!h&&u>=s.bottom-x.height&&(p.y=J.Forward,D.y=a*Math.abs((s.bottom-x.height-u)/x.height)),!v&&l>=s.right-x.width?(p.x=J.Forward,D.x=a*Math.abs((s.right-x.width-l)/x.width)):!f&&c<=s.left+x.width&&(p.x=J.Backward,D.x=a*Math.abs((s.left+x.width-c)/x.width)),{direction:p,speed:D}}function Ar(e){if(e===document.scrollingElement){const{innerWidth:r,innerHeight:c}=window;return{top:0,left:0,right:r,bottom:c,width:r,height:c}}const{top:s,left:n,right:a,bottom:o}=e.getBoundingClientRect();return{top:s,left:n,right:a,bottom:o,width:e.clientWidth,height:e.clientHeight}}function wn(e){return e.reduce((s,n)=>gt(s,ds(n)),De)}function Tr(e){return e.reduce((s,n)=>s+vn(n),0)}function kr(e){return e.reduce((s,n)=>s+bn(n),0)}function Nn(e,s){if(s===void 0&&(s=vt),!e)return;const{top:n,left:a,bottom:o,right:r}=s(e);pn(e)&&(o<=0||r<=0||n>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Mr=[["x",["left","right"],Tr],["y",["top","bottom"],kr]];class ps{constructor(s,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=xs(n),o=wn(a);this.rect={...s},this.width=s.width,this.height=s.height;for(const[r,c,l]of Mr)for(const u of c)Object.defineProperty(this,u,{get:()=>{const m=l(a),h=o[r]-m;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ct{constructor(s){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=s}add(s,n,a){var o;(o=this.target)==null||o.addEventListener(s,n,a),this.listeners.push([s,n,a])}}function Lr(e){const{EventTarget:s}=ee(e);return e instanceof s?e:pt(e)}function ls(e,s){const n=Math.abs(e.x),a=Math.abs(e.y);return typeof s=="number"?Math.sqrt(n**2+a**2)>s:"x"in s&&"y"in s?n>s.x&&a>s.y:"x"in s?n>s.x:"y"in s?a>s.y:!1}var be;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(be||(be={}));function Ks(e){e.preventDefault()}function Ir(e){e.stopPropagation()}var L;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(L||(L={}));const Cn={start:[L.Space,L.Enter],cancel:[L.Esc],end:[L.Space,L.Enter,L.Tab]},Or=(e,s)=>{let{currentCoordinates:n}=s;switch(e.code){case L.Right:return{...n,x:n.x+25};case L.Left:return{...n,x:n.x-25};case L.Down:return{...n,y:n.y+25};case L.Up:return{...n,y:n.y-25}}};class Dn{constructor(s){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=s;const{event:{target:n}}=s;this.props=s,this.listeners=new Ct(pt(n)),this.windowListeners=new Ct(ee(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(be.Resize,this.handleCancel),this.windowListeners.add(be.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(be.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:s,onStart:n}=this.props,a=s.node.current;a&&Nn(a),n(De)}handleKeyDown(s){if(_t(s)){const{active:n,context:a,options:o}=this.props,{keyboardCodes:r=Cn,coordinateGetter:c=Or,scrollBehavior:l="smooth"}=o,{code:u}=s;if(r.end.includes(u)){this.handleEnd(s);return}if(r.cancel.includes(u)){this.handleCancel(s);return}const{collisionRect:m}=a.current,h=m?{x:m.left,y:m.top}:De;this.referenceCoordinates||(this.referenceCoordinates=h);const f=c(s,{active:n,context:a.current,currentCoordinates:h});if(f){const v=Xt(f,h),p={x:0,y:0},{scrollableAncestors:D}=a.current;for(const x of D){const g=s.code,{isTop:y,isRight:C,isLeft:w,isBottom:A,maxScroll:P,minScroll:T}=jn(x),N=Ar(x),E={x:Math.min(g===L.Right?N.right-N.width/2:N.right,Math.max(g===L.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(g===L.Down?N.bottom-N.height/2:N.bottom,Math.max(g===L.Down?N.top:N.top+N.height/2,f.y))},$=g===L.Right&&!C||g===L.Left&&!w,F=g===L.Down&&!A||g===L.Up&&!y;if($&&E.x!==f.x){const I=x.scrollLeft+v.x,re=g===L.Right&&I<=P.x||g===L.Left&&I>=T.x;if(re&&!v.y){x.scrollTo({left:I,behavior:l});return}re?p.x=x.scrollLeft-I:p.x=g===L.Right?x.scrollLeft-P.x:x.scrollLeft-T.x,p.x&&x.scrollBy({left:-p.x,behavior:l});break}else if(F&&E.y!==f.y){const I=x.scrollTop+v.y,re=g===L.Down&&I<=P.y||g===L.Up&&I>=T.y;if(re&&!v.x){x.scrollTo({top:I,behavior:l});return}re?p.y=x.scrollTop-I:p.y=g===L.Down?x.scrollTop-P.y:x.scrollTop-T.y,p.y&&x.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(s,gt(Xt(f,this.referenceCoordinates),p))}}}handleMove(s,n){const{onMove:a}=this.props;s.preventDefault(),a(n)}handleEnd(s){const{onEnd:n}=this.props;s.preventDefault(),this.detach(),n()}handleCancel(s){const{onCancel:n}=this.props;s.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Dn.activators=[{eventName:"onKeyDown",handler:(e,s,n)=>{let{keyboardCodes:a=Cn,onActivation:o}=s,{active:r}=n;const{code:c}=e.nativeEvent;if(a.start.includes(c)){const l=r.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Hs(e){return!!(e&&"distance"in e)}function _s(e){return!!(e&&"delay"in e)}class vs{constructor(s,n,a){var o;a===void 0&&(a=Lr(s.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=s,this.events=n;const{event:r}=s,{target:c}=r;this.props=s,this.events=n,this.document=pt(c),this.documentListeners=new Ct(this.document),this.listeners=new Ct(a),this.windowListeners=new Ct(ee(c)),this.initialCoordinates=(o=Jt(r))!=null?o:De,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:s,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(s.move.name,this.handleMove,{passive:!1}),this.listeners.add(s.end.name,this.handleEnd),s.cancel&&this.listeners.add(s.cancel.name,this.handleCancel),this.windowListeners.add(be.Resize,this.handleCancel),this.windowListeners.add(be.DragStart,Ks),this.windowListeners.add(be.VisibilityChange,this.handleCancel),this.windowListeners.add(be.ContextMenu,Ks),this.documentListeners.add(be.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(_s(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Hs(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(s,n){const{active:a,onPending:o}=this.props;o(a,s,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:s}=this,{onStart:n}=this.props;s&&(this.activated=!0,this.documentListeners.add(be.Click,Ir,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(be.SelectionChange,this.removeTextSelection),n(s))}handleMove(s){var n;const{activated:a,initialCoordinates:o,props:r}=this,{onMove:c,options:{activationConstraint:l}}=r;if(!o)return;const u=(n=Jt(s))!=null?n:De,m=Xt(o,u);if(!a&&l){if(Hs(l)){if(l.tolerance!=null&&ls(m,l.tolerance))return this.handleCancel();if(ls(m,l.distance))return this.handleStart()}if(_s(l)&&ls(m,l.tolerance))return this.handleCancel();this.handlePending(l,m);return}s.cancelable&&s.preventDefault(),c(u)}handleEnd(){const{onAbort:s,onEnd:n}=this.props;this.detach(),this.activated||s(this.props.active),n()}handleCancel(){const{onAbort:s,onCancel:n}=this.props;this.detach(),this.activated||s(this.props.active),n()}handleKeydown(s){s.code===L.Esc&&this.handleCancel()}removeTextSelection(){var s;(s=this.document.getSelection())==null||s.removeAllRanges()}}const $r={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bs extends vs{constructor(s){const{event:n}=s,a=pt(n.target);super(s,$r,a)}}bs.activators=[{eventName:"onPointerDown",handler:(e,s)=>{let{nativeEvent:n}=e,{onActivation:a}=s;return!n.isPrimary||n.button!==0?!1:(a?.({event:n}),!0)}}];const zr={move:{name:"mousemove"},end:{name:"mouseup"}};var us;(function(e){e[e.RightClick=2]="RightClick"})(us||(us={}));class Fr extends vs{constructor(s){super(s,zr,pt(s.event.target))}}Fr.activators=[{eventName:"onMouseDown",handler:(e,s)=>{let{nativeEvent:n}=e,{onActivation:a}=s;return n.button===us.RightClick?!1:(a?.({event:n}),!0)}}];const is={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Br extends vs{constructor(s){super(s,is)}static setup(){return window.addEventListener(is.move.name,s,{capture:!1,passive:!1}),function(){window.removeEventListener(is.move.name,s)};function s(){}}}Br.activators=[{eventName:"onTouchStart",handler:(e,s)=>{let{nativeEvent:n}=e,{onActivation:a}=s;const{touches:o}=n;return o.length>1?!1:(a?.({event:n}),!0)}}];var Dt;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Dt||(Dt={}));var Yt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Yt||(Yt={}));function Gr(e){let{acceleration:s,activator:n=Dt.Pointer,canScroll:a,draggingRect:o,enabled:r,interval:c=5,order:l=Yt.TreeOrder,pointerCoordinates:u,scrollableAncestors:m,scrollableAncestorRects:h,delta:f,threshold:v}=e;const p=qr({delta:f,disabled:!r}),[D,x]=_a(),g=d.useRef({x:0,y:0}),y=d.useRef({x:0,y:0}),C=d.useMemo(()=>{switch(n){case Dt.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Dt.DraggableRect:return o}},[n,o,u]),w=d.useRef(null),A=d.useCallback(()=>{const T=w.current;if(!T)return;const N=g.current.x*y.current.x,E=g.current.y*y.current.y;T.scrollBy(N,E)},[]),P=d.useMemo(()=>l===Yt.TreeOrder?[...m].reverse():m,[l,m]);d.useEffect(()=>{if(!r||!m.length||!C){x();return}for(const T of P){if(a?.(T)===!1)continue;const N=m.indexOf(T),E=h[N];if(!E)continue;const{direction:$,speed:F}=Er(T,E,C,s,v);for(const I of["x","y"])p[I][$[I]]||(F[I]=0,$[I]=0);if(F.x>0||F.y>0){x(),w.current=T,D(A,c),g.current=F,y.current=$;return}}g.current={x:0,y:0},y.current={x:0,y:0},x()},[s,A,a,x,r,c,JSON.stringify(C),JSON.stringify(p),D,m,P,h,JSON.stringify(v)])}const Vr={x:{[J.Backward]:!1,[J.Forward]:!1},y:{[J.Backward]:!1,[J.Forward]:!1}};function qr(e){let{delta:s,disabled:n}=e;const a=Wt(s);return At(o=>{if(n||!a||!o)return Vr;const r={x:Math.sign(s.x-a.x),y:Math.sign(s.y-a.y)};return{x:{[J.Backward]:o.x[J.Backward]||r.x===-1,[J.Forward]:o.x[J.Forward]||r.x===1},y:{[J.Backward]:o.y[J.Backward]||r.y===-1,[J.Forward]:o.y[J.Forward]||r.y===1}}},[n,s,a])}function Wr(e,s){const n=s!=null?e.get(s):void 0,a=n?n.node.current:null;return At(o=>{var r;return s==null?null:(r=a??o)!=null?r:null},[a,s])}function Xr(e,s){return d.useMemo(()=>e.reduce((n,a)=>{const{sensor:o}=a,r=o.activators.map(c=>({eventName:c.eventName,handler:s(c.handler,a)}));return[...n,...r]},[]),[e,s])}var Pt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Pt||(Pt={}));var ms;(function(e){e.Optimized="optimized"})(ms||(ms={}));const Qs=new Map;function Jr(e,s){let{dragging:n,dependencies:a,config:o}=s;const[r,c]=d.useState(null),{frequency:l,measure:u,strategy:m}=o,h=d.useRef(e),f=g(),v=Rt(f),p=d.useCallback(function(y){y===void 0&&(y=[]),!v.current&&c(C=>C===null?y:C.concat(y.filter(w=>!C.includes(w))))},[v]),D=d.useRef(null),x=At(y=>{if(f&&!n)return Qs;if(!y||y===Qs||h.current!==e||r!=null){const C=new Map;for(let w of e){if(!w)continue;if(r&&r.length>0&&!r.includes(w.id)&&w.rect.current){C.set(w.id,w.rect.current);continue}const A=w.node.current,P=A?new ps(u(A),A):null;w.rect.current=P,P&&C.set(w.id,P)}return C}return y},[e,r,n,f,u]);return d.useEffect(()=>{h.current=e},[e]),d.useEffect(()=>{f||p()},[n,f]),d.useEffect(()=>{r&&r.length>0&&c(null)},[JSON.stringify(r)]),d.useEffect(()=>{f||typeof l!="number"||D.current!==null||(D.current=setTimeout(()=>{p(),D.current=null},l))},[l,f,p,...a]),{droppableRects:x,measureDroppableContainers:p,measuringScheduled:r!=null};function g(){switch(m){case Pt.Always:return!1;case Pt.BeforeDragging:return n;default:return!n}}}function ys(e,s){return At(n=>e?n||(typeof s=="function"?s(e):e):null,[s,e])}function Ur(e,s){return ys(e,s)}function Yr(e){let{callback:s,disabled:n}=e;const a=Ht(s),o=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:r}=window;return new r(a)},[a,n]);return d.useEffect(()=>()=>o?.disconnect(),[o]),o}function Qt(e){let{callback:s,disabled:n}=e;const a=Ht(s),o=d.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:r}=window;return new r(a)},[n]);return d.useEffect(()=>()=>o?.disconnect(),[o]),o}function Kr(e){return new ps(vt(e),e)}function Zs(e,s,n){s===void 0&&(s=Kr);const[a,o]=d.useState(null);function r(){o(u=>{if(!e)return null;if(e.isConnected===!1){var m;return(m=u??n)!=null?m:null}const h=s(e);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const c=Yr({callback(u){if(e)for(const m of u){const{type:h,target:f}=m;if(h==="childList"&&f instanceof HTMLElement&&f.contains(e)){r();break}}}}),l=Qt({callback:r});return Ce(()=>{r(),e?(l?.observe(e),c?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),c?.disconnect())},[e]),a}function Hr(e){const s=ys(e);return gn(e,s)}const en=[];function _r(e){const s=d.useRef(e),n=At(a=>e?a&&a!==en&&e&&s.current&&e.parentNode===s.current.parentNode?a:xs(e):en,[e]);return d.useEffect(()=>{s.current=e},[e]),n}function Qr(e){const[s,n]=d.useState(null),a=d.useRef(e),o=d.useCallback(r=>{const c=os(r.target);c&&n(l=>l?(l.set(c,ds(c)),new Map(l)):null)},[]);return d.useEffect(()=>{const r=a.current;if(e!==r){c(r);const l=e.map(u=>{const m=os(u);return m?(m.addEventListener("scroll",o,{passive:!0}),[m,ds(m)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),a.current=e}return()=>{c(e),c(r)};function c(l){l.forEach(u=>{const m=os(u);m?.removeEventListener("scroll",o)})}},[o,e]),d.useMemo(()=>e.length?s?Array.from(s.values()).reduce((r,c)=>gt(r,c),De):wn(e):De,[e,s])}function tn(e,s){s===void 0&&(s=[]);const n=d.useRef(null);return d.useEffect(()=>{n.current=null},s),d.useEffect(()=>{const a=e!==De;a&&!n.current&&(n.current=e),!a&&n.current&&(n.current=null)},[e]),n.current?Xt(e,n.current):De}function Zr(e){d.useEffect(()=>{if(!Kt)return;const s=e.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of s)n?.()}},e.map(s=>{let{sensor:n}=s;return n}))}function eo(e,s){return d.useMemo(()=>e.reduce((n,a)=>{let{eventName:o,handler:r}=a;return n[o]=c=>{r(c,s)},n},{}),[e,s])}function Sn(e){return d.useMemo(()=>e?Dr(e):null,[e])}const sn=[];function to(e,s){s===void 0&&(s=vt);const[n]=e,a=Sn(n?ee(n):null),[o,r]=d.useState(sn);function c(){r(()=>e.length?e.map(u=>yn(u)?a:new ps(s(u),u)):sn)}const l=Qt({callback:c});return Ce(()=>{l?.disconnect(),c(),e.forEach(u=>l?.observe(u))},[e]),o}function Rn(e){if(!e)return null;if(e.children.length>1)return e;const s=e.children[0];return Et(s)?s:e}function so(e){let{measure:s}=e;const[n,a]=d.useState(null),o=d.useCallback(m=>{for(const{target:h}of m)if(Et(h)){a(f=>{const v=s(h);return f?{...f,width:v.width,height:v.height}:v});break}},[s]),r=Qt({callback:o}),c=d.useCallback(m=>{const h=Rn(m);r?.disconnect(),h&&r?.observe(h),a(h?s(h):null)},[s,r]),[l,u]=qt(c);return d.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const no=[{sensor:bs,options:{}},{sensor:Dn,options:{}}],ao={current:{}},Vt={draggable:{measure:Ys},droppable:{measure:Ys,strategy:Pt.WhileDragging,frequency:ms.Optimized},dragOverlay:{measure:vt}};class St extends Map{get(s){var n;return s!=null&&(n=super.get(s))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(s=>{let{disabled:n}=s;return!n})}getNodeFor(s){var n,a;return(n=(a=this.get(s))==null?void 0:a.node.current)!=null?n:void 0}}const ro={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new St,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ut},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Vt,measureDroppableContainers:Ut,windowRect:null,measuringScheduled:!1},Pn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ut,draggableNodes:new Map,over:null,measureDroppableContainers:Ut},kt=d.createContext(Pn),En=d.createContext(ro);function oo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new St}}}function lo(e,s){switch(s.type){case W.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:s.initialCoordinates,active:s.active}};case W.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:s.coordinates.x-e.draggable.initialCoordinates.x,y:s.coordinates.y-e.draggable.initialCoordinates.y}}};case W.DragEnd:case W.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case W.RegisterDroppable:{const{element:n}=s,{id:a}=n,o=new St(e.droppable.containers);return o.set(a,n),{...e,droppable:{...e.droppable,containers:o}}}case W.SetDroppableDisabled:{const{id:n,key:a,disabled:o}=s,r=e.droppable.containers.get(n);if(!r||a!==r.key)return e;const c=new St(e.droppable.containers);return c.set(n,{...r,disabled:o}),{...e,droppable:{...e.droppable,containers:c}}}case W.UnregisterDroppable:{const{id:n,key:a}=s,o=e.droppable.containers.get(n);if(!o||a!==o.key)return e;const r=new St(e.droppable.containers);return r.delete(n),{...e,droppable:{...e.droppable,containers:r}}}default:return e}}function io(e){let{disabled:s}=e;const{active:n,activatorEvent:a,draggableNodes:o}=d.useContext(kt),r=Wt(a),c=Wt(n?.id);return d.useEffect(()=>{if(!s&&!a&&r&&c!=null){if(!_t(r)||document.activeElement===r.target)return;const l=o.get(c);if(!l)return;const{activatorNode:u,node:m}=l;if(!u.current&&!m.current)return;requestAnimationFrame(()=>{for(const h of[u.current,m.current]){if(!h)continue;const f=er(h);if(f){f.focus();break}}})}},[a,s,o,c,r]),null}function An(e,s){let{transform:n,...a}=s;return e!=null&&e.length?e.reduce((o,r)=>r({transform:o,...a}),n):n}function co(e){return d.useMemo(()=>({draggable:{...Vt.draggable,...e?.draggable},droppable:{...Vt.droppable,...e?.droppable},dragOverlay:{...Vt.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function uo(e){let{activeNode:s,measure:n,initialRect:a,config:o=!0}=e;const r=d.useRef(!1),{x:c,y:l}=typeof o=="boolean"?{x:o,y:o}:o;Ce(()=>{if(!c&&!l||!s){r.current=!1;return}if(r.current||!a)return;const m=s?.node.current;if(!m||m.isConnected===!1)return;const h=n(m),f=gn(h,a);if(c||(f.x=0),l||(f.y=0),r.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const v=pn(m);v&&v.scrollBy({top:f.y,left:f.x})}},[s,c,l,a,n])}const Zt=d.createContext({...De,scaleX:1,scaleY:1});var Ze;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ze||(Ze={}));const mo=d.memo(function(s){var n,a,o,r;let{id:c,accessibility:l,autoScroll:u=!0,children:m,sensors:h=no,collisionDetection:f=br,measuring:v,modifiers:p,...D}=s;const x=d.useReducer(lo,void 0,oo),[g,y]=x,[C,w]=or(),[A,P]=d.useState(Ze.Uninitialized),T=A===Ze.Initialized,{draggable:{active:N,nodes:E,translate:$},droppable:{containers:F}}=g,I=N!=null?E.get(N):null,re=d.useRef({initial:null,translated:null}),K=d.useMemo(()=>{var B;return N!=null?{id:N,data:(B=I?.data)!=null?B:ao,rect:re}:null},[N,I]),de=d.useRef(null),[$e,oe]=d.useState(null),[H,G]=d.useState(null),ue=Rt(D,Object.values(D)),We=Tt("DndDescribedBy",c),Xe=d.useMemo(()=>F.getEnabled(),[F]),V=co(v),{droppableRects:ye,measureDroppableContainers:ze,measuringScheduled:Se}=Jr(Xe,{dragging:T,dependencies:[$.x,$.y],config:V.droppable}),U=Wr(E,N),Je=d.useMemo(()=>H?Jt(H):null,[H]),me=ct(),te=Ur(U,V.draggable.measure);uo({activeNode:N!=null?E.get(N):null,config:me.layoutShiftCompensation,initialRect:te,measure:V.draggable.measure});const k=Zs(U,V.draggable.measure,te),Ue=Zs(U?U.parentElement:null),he=d.useRef({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:ye,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),le=F.getNodeFor((n=he.current.over)==null?void 0:n.id),_=so({measure:V.dragOverlay.measure}),fe=(a=_.nodeRef.current)!=null?a:U,Re=T?(o=_.rect)!=null?o:k:null,Fe=!!(_.nodeRef.current&&_.rect),Mt=Hr(Fe?null:k),Pe=Sn(fe?ee(fe):null),Ee=_r(T?le??U:null),ie=to(Ee),Be=An(p,{transform:{x:$.x-Mt.x,y:$.y-Mt.y,scaleX:1,scaleY:1},activatorEvent:H,active:K,activeNodeRect:k,containerNodeRect:Ue,draggingNodeRect:Re,over:he.current.over,overlayNodeRect:_.rect,scrollableAncestors:Ee,scrollableAncestorRects:ie,windowRect:Pe}),ce=Je?gt(Je,$):null,Ye=Qr(Ee),es=tn(Ye),et=tn(Ye,[k]),Ae=gt(Be,es),Te=Re?wr(Re,Be):null,je=K&&Te?f({active:K,collisionRect:Te,droppableRects:ye,droppableContainers:Xe,pointerCoordinates:ce}):null,tt=xr(je,"id"),[ge,st]=d.useState(null),nt=Fe?Be:gt(Be,et),bt=yr(nt,(r=ge?.rect)!=null?r:null,k),Ke=d.useRef(null),at=d.useCallback((B,Q)=>{let{sensor:Y,options:ke}=Q;if(de.current==null)return;const se=E.get(de.current);if(!se)return;const X=B.nativeEvent,pe=new Y({active:de.current,activeNode:se,event:X,options:ke,context:he,onAbort(q){if(!E.get(q))return;const{onDragAbort:ve}=ue.current,Ne={id:q};ve?.(Ne),C({type:"onDragAbort",event:Ne})},onPending(q,we,ve,Ne){if(!E.get(q))return;const{onDragPending:lt}=ue.current,Me={id:q,constraint:we,initialCoordinates:ve,offset:Ne};lt?.(Me),C({type:"onDragPending",event:Me})},onStart(q){const we=de.current;if(we==null)return;const ve=E.get(we);if(!ve)return;const{onDragStart:Ne}=ue.current,ot={activatorEvent:X,active:{id:we,data:ve.data,rect:re}};wt.unstable_batchedUpdates(()=>{Ne?.(ot),P(Ze.Initializing),y({type:W.DragStart,initialCoordinates:q,active:we}),C({type:"onDragStart",event:ot}),oe(Ke.current),G(X)})},onMove(q){y({type:W.DragMove,coordinates:q})},onEnd:Ge(W.DragEnd),onCancel:Ge(W.DragCancel)});Ke.current=pe;function Ge(q){return async function(){const{active:ve,collisions:Ne,over:ot,scrollAdjustedTranslate:lt}=he.current;let Me=null;if(ve&&lt){const{cancelDrop:it}=ue.current;Me={activatorEvent:X,active:ve,collisions:Ne,delta:lt,over:ot},q===W.DragEnd&&typeof it=="function"&&await Promise.resolve(it(Me))&&(q=W.DragCancel)}de.current=null,wt.unstable_batchedUpdates(()=>{y({type:q}),P(Ze.Uninitialized),st(null),oe(null),G(null),Ke.current=null;const it=q===W.DragEnd?"onDragEnd":"onDragCancel";if(Me){const jt=ue.current[it];jt?.(Me),C({type:it,event:Me})}})}}},[E]),ts=d.useCallback((B,Q)=>(Y,ke)=>{const se=Y.nativeEvent,X=E.get(ke);if(de.current!==null||!X||se.dndKit||se.defaultPrevented)return;const pe={active:X};B(Y,Q.options,pe)===!0&&(se.dndKit={capturedBy:Q.sensor},de.current=ke,at(Y,Q))},[E,at]),rt=Xr(h,ts);Zr(h),Ce(()=>{k&&A===Ze.Initializing&&P(Ze.Initialized)},[k,A]),d.useEffect(()=>{const{onDragMove:B}=ue.current,{active:Q,activatorEvent:Y,collisions:ke,over:se}=he.current;if(!Q||!Y)return;const X={active:Q,activatorEvent:Y,collisions:ke,delta:{x:Ae.x,y:Ae.y},over:se};wt.unstable_batchedUpdates(()=>{B?.(X),C({type:"onDragMove",event:X})})},[Ae.x,Ae.y]),d.useEffect(()=>{const{active:B,activatorEvent:Q,collisions:Y,droppableContainers:ke,scrollAdjustedTranslate:se}=he.current;if(!B||de.current==null||!Q||!se)return;const{onDragOver:X}=ue.current,pe=ke.get(tt),Ge=pe&&pe.rect.current?{id:pe.id,rect:pe.rect.current,data:pe.data,disabled:pe.disabled}:null,q={active:B,activatorEvent:Q,collisions:Y,delta:{x:se.x,y:se.y},over:Ge};wt.unstable_batchedUpdates(()=>{st(Ge),X?.(q),C({type:"onDragOver",event:q})})},[tt]),Ce(()=>{he.current={activatorEvent:H,active:K,activeNode:U,collisionRect:Te,collisions:je,droppableRects:ye,draggableNodes:E,draggingNode:fe,draggingNodeRect:Re,droppableContainers:F,over:ge,scrollableAncestors:Ee,scrollAdjustedTranslate:Ae},re.current={initial:Re,translated:Te}},[K,U,je,Te,E,fe,Re,ye,F,ge,Ee,Ae]),Gr({...me,delta:$,draggingRect:Te,pointerCoordinates:ce,scrollableAncestors:Ee,scrollableAncestorRects:ie});const xe=d.useMemo(()=>({active:K,activeNode:U,activeNodeRect:k,activatorEvent:H,collisions:je,containerNodeRect:Ue,dragOverlay:_,draggableNodes:E,droppableContainers:F,droppableRects:ye,over:ge,measureDroppableContainers:ze,scrollableAncestors:Ee,scrollableAncestorRects:ie,measuringConfiguration:V,measuringScheduled:Se,windowRect:Pe}),[K,U,k,H,je,Ue,_,E,F,ye,ge,ze,Ee,ie,V,Se,Pe]),yt=d.useMemo(()=>({activatorEvent:H,activators:rt,active:K,activeNodeRect:k,ariaDescribedById:{draggable:We},dispatch:y,draggableNodes:E,over:ge,measureDroppableContainers:ze}),[H,rt,K,k,y,We,E,ge,ze]);return z.createElement(fn.Provider,{value:w},z.createElement(kt.Provider,{value:yt},z.createElement(En.Provider,{value:xe},z.createElement(Zt.Provider,{value:bt},m)),z.createElement(io,{disabled:l?.restoreFocus===!1})),z.createElement(cr,{...l,hiddenTextDescribedById:We}));function ct(){const B=$e?.autoScrollEnabled===!1,Q=typeof u=="object"?u.enabled===!1:u===!1,Y=T&&!B&&!Q;return typeof u=="object"?{...u,enabled:Y}:{enabled:Y}}}),ho=d.createContext(null),nn="button",fo="Draggable";function go(e){let{id:s,data:n,disabled:a=!1,attributes:o}=e;const r=Tt(fo),{activators:c,activatorEvent:l,active:u,activeNodeRect:m,ariaDescribedById:h,draggableNodes:f,over:v}=d.useContext(kt),{role:p=nn,roleDescription:D="draggable",tabIndex:x=0}=o??{},g=u?.id===s,y=d.useContext(g?Zt:ho),[C,w]=qt(),[A,P]=qt(),T=eo(c,s),N=Rt(n);Ce(()=>(f.set(s,{id:s,key:r,node:C,activatorNode:A,data:N}),()=>{const $=f.get(s);$&&$.key===r&&f.delete(s)}),[f,s]);const E=d.useMemo(()=>({role:p,tabIndex:x,"aria-disabled":a,"aria-pressed":g&&p===nn?!0:void 0,"aria-roledescription":D,"aria-describedby":h.draggable}),[a,p,x,g,D,h.draggable]);return{active:u,activatorEvent:l,activeNodeRect:m,attributes:E,isDragging:g,listeners:a?void 0:T,node:C,over:v,setNodeRef:w,setActivatorNodeRef:P,transform:y}}function Tn(){return d.useContext(En)}const xo="Droppable",po={timeout:25};function kn(e){let{data:s,disabled:n=!1,id:a,resizeObserverConfig:o}=e;const r=Tt(xo),{active:c,dispatch:l,over:u,measureDroppableContainers:m}=d.useContext(kt),h=d.useRef({disabled:n}),f=d.useRef(!1),v=d.useRef(null),p=d.useRef(null),{disabled:D,updateMeasurementsFor:x,timeout:g}={...po,...o},y=Rt(x??a),C=d.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{m(Array.isArray(y.current)?y.current:[y.current]),p.current=null},g)},[g]),w=Qt({callback:C,disabled:D||!c}),A=d.useCallback((E,$)=>{w&&($&&(w.unobserve($),f.current=!1),E&&w.observe(E))},[w]),[P,T]=qt(A),N=Rt(s);return d.useEffect(()=>{!w||!P.current||(w.disconnect(),f.current=!1,w.observe(P.current))},[P,w]),d.useEffect(()=>(l({type:W.RegisterDroppable,element:{id:a,key:r,disabled:n,node:P,rect:v,data:N}}),()=>l({type:W.UnregisterDroppable,key:r,id:a})),[a]),d.useEffect(()=>{n!==h.current.disabled&&(l({type:W.SetDroppableDisabled,id:a,key:r,disabled:n}),h.current.disabled=n)},[a,r,n,l]),{active:c,rect:v,isOver:u?.id===a,node:P,over:u,setNodeRef:T}}function vo(e){let{animation:s,children:n}=e;const[a,o]=d.useState(null),[r,c]=d.useState(null),l=Wt(n);return!n&&!a&&l&&o(l),Ce(()=>{if(!r)return;const u=a?.key,m=a?.props.id;if(u==null||m==null){o(null);return}Promise.resolve(s(m,r)).then(()=>{o(null)})},[s,a,r]),z.createElement(z.Fragment,null,n,a?d.cloneElement(a,{ref:c}):null)}const bo={x:0,y:0,scaleX:1,scaleY:1};function yo(e){let{children:s}=e;return z.createElement(kt.Provider,{value:Pn},z.createElement(Zt.Provider,{value:bo},s))}const jo={position:"fixed",touchAction:"none"},wo=e=>_t(e)?"transform 250ms ease":void 0,No=d.forwardRef((e,s)=>{let{as:n,activatorEvent:a,adjustScale:o,children:r,className:c,rect:l,style:u,transform:m,transition:h=wo}=e;if(!l)return null;const f=o?m:{...m,scaleX:1,scaleY:1},v={...jo,width:l.width,height:l.height,top:l.top,left:l.left,transform:qe.Transform.toString(f),transformOrigin:o&&a?hr(a,l):void 0,transition:typeof h=="function"?h(a):h,...u};return z.createElement(n,{className:c,style:v,ref:s},r)}),Co=e=>s=>{let{active:n,dragOverlay:a}=s;const o={},{styles:r,className:c}=e;if(r!=null&&r.active)for(const[l,u]of Object.entries(r.active))u!==void 0&&(o[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(r!=null&&r.dragOverlay)for(const[l,u]of Object.entries(r.dragOverlay))u!==void 0&&a.node.style.setProperty(l,u);return c!=null&&c.active&&n.node.classList.add(c.active),c!=null&&c.dragOverlay&&a.node.classList.add(c.dragOverlay),function(){for(const[u,m]of Object.entries(o))n.node.style.setProperty(u,m);c!=null&&c.active&&n.node.classList.remove(c.active)}},Do=e=>{let{transform:{initial:s,final:n}}=e;return[{transform:qe.Transform.toString(s)},{transform:qe.Transform.toString(n)}]},So={duration:250,easing:"ease",keyframes:Do,sideEffects:Co({styles:{active:{opacity:"0"}}})};function Ro(e){let{config:s,draggableNodes:n,droppableContainers:a,measuringConfiguration:o}=e;return Ht((r,c)=>{if(s===null)return;const l=n.get(r);if(!l)return;const u=l.node.current;if(!u)return;const m=Rn(c);if(!m)return;const{transform:h}=ee(c).getComputedStyle(c),f=xn(h);if(!f)return;const v=typeof s=="function"?s:Po(s);return Nn(u,o.draggable.measure),v({active:{id:r,data:l.data,node:u,rect:o.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:c,rect:o.dragOverlay.measure(m)},droppableContainers:a,measuringConfiguration:o,transform:f})})}function Po(e){const{duration:s,easing:n,sideEffects:a,keyframes:o}={...So,...e};return r=>{let{active:c,dragOverlay:l,transform:u,...m}=r;if(!s)return;const h={x:l.rect.left-c.rect.left,y:l.rect.top-c.rect.top},f={scaleX:u.scaleX!==1?c.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?c.rect.height*u.scaleY/l.rect.height:1},v={x:u.x-h.x,y:u.y-h.y,...f},p=o({...m,active:c,dragOverlay:l,transform:{initial:u,final:v}}),[D]=p,x=p[p.length-1];if(JSON.stringify(D)===JSON.stringify(x))return;const g=a?.({active:c,dragOverlay:l,...m}),y=l.node.animate(p,{duration:s,easing:n,fill:"forwards"});return new Promise(C=>{y.onfinish=()=>{g?.(),C()}})}}let an=0;function Eo(e){return d.useMemo(()=>{if(e!=null)return an++,an},[e])}const Ao=z.memo(e=>{let{adjustScale:s=!1,children:n,dropAnimation:a,style:o,transition:r,modifiers:c,wrapperElement:l="div",className:u,zIndex:m=999}=e;const{activatorEvent:h,active:f,activeNodeRect:v,containerNodeRect:p,draggableNodes:D,droppableContainers:x,dragOverlay:g,over:y,measuringConfiguration:C,scrollableAncestors:w,scrollableAncestorRects:A,windowRect:P}=Tn(),T=d.useContext(Zt),N=Eo(f?.id),E=An(c,{activatorEvent:h,active:f,activeNodeRect:v,containerNodeRect:p,draggingNodeRect:g.rect,over:y,overlayNodeRect:g.rect,scrollableAncestors:w,scrollableAncestorRects:A,transform:T,windowRect:P}),$=ys(v),F=Ro({config:a,draggableNodes:D,droppableContainers:x,measuringConfiguration:C}),I=$?g.setRef:void 0;return z.createElement(yo,null,z.createElement(vo,{animation:F},f&&N?z.createElement(No,{key:N,id:f.id,ref:I,as:l,activatorEvent:h,adjustScale:s,className:u,transition:r,rect:$,style:{zIndex:m,...o},transform:E},n):null))});function js(e,s,n){const a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(s,1)[0]),a}function To(e,s){return e.reduce((n,a,o)=>{const r=s.get(a);return r&&(n[o]=r),n},Array(e.length))}function Ft(e){return e!==null&&e>=0}function ko(e,s){if(e===s)return!0;if(e.length!==s.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==s[n])return!1;return!0}function Mo(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Bt={scaleX:1,scaleY:1},Lo=e=>{var s;let{rects:n,activeNodeRect:a,activeIndex:o,overIndex:r,index:c}=e;const l=(s=n[o])!=null?s:a;if(!l)return null;const u=Io(n,c,o);if(c===o){const m=n[r];return m?{x:o<r?m.left+m.width-(l.left+l.width):m.left-l.left,y:0,...Bt}:null}return c>o&&c<=r?{x:-l.width-u,y:0,...Bt}:c<o&&c>=r?{x:l.width+u,y:0,...Bt}:{x:0,y:0,...Bt}};function Io(e,s,n){const a=e[s],o=e[s-1],r=e[s+1];return!a||!o&&!r?0:n<s?o?a.left-(o.left+o.width):r.left-(a.left+a.width):r?r.left-(a.left+a.width):a.left-(o.left+o.width)}const Mn=e=>{let{rects:s,activeIndex:n,overIndex:a,index:o}=e;const r=js(s,a,n),c=s[o],l=r[o];return!l||!c?null:{x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height}},Gt={scaleX:1,scaleY:1},Oo=e=>{var s;let{activeIndex:n,activeNodeRect:a,index:o,rects:r,overIndex:c}=e;const l=(s=r[n])!=null?s:a;if(!l)return null;if(o===n){const m=r[c];return m?{x:0,y:n<c?m.top+m.height-(l.top+l.height):m.top-l.top,...Gt}:null}const u=$o(r,o,n);return o>n&&o<=c?{x:0,y:-l.height-u,...Gt}:o<n&&o>=c?{x:0,y:l.height+u,...Gt}:{x:0,y:0,...Gt}};function $o(e,s,n){const a=e[s],o=e[s-1],r=e[s+1];return a?n<s?o?a.top-(o.top+o.height):r?r.top-(a.top+a.height):0:r?r.top-(a.top+a.height):o?a.top-(o.top+o.height):0:0}const Ln="Sortable",In=z.createContext({activeIndex:-1,containerId:Ln,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mn,disabled:{draggable:!1,droppable:!1}});function On(e){let{children:s,id:n,items:a,strategy:o=Mn,disabled:r=!1}=e;const{active:c,dragOverlay:l,droppableRects:u,over:m,measureDroppableContainers:h}=Tn(),f=Tt(Ln,n),v=l.rect!==null,p=d.useMemo(()=>a.map(T=>typeof T=="object"&&"id"in T?T.id:T),[a]),D=c!=null,x=c?p.indexOf(c.id):-1,g=m?p.indexOf(m.id):-1,y=d.useRef(p),C=!ko(p,y.current),w=g!==-1&&x===-1||C,A=Mo(r);Ce(()=>{C&&D&&h(p)},[C,p,D,h]),d.useEffect(()=>{y.current=p},[p]);const P=d.useMemo(()=>({activeIndex:x,containerId:f,disabled:A,disableTransforms:w,items:p,overIndex:g,useDragOverlay:v,sortedRects:To(p,u),strategy:o}),[x,f,A.draggable,A.droppable,w,p,g,u,v,o]);return z.createElement(In.Provider,{value:P},s)}const zo=e=>{let{id:s,items:n,activeIndex:a,overIndex:o}=e;return js(n,a,o).indexOf(s)},Fo=e=>{let{containerId:s,isSorting:n,wasDragging:a,index:o,items:r,newIndex:c,previousItems:l,previousContainerId:u,transition:m}=e;return!m||!a||l!==r&&o===c?!1:n?!0:c!==o&&s===u},Bo={duration:200,easing:"ease"},$n="transform",Go=qe.Transition.toString({property:$n,duration:0,easing:"linear"}),Vo={roleDescription:"sortable"};function qo(e){let{disabled:s,index:n,node:a,rect:o}=e;const[r,c]=d.useState(null),l=d.useRef(n);return Ce(()=>{if(!s&&n!==l.current&&a.current){const u=o.current;if(u){const m=vt(a.current,{ignoreTransform:!0}),h={x:u.left-m.left,y:u.top-m.top,scaleX:u.width/m.width,scaleY:u.height/m.height};(h.x||h.y)&&c(h)}}n!==l.current&&(l.current=n)},[s,n,a,o]),d.useEffect(()=>{r&&c(null)},[r]),r}function zn(e){let{animateLayoutChanges:s=Fo,attributes:n,disabled:a,data:o,getNewIndex:r=zo,id:c,strategy:l,resizeObserverConfig:u,transition:m=Bo}=e;const{items:h,containerId:f,activeIndex:v,disabled:p,disableTransforms:D,sortedRects:x,overIndex:g,useDragOverlay:y,strategy:C}=d.useContext(In),w=Wo(a,p),A=h.indexOf(c),P=d.useMemo(()=>({sortable:{containerId:f,index:A,items:h},...o}),[f,o,A,h]),T=d.useMemo(()=>h.slice(h.indexOf(c)),[h,c]),{rect:N,node:E,isOver:$,setNodeRef:F}=kn({id:c,data:P,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...u}}),{active:I,activatorEvent:re,activeNodeRect:K,attributes:de,setNodeRef:$e,listeners:oe,isDragging:H,over:G,setActivatorNodeRef:ue,transform:We}=go({id:c,data:P,attributes:{...Vo,...n},disabled:w.draggable}),Xe=Ha(F,$e),V=!!I,ye=V&&!D&&Ft(v)&&Ft(g),ze=!y&&H,Se=ze&&ye?We:null,Je=ye?Se??(l??C)({rects:x,activeNodeRect:K,activeIndex:v,overIndex:g,index:A}):null,me=Ft(v)&&Ft(g)?r({id:c,items:h,activeIndex:v,overIndex:g}):A,te=I?.id,k=d.useRef({activeId:te,items:h,newIndex:me,containerId:f}),Ue=h!==k.current.items,he=s({active:I,containerId:f,isDragging:H,isSorting:V,id:c,index:A,items:h,newIndex:k.current.newIndex,previousItems:k.current.items,previousContainerId:k.current.containerId,transition:m,wasDragging:k.current.activeId!=null}),le=qo({disabled:!he,index:A,node:E,rect:N});return d.useEffect(()=>{V&&k.current.newIndex!==me&&(k.current.newIndex=me),f!==k.current.containerId&&(k.current.containerId=f),h!==k.current.items&&(k.current.items=h)},[V,me,f,h]),d.useEffect(()=>{if(te===k.current.activeId)return;if(te!=null&&k.current.activeId==null){k.current.activeId=te;return}const fe=setTimeout(()=>{k.current.activeId=te},50);return()=>clearTimeout(fe)},[te]),{active:I,activeIndex:v,attributes:de,data:P,rect:N,index:A,newIndex:me,items:h,isOver:$,isSorting:V,isDragging:H,listeners:oe,node:E,overIndex:g,over:G,setNodeRef:Xe,setActivatorNodeRef:ue,setDroppableNodeRef:F,setDraggableNodeRef:$e,transform:le??Je,transition:_()};function _(){if(le||Ue&&k.current.newIndex===A)return Go;if(!(ze&&!_t(re)||!m)&&(V||he))return qe.Transition.toString({...m,property:$n})}}function Wo(e,s){var n,a;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:s.draggable,droppable:(a=e?.droppable)!=null?a:s.droppable}}L.Down,L.Right,L.Up,L.Left;const ft=[{id:1,name:"Hospedagem Florescer Idosos",client:"Florescer",clientCNPJ:"12.345.678/0001-90",agency:"Lamego Academy",consultant:"Equipe Lamego",consultantEmail:"contato@lamego.com.vc",type:"Marketing Digital",status:"awaiting-payment",progress:65,budget:15e3,spent:9750,createdDate:"19/02/2025",startDate:"2024-01-15",deadline:"2024-03-30",team:5,nomades:["Ana Santos","Carlos Lima"],bitrixSync:!1,portfolioPermission:!1,overdue:!1,value:15e3,fromLead:!0},{id:2,name:"Redesign Website Startup ABC",client:"Startup ABC",clientCNPJ:"98.765.432/0001-10",agency:"Design Studio",consultant:"Maria Designer",consultantEmail:"maria@designstudio.com",type:"Desenvolvimento Web",status:"in-progress",progress:45,budget:25e3,spent:11250,createdDate:"15/01/2025",startDate:"2024-02-01",deadline:"2024-05-15",team:3,nomades:["Maria Silva","Jo√£o Dev"],bitrixSync:!0,portfolioPermission:!0,overdue:!1,value:25e3,fromLead:!1},{id:3,name:"Identidade Visual FoodCorp",client:"FoodCorp",clientCNPJ:"11.222.333/0001-44",agency:"Creative Partners",consultant:"Pedro Criativo",consultantEmail:"pedro@creative.com",type:"Design",status:"completed",progress:100,budget:8e3,spent:7800,createdDate:"10/12/2024",startDate:"2023-12-10",deadline:"2024-01-20",team:2,nomades:["Ana Santos"],bitrixSync:!0,portfolioPermission:!1,overdue:!1,value:8e3,fromLead:!0},{id:4,name:"Campanha Lan√ßamento Produto XYZ",client:"Tech Innovations",clientCNPJ:"22.333.444/0001-55",agency:"Marketing Pro",consultant:"Lucas Marketing",consultantEmail:"lucas@marketingpro.com",type:"Marketing Digital",status:"negotiation",progress:20,budget:32e3,spent:6400,createdDate:"05/02/2025",startDate:"2024-03-01",deadline:"2024-06-30",team:4,nomades:["Carlos Lima","Ana Santos"],bitrixSync:!0,portfolioPermission:!0,overdue:!1,value:32e3,fromLead:!0},{id:5,name:"E-commerce Loja Virtual Fashion Style Boutique",client:"Fashion Style",clientCNPJ:"33.444.555/0001-66",agency:"WebDev Solutions",consultant:"Fernanda Tech",consultantEmail:"fernanda@webdev.com",type:"E-commerce",status:"draft",progress:5,budget:45e3,spent:2250,createdDate:"01/02/2025",startDate:"2024-04-01",deadline:"2024-08-15",team:6,nomades:["Jo√£o Dev","Maria Silva","Pedro Criativo"],bitrixSync:!1,portfolioPermission:!1,overdue:!1,value:45e3,fromLead:!1},{id:6,name:"App Mobile Delivery Express",client:"Delivery Express",clientCNPJ:"44.555.666/0001-77",agency:"Mobile Masters",consultant:"Ricardo Apps",consultantEmail:"ricardo@mobilemasters.com",type:"Desenvolvimento Mobile",status:"in-progress",progress:70,budget:62e3,spent:43400,createdDate:"20/12/2024",startDate:"2023-11-15",deadline:"2024-04-30",team:7,nomades:["Ana Santos","Jo√£o Dev","Carlos Lima"],bitrixSync:!0,portfolioPermission:!0,overdue:!1,value:62e3,fromLead:!0},{id:7,name:"Sistema CRM Empresarial",client:"Corpora√ß√£o Global",clientCNPJ:"55.666.777/0001-88",agency:"Enterprise Software",consultant:"Beatriz Systems",consultantEmail:"beatriz@enterprise.com",type:"Desenvolvimento Web",status:"awaiting-payment",progress:90,budget:78e3,spent:70200,createdDate:"15/11/2024",startDate:"2023-10-01",deadline:"2024-02-28",team:8,nomades:["Maria Silva","Pedro Criativo","Jo√£o Dev"],bitrixSync:!0,portfolioPermission:!1,overdue:!0,value:78e3,fromLead:!1},{id:8,name:"Consultoria SEO Avan√ßada",client:"Digital Ventures",clientCNPJ:"66.777.888/0001-99",agency:"SEO Masters",consultant:"Gabriel SEO",consultantEmail:"gabriel@seomasters.com",type:"Consultoria",status:"in-progress",progress:15,budget:18e3,spent:2700,createdDate:"10/02/2025",startDate:"2024-03-15",deadline:"2024-05-30",team:2,nomades:["Ana Santos"],bitrixSync:!1,portfolioPermission:!0,overdue:!1,value:18e3,fromLead:!0},{id:9,name:"Plataforma de Cursos Online",client:"EduTech Brasil",clientCNPJ:"77.888.999/0001-01",agency:"Learning Solutions",consultant:"Amanda Educa√ß√£o",consultantEmail:"amanda@learning.com",type:"Desenvolvimento Web",status:"in-progress",progress:55,budget:48e3,spent:26400,createdDate:"25/01/2025",startDate:"2024-02-10",deadline:"2024-06-20",team:5,nomades:["Jo√£o Dev","Maria Silva"],bitrixSync:!0,portfolioPermission:!0,overdue:!1,value:48e3,fromLead:!0},{id:10,name:"App Fitness Tracker Premium",client:"Health & Wellness Co",clientCNPJ:"88.999.000/0001-12",agency:"Fitness Apps",consultant:"Roberto Health",consultantEmail:"roberto@fitnessapps.com",type:"Desenvolvimento Mobile",status:"in-progress",progress:38,budget:35e3,spent:13300,createdDate:"18/01/2025",startDate:"2024-01-25",deadline:"2024-05-05",team:4,nomades:["Carlos Lima","Ana Santos"],bitrixSync:!0,portfolioPermission:!1,overdue:!1,value:35e3,fromLead:!1},{id:11,name:"Sistema de Gest√£o Hospitalar",client:"Hospital S√£o Lucas",clientCNPJ:"99.000.111/0001-23",agency:"Healthcare Systems",consultant:"Dra. Patricia Tech",consultantEmail:"patricia@healthcare.com",type:"Desenvolvimento Web",status:"in-progress",progress:72,budget:95e3,spent:68400,createdDate:"05/12/2024",startDate:"2023-11-01",deadline:"2024-04-15",team:9,nomades:["Jo√£o Dev","Maria Silva","Pedro Criativo"],bitrixSync:!0,portfolioPermission:!0,overdue:!1,value:95e3,fromLead:!0},{id:12,name:"Portal de Not√≠cias Regional",client:"Jornal Cidade Nova",clientCNPJ:"00.111.222/0001-34",agency:"Media Digital",consultant:"Juliana Jornalismo",consultantEmail:"juliana@mediadigital.com",type:"Desenvolvimento Web",status:"in-progress",progress:50,budget:28e3,spent:14e3,createdDate:"12/01/2025",startDate:"2024-02-05",deadline:"2024-05-25",team:3,nomades:["Ana Santos"],bitrixSync:!1,portfolioPermission:!0,overdue:!1,value:28e3,fromLead:!0}],Xo=ft;function Cl(){const[e,s]=d.useState(""),[n,a]=d.useState("all"),[o,r]=d.useState("all"),[c,l]=d.useState("all"),[u,m]=d.useState("all"),[h,f]=d.useState("all"),[v,p]=d.useState("all"),[D,x]=d.useState("all"),[g,y]=d.useState("all"),[C,w]=d.useState(!1),[A,P]=d.useState(null),[T,N]=d.useState(!1),[E,$]=d.useState("view"),[F,I]=d.useState(!1),[re,K]=d.useState(!1),[de,$e]=d.useState(null),[oe,H]=d.useState("accordion"),[G,ue]=d.useState(void 0),[We,Xe]=d.useState(1),[V,ye]=d.useState(20),[ze,Se]=d.useState(!1),[U,Je]=d.useState(null),[me,te]=d.useState(""),[k,Ue]=d.useState(!1),[he,le]=d.useState(!1),[_,fe]=d.useState(null),[Re,Fe]=d.useState(1),[Mt,Pe]=d.useState(""),{toast:Ee}=Ea(),[ie,Be]=d.useState([{id:"draft",label:"Rascunho",color:"bg-gray-800",count:0},{id:"negotiation",label:"Negocia√ß√£o",color:"bg-yellow-500",count:0},{id:"awaiting-payment",label:"Aguardando Pagamento",color:"bg-orange-500",count:0},{id:"planning",label:"Planejamento",color:"bg-blue-500",count:0},{id:"in-progress",label:"Em Andamento",color:"bg-purple-500",count:0},{id:"completed",label:"Conclu√≠do",color:"bg-green-500",count:0},{id:"cancelled",color:"bg-red-500",count:0}]),[ce,Ye]=d.useState(Xo),[es,et]=d.useState(!1),[Ae,Te]=d.useState(null),[je,tt]=d.useState(""),[ge,st]=d.useState("bg-blue-500"),[nt,bt]=d.useState(null),[Ke,at]=d.useState(null),[ts,rt]=d.useState(!1),[xe,yt]=d.useState(null),[ct,B]=d.useState(""),Q=ur(dr(bs,{activationConstraint:{distance:8}})),Y=i=>{if(!G?.from||!G?.to)return!0;try{const[b,R,O]=i.split("/").map(Number),ne=new Date(O,R-1,b);return ne>=G.from&&ne<=G.to}catch{return!0}},ke=d.useMemo(()=>Array.from(new Set(ft.map(i=>i.client))).sort(),[]),se=d.useMemo(()=>Array.from(new Set(ft.map(i=>i.agency))).sort(),[]),X=d.useMemo(()=>ce.filter(i=>{const b=e===""||i.name.toLowerCase().includes(e.toLowerCase())||i.client.toLowerCase().includes(e.toLowerCase())||i.agency.toLowerCase().includes(e.toLowerCase()),R=n==="all"||i.status===n,O=o==="all"||i.type===o,ne=u==="all"||i.client===u,Ve=h==="all"||i.agency===h,Z=v==="all"||v==="0-5000"&&i.value<=5e3||v==="5000-15000"&&i.value>5e3&&i.value<=15e3||v==="15000-50000"&&i.value>15e3&&i.value<=5e4||v==="50000+"&&i.value>5e4,Le=c==="all"||c==="paid"&&!i.overdue||c==="overdue"&&i.overdue,Lt=g==="all"||g==="lead"&&i.fromLead||g==="non-lead"&&!i.fromLead,Ie=Y(i.createdDate);return b&&R&&O&&ne&&Ve&&Z&&Le&&Lt&&Ie}),[ce,e,n,o,u,h,v,c,g,G]),pe=()=>{s(""),a("all"),r("all"),l("all"),m("all"),f("all"),p("all"),x("all"),y("all"),Xe(1)},Ge=X.length,q=Math.ceil(Ge/V),we=(We-1)*V,ve=we+V,Ne=X.slice(we,ve),ot=i=>{ye(i),Xe(1)},lt=[{label:"Cinza",value:"bg-gray-800"},{label:"Vermelho",value:"bg-red-500"},{label:"Laranja",value:"bg-orange-500"},{label:"Amarelo",value:"bg-yellow-500"},{label:"Verde",value:"bg-green-500"},{label:"Azul",value:"bg-blue-500"},{label:"Roxo",value:"bg-purple-500"},{label:"Rosa",value:"bg-pink-500"},{label:"Indigo",value:"bg-indigo-500"},{label:"Teal",value:"bg-teal-500"}],Me=i=>{const{active:b}=i;bt(b.id),ie.find(R=>R.id===b.id)?at("column"):at("card")},it=i=>{const{active:b,over:R}=i;if(!R){bt(null),at(null);return}if(Ke==="column")b.id!==R.id&&Be(O=>{const ne=O.findIndex(Z=>Z.id===b.id),Ve=O.findIndex(Z=>Z.id===R.id);return js(O,ne,Ve)});else if(Ke==="card"){const O=Number(b.id);let ne;typeof R.id=="number"?ne=ce.find(Z=>Z.id===R.id)?.status||String(R.id):ne=String(R.id),console.log(`[v0] Moving project ${O} to column ${ne}`),Ye(Ve=>{const Z=Ve.map(Le=>Le.id===O?{...Le,status:ne}:Le);return console.log("[v0] Updated projects:",Z.filter(Le=>Le.id===O)),Z})}bt(null),at(null)},jt=()=>{Te(null),tt(""),st("bg-blue-500"),et(!0)},Fn=i=>{Te(i),tt(i.label),st(i.color),et(!0)},Bn=()=>{if(je.trim()){if(Ae)Be(i=>i.map(b=>b.id===Ae.id?{...b,label:je,color:ge}:b));else{const i=je.toLowerCase().replace(/\s+/g,"-");Be(b=>[...b,{id:i,label:je,color:ge,count:0}])}et(!1),Te(null),tt(""),st("bg-blue-500")}},Gn=i=>{if(yt(i),ce.filter(R=>R.status===i).length>0){const R=ie.filter(O=>O.id!==i);R.length>0&&B(R[0].id)}rt(!0)},Vn=()=>{if(!xe)return;ce.filter(b=>b.status===xe).length>0&&ct&&Ye(b=>b.map(R=>R.status===xe?{...R,status:ct}:R)),Be(b=>b.filter(R=>R.id!==xe)),rt(!1),yt(null),B("")},qn=i=>{const R=ft.filter(O=>Y(O.createdDate)).map(O=>({id:O.id,name:O.name,status:O.status,type:O.type,budget:O.budget,spent:O.spent,company:O.company,agency:O.agency,createdDate:O.createdDate,dueDate:O.dueDate,progress:O.progress}));i==="csv"?Ua(R,G||{from:new Date,to:new Date}):i==="excel"?Ya(R,G||{from:new Date,to:new Date}):i==="pdf"&&Ka(R,G||{from:new Date,to:new Date})},M=d.useMemo(()=>{const i=ft.filter(j=>Y(j.createdDate)),b=i.length,R=i.filter(j=>j.status==="completed").length,O=i.filter(j=>j.status==="in-progress").length,ne=i.filter(j=>j.status==="draft").length,Ve=i.filter(j=>j.status==="negotiation").length,Z=i.filter(j=>j.status==="cancelled").length,Le=i.filter(j=>j.status==="awaiting-payment").length,Lt=i.filter(j=>j.overdue).length,Ie=i.reduce((j,ae)=>j+ae.budget,0),Hn=i.reduce((j,ae)=>j+ae.spent,0),Ds=i.filter(j=>j.status==="awaiting-payment").reduce((j,ae)=>j+ae.budget,0),_n=i.filter(j=>j.status==="cancelled").reduce((j,ae)=>j+ae.value,0),Ss=i.filter(j=>j.status==="draft").reduce((j,ae)=>j+ae.value,0),Rs=i.filter(j=>j.status==="negotiation").reduce((j,ae)=>j+ae.value,0),Ps=i.filter(j=>j.overdue).reduce((j,ae)=>j+(ae.budget-ae.spent),0),Es=Math.round(Ie/(G?.from&&G?.to?Math.ceil((G.to.getTime()-G.from.getTime())/(1e3*60*60*24))/30:1)||45e3),Qn=b>0?(O/b*100).toFixed(1):0,As=b*.5,Zn=b>0?(As/b*10).toFixed(1):0,ea=b>0?(Z/b*100).toFixed(1):0,ta=Z>0?(Z/(b||1)*100).toFixed(1):0,sa=Ie>0?(Hn/Ie*100).toFixed(1):0,Ts=i.filter(j=>j.type.includes("Web")||j.type.includes("Mobile")).length,na=(Ts/(b||1)*100).toFixed(1),ks=i.filter(j=>j.type.includes("Marketing")).length,aa=(ks/(b||1)*100).toFixed(1),Ms=i.filter(j=>j.type.includes("Desenvolvimento")).length,ra=(Ms/(b||1)*100).toFixed(1),oa=ne>0?(Ss/(Ie||1)*100).toFixed(1):0,la=Ve>0?(Rs/(Ie||1)*100).toFixed(1):0,ia=Le>0?(Ds/(Ie||1)*100).toFixed(1):0,ca=Lt>0?(Ps/(Ie||1)*-100).toFixed(1):0,da=Math.round(Es*1.15);return{totalProjects:b,draftProjects:ne,negotiationProjects:Ve,completedProjects:R,activeProjects:O,mrr:Es,mrrGrowth:Number(Qn),avulsosAtivos:Math.round(As),avulsosGrowth:Number(Zn),churnProjects:Z,churnValue:_n,churnRate:Number(ea),churnGrowth:Number(ta),totalRevenue:Ie,overdueValue:Ps,projection30Days:da,revenueGrowth:Number(sa),companyProjects:Ts,companyGrowth:Number(na),agencyProjects:ks,agencyGrowth:Number(aa),squadProjects:Ms,squadGrowth:Number(ra),draftValue:Ss,draftGrowth:Number(oa),negotiationValue:Rs,negotiationGrowth:Number(la),awaitingPayment:Le,awaitingPaymentValue:Ds,awaitingPaymentGrowth:Number(ia),overdueProjects:Lt,overdueGrowth:Number(ca)}},[G]),ss=i=>{P(i),$("edit"),N(!0)},ws=i=>{P(i),$("view"),N(!0)},Ns=i=>{Je(i),te(`${i.name} (Clone)`),Ue(!1),Se(!0)},Wn=i=>{Ye(b=>b.map(R=>R.id===i.id?i:R)),P(i),$("view"),console.log("[v0] Projeto salvo com sucesso:",i.name)},Cs=i=>{fe(i),Fe(1),Pe(""),le(!0)},Xn=()=>{if(!_)return;const i={..._,status:"cancelled",situacao:"Cancelado"};Ye(b=>b.map(R=>R.id===_.id?i:R)),P(null),N(!1),le(!1),fe(null),Pe(""),Fe(1),Ee({title:"Projeto Cancelado",description:"O projeto foi cancelado e as cobran√ßas futuras foram suspensas."})},Jn=()=>{if(!U||!me.trim()){alert("Por favor, insira um nome para o projeto clonado");return}const i={...U,id:Math.max(...ce.map(b=>b.id))+1,name:me,createdDate:new Date().toLocaleDateString("pt-BR"),products:U.products?.map(b=>({...b,contracted:!1,contractedDate:null,contractedValue:0,contractedQuantity:0}))||[],budget:0,spent:0,progress:0};Ye([...ce,i]),Se(!1),Je(null),te(""),k&&(P(i),$("edit"),N(!0))},Un=()=>{I(!1),$e(null),K(!0)},Yn=()=>{I(!1);const i={name:"Projeto E-commerce Completo",client:"TechStore Brasil",company:"empresa1",type:"company",description:`Desenvolvimento de plataforma e-commerce completa com integra√ß√£o de pagamentos, gest√£o de estoque e painel administrativo.

Objetivos:
- Sistema de cat√°logo de produtos
- Carrinho de compras e checkout
- Integra√ß√£o com gateway de pagamento
- Painel administrativo completo
- Gest√£o de pedidos e log√≠stica`,startDate:new Date().toISOString().split("T")[0],deadline:new Date(Date.now()+2160*60*60*1e3).toISOString().split("T")[0],budget:45e3,products:[{id:"1",name:"Website E-commerce",value:25e3,type:"avulso"},{id:"2",name:"Painel Administrativo",value:15e3,type:"avulso"},{id:"3",name:"Integra√ß√£o Pagamentos",value:5e3,type:"avulso"}],files:[],vaultPassword:"",paymentMethod:"cartao"};$e(i),K(!0)},Kn=i=>{switch(i){case"awaiting-payment":return t.jsx(_e,{className:"bg-cyan-500 text-white text-[10px] px-2 py-0.5",children:"AGUARDANDO PAGAMENTO"});case"in-progress":return t.jsx(_e,{className:"bg-blue-500 text-white text-[10px] px-2 py-0.5",children:"EM ANDAMENTO"});case"completed":return t.jsx(_e,{className:"bg-green-500 text-white text-[10px] px-2 py-0.5",children:"CONCLU√çDO"});case"planning":return t.jsx(_e,{className:"bg-orange-500 text-white text-[10px] px-2 py-0.5",children:"PLANEJAMENTO"});default:return t.jsx(_e,{className:"bg-gray-500 text-white text-[10px] px-2 py-0.5",children:i})}};return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Ma,{title:t.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Gest√£o de Projetos"}),subtitle:"Centralize, acompanhe e otimize todos os seus projetos em um s√≥ lugar."}),t.jsxs(S,{onClick:()=>K(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg",children:[t.jsx($s,{className:"h-4 w-4 mr-2"}),"Novo Projeto"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(zs,{type:"single",collapsible:!0,className:"mb-1",children:t.jsxs(Fs,{value:"stats",className:"border rounded-lg bg-blue-50 border-blue-200",children:[t.jsx(Bs,{className:"text-sm font-semibold hover:no-underline px-4 py-3 hover:bg-blue-100 rounded-t-lg transition-colors",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xa,{className:"h-5 w-5 text-blue-600"}),t.jsx("span",{className:"text-blue-900",children:"Estat√≠sticas e M√©tricas"})]})}),t.jsxs(Gs,{className:"pt-2 px-4 pb-3",children:[t.jsx("div",{className:"mb-6",children:t.jsx(Ja,{dateRange:G,onDateChange:ue,leadFilter:g,onLeadFilterChange:y,onExport:qn,onReset:()=>{ue(void 0)},isLoading:!1})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 mb-1",children:[t.jsx(Oe,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0",children:t.jsxs(He,{className:"p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs opacity-90",children:"Projetos Totais"}),t.jsx("p",{className:"text-2xl font-bold mt-0.5",children:M.totalProjects})]}),t.jsx(pa,{className:"h-7 w-7 opacity-80"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 pt-2 border-t border-white/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] opacity-75",children:"Rascunho"}),t.jsx("p",{className:"text-sm font-semibold",children:M.draftProjects})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] opacity-75",children:"Negocia√ß√£o"}),t.jsx("p",{className:"text-sm font-semibold",children:M.negotiationProjects})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] opacity-75",children:"Conclu√≠dos"}),t.jsx("p",{className:"text-sm font-semibold",children:M.completedProjects})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] opacity-75",children:"Ativos"}),t.jsx("p",{className:"text-sm font-semibold",children:M.activeProjects})]})]})]})}),t.jsx(Oe,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0",children:t.jsx(He,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs opacity-90",children:"MRR"}),t.jsxs("p",{className:"text-2xl font-bold mt-0.5",children:["R$ ",(M.mrr/1e3).toFixed(0),"k"]}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(Qe,{className:"h-3 w-3"}),t.jsxs("span",{className:"text-xs font-semibold",children:["+",M.mrrGrowth,"%"]})]})]}),t.jsx(La,{className:"h-7 w-7 opacity-80"})]})})}),t.jsx(Oe,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0",children:t.jsx(He,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs opacity-90",children:"Avulsos Ativos"}),t.jsx("p",{className:"text-2xl font-bold mt-0.5",children:M.avulsosAtivos}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(qs,{className:"h-3 w-3"}),t.jsxs("span",{className:"text-xs font-semibold",children:[M.avulsosGrowth,"%"]})]})]}),t.jsx(va,{className:"h-7 w-7 opacity-80"})]})})}),t.jsx(Oe,{className:"bg-gradient-to-br from-red-500 to-red-600 text-white border-0",children:t.jsx(He,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs opacity-90",children:"Churn"}),t.jsx("p",{className:"text-2xl font-bold mt-0.5",children:M.churnProjects}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs",children:[t.jsxs("span",{children:[M.churnRate,"%"]}),t.jsx("span",{children:"‚Ä¢"}),t.jsxs("span",{children:["R$ ",(M.churnValue/1e3).toFixed(0),"k"]})]})]}),t.jsx(Ia,{className:"h-7 w-7 opacity-80"})]})})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:t.jsx(Oe,{className:"bg-gradient-to-br from-rose-500 to-rose-600 text-white border-0",children:t.jsx(He,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs opacity-90",children:"Inadimpl√™ncia"}),t.jsx("p",{className:"text-2xl font-bold mt-0.5",children:M.overdueProjects}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs",children:[t.jsxs("span",{children:["R$ ",(M.overdueValue/1e3).toFixed(0),"k"]}),t.jsx("span",{children:"‚Ä¢"}),t.jsxs("span",{className:"flex items-center gap-0.5",children:[t.jsx(qs,{className:"h-3 w-3"}),Math.abs(M.overdueGrowth),"%"]})]})]}),t.jsx(Oa,{className:"h-7 w-7 opacity-80"})]})})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[t.jsx(Oe,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white border-0",children:t.jsxs(He,{className:"p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs opacity-90",children:"Receitas"}),t.jsxs("p",{className:"text-2xl font-bold mt-0.5",children:["R$ ",(M.totalRevenue/1e3).toFixed(0),"k"]}),t.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(Qe,{className:"h-3 w-3"}),t.jsxs("span",{className:"text-xs font-semibold",children:["+",M.revenueGrowth,"%"]})]})]}),t.jsx(ln,{className:"h-7 w-7 opacity-80"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-white/20",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] opacity-75",children:"Inadimpl√™ncia"}),t.jsxs("p",{className:"text-sm font-semibold",children:["R$ ",(M.overdueValue/1e3).toFixed(0),"k"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] opacity-75",children:"Proje√ß√£o 30d"}),t.jsxs("p",{className:"text-sm font-semibold",children:["R$ ",(M.projection30Days/1e3).toFixed(0),"k"]})]})]})]})}),t.jsx(Oe,{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white border-0",children:t.jsxs(He,{className:"p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{children:t.jsx("p",{className:"text-xs opacity-90",children:"Tipos de Projetos"})}),t.jsx(ba,{className:"h-7 w-7 opacity-80"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(cn,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Company"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-semibold",children:M.companyProjects}),t.jsxs("span",{className:"text-xs flex items-center gap-0.5",children:[t.jsx(Qe,{className:"h-3 w-3"}),M.companyGrowth,"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ya,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Agency"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-semibold",children:M.agencyProjects}),t.jsxs("span",{className:"text-xs flex items-center gap-0.5",children:[t.jsx(Qe,{className:"h-3 w-3"}),M.agencyGrowth,"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(on,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm",children:"Squad"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-semibold",children:M.squadProjects}),t.jsxs("span",{className:"text-xs flex items-center gap-0.5",children:[t.jsx(Qe,{className:"h-3 w-3"}),M.squadGrowth,"%"]})]})]})]})]})}),t.jsx(Oe,{className:"bg-gradient-to-br from-amber-500 to-amber-600 text-white border-0",children:t.jsxs(He,{className:"p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{children:t.jsx("p",{className:"text-xs opacity-90",children:"Neg√≥cios em Potencial"})}),t.jsx(ja,{className:"h-7 w-7 opacity-80"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs",children:"Rascunho"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm font-semibold",children:["R$ ",(M.draftValue/1e3).toFixed(0),"k"]}),t.jsxs("span",{className:"text-[10px] flex items-center gap-0.5",children:[t.jsx(Qe,{className:"h-2.5 w-2.5"}),M.draftGrowth,"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs",children:"Negocia√ß√£o"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm font-semibold",children:["R$ ",(M.negotiationValue/1e3).toFixed(0),"k"]}),t.jsxs("span",{className:"text-[10px] flex items-center gap-0.5",children:[t.jsx(Qe,{className:"h-2.5 w-2.5"}),M.negotiationGrowth,"%"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs",children:"Ag. Pagamento"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm font-semibold",children:["R$ ",(M.awaitingPaymentValue/1e3).toFixed(0),"k"]}),t.jsxs("span",{className:"text-[10px] flex items-center gap-0.5",children:[t.jsx(Qe,{className:"h-2.5 w-2.5"}),M.awaitingPaymentGrowth,"%"]})]})]})]})]})})]})]})]})}),t.jsx("div",{className:"flex items-center justify-between gap-2 mb-1",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"inline-flex rounded-lg bg-muted p-1",children:[t.jsxs(S,{size:"sm",variant:oe==="accordion"?"default":"ghost",onClick:()=>H("accordion"),className:`h-8 rounded-md transition-all ${oe==="accordion"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-sm":"hover:bg-background"}`,children:[t.jsx($a,{className:"h-3.5 w-3.5 mr-1.5"}),"Lista"]}),t.jsxs(S,{size:"sm",variant:oe==="kanban"?"default":"ghost",onClick:()=>H("kanban"),className:`h-8 rounded-md transition-all ${oe==="kanban"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-sm":"hover:bg-background"}`,children:[t.jsx(wa,{className:"h-3.5 w-3.5 mr-1.5"}),"Kanban"]})]}),oe==="kanban"&&t.jsxs(S,{onClick:jt,size:"sm",className:"h-8 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white shadow-sm",children:[t.jsx($s,{className:"h-3.5 w-3.5 mr-1"}),"Nova Coluna"]})]})}),oe==="accordion"&&t.jsx("div",{className:"mb-3 bg-white p-3 rounded-lg border",children:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Na,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-gray-400"}),t.jsx(as,{placeholder:"Buscar por projeto, cliente ou ag√™ncia...",value:e,onChange:i=>s(i.target.value),className:"pl-9 h-9 text-sm"})]}),t.jsxs("select",{value:n,onChange:i=>a(i.target.value),className:"px-3 py-1.5 border rounded-md text-sm h-9 bg-white",children:[t.jsx("option",{value:"all",children:"Todos os Status"}),t.jsx("option",{value:"draft",children:"Rascunho"}),t.jsx("option",{value:"negotiation",children:"Negocia√ß√£o"}),t.jsx("option",{value:"awaiting-payment",children:"Aguardando Pagamento"}),t.jsx("option",{value:"planning",children:"Planejamento"}),t.jsx("option",{value:"in-progress",children:"Em Andamento"}),t.jsx("option",{value:"completed",children:"Conclu√≠do"}),t.jsx("option",{value:"cancelled",children:"Cancelado"})]}),t.jsxs("select",{value:o,onChange:i=>r(i.target.value),className:"px-3 py-1.5 border rounded-md text-sm h-9 bg-white",children:[t.jsx("option",{value:"all",children:"Todos os Tipos"}),t.jsx("option",{value:"recurring",children:"MRR (Recorrente)"}),t.jsx("option",{value:"one-time",children:"Avulso"})]}),t.jsxs("select",{value:g,onChange:i=>y(i.target.value),className:"px-3 py-1.5 border-2 border-amber-300 rounded-md text-sm h-9 bg-white text-amber-700 font-medium",children:[t.jsx("option",{value:"all",children:"Todos os Projetos"}),t.jsx("option",{value:"lead",children:"Derivados de Lead"}),t.jsx("option",{value:"non-lead",children:"Outros Projetos"})]}),t.jsxs(S,{variant:"outline",size:"sm",onClick:()=>w(!C),className:"h-9",children:[t.jsx(za,{className:"w-3.5 h-3.5 mr-1.5"}),C?"Menos Filtros":"Mais Filtros"]})]}),C&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 pt-2 border-t",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Empresa"}),t.jsxs("select",{value:u,onChange:i=>m(i.target.value),className:"w-full px-3 py-1.5 border rounded-md text-sm h-9 bg-white",children:[t.jsx("option",{value:"all",children:"Todas as Empresas"}),ke.map(i=>t.jsx("option",{value:i,children:i},i))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Ag√™ncia"}),t.jsxs("select",{value:h,onChange:i=>f(i.target.value),className:"w-full px-3 py-1.5 border rounded-md text-sm h-9 bg-white",children:[t.jsx("option",{value:"all",children:"Todas as Ag√™ncias"}),se.map(i=>t.jsx("option",{value:i,children:i},i))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Faixa de Valor"}),t.jsxs("select",{value:v,onChange:i=>p(i.target.value),className:"w-full px-3 py-1.5 border rounded-md text-sm h-9 bg-white",children:[t.jsx("option",{value:"all",children:"Todos os Valores"}),t.jsx("option",{value:"0-5000",children:"At√© R$ 5.000"}),t.jsx("option",{value:"5000-15000",children:"R$ 5.000 - R$ 15.000"}),t.jsx("option",{value:"15000-50000",children:"R$ 15.000 - R$ 50.000"}),t.jsx("option",{value:"50000+",children:"Acima de R$ 50.000"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Pagamento"}),t.jsxs("select",{value:c,onChange:i=>l(i.target.value),className:"w-full px-3 py-1.5 border rounded-md text-sm h-9 bg-white",children:[t.jsx("option",{value:"all",children:"Todos"}),t.jsx("option",{value:"paid",children:"Em Dia"}),t.jsx("option",{value:"overdue",children:"Inadimplente"})]})]}),t.jsxs("div",{className:"md:col-span-2 lg:col-span-4 flex items-end gap-2",children:[t.jsxs(S,{variant:"outline",size:"sm",onClick:pe,className:"h-9 bg-transparent",children:[t.jsx(hs,{className:"w-3.5 h-3.5 mr-1.5"}),"Limpar Filtros"]}),t.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[X.length," de ",ft.length," projetos"]})]})]})]})}),oe==="accordion"?t.jsxs("div",{className:"space-y-4",children:[t.jsx(zs,{type:"multiple",className:"space-y-2",children:Ne.map(i=>t.jsxs(Fs,{value:`project-${i.id}`,className:"border rounded-lg bg-white",children:[t.jsx(Bs,{className:"px-4 py-3 hover:no-underline",children:t.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("h3",{className:"text-sm font-semibold text-left",children:i.name}),Kn(i.status),t.jsxs("span",{className:"text-xs text-gray-500",children:["Cliente: ",t.jsx("span",{className:"font-medium text-blue-600",children:i.client})]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 mr-2",onClick:b=>b.stopPropagation(),children:[t.jsx(S,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>ws(i),title:"Visualizar Projeto",children:t.jsx(dn,{className:"h-3.5 w-3.5"})}),t.jsx(S,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Clonar Projeto",onClick:()=>Ns(i),children:t.jsx(Ca,{className:"h-3.5 w-3.5"})}),t.jsx(S,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-green-600 hover:text-green-700 hover:bg-green-50",title:"Exportar Proposta",onClick:()=>{console.log("Exportando proposta para:",i.name)},children:t.jsx(Nt,{className:"h-3.5 w-3.5"})}),t.jsx(S,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Editar Projeto",onClick:()=>ss(i),children:t.jsx(cs,{className:"h-3.5 w-3.5"})}),t.jsx(S,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",title:"Exportar Proposta",onClick:()=>{console.log("Exportando proposta para:",i.name)},children:t.jsx(Nt,{className:"h-3.5 w-3.5"})}),t.jsx(S,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>ss(i),title:"Editar Projeto",children:t.jsx(cs,{className:"h-3.5 w-3.5"})}),t.jsx(S,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-gray-600",title:"Cancelar Projeto",onClick:()=>Cs(i),children:t.jsx(Aa,{className:"h-3.5 w-3.5"})})]})]})}),t.jsxs(Gs,{className:"px-4 pb-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-2 mb-3 text-xs pt-2",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Checkout Ag√™ncia"}),t.jsx("div",{className:"mt-0.5",children:t.jsxs("a",{href:"#",className:"text-blue-600 hover:underline flex items-center gap-1",children:["Acessar Checkout Ag√™ncia",t.jsx(Ws,{className:"h-3 w-3"})]})})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Checkout Cliente"}),t.jsx("div",{className:"mt-0.5",children:t.jsxs("a",{href:"#",className:"text-blue-600 hover:underline flex items-center gap-1",children:["Acessar Checkout Cliente",t.jsx(Ws,{className:"h-3 w-3"})]})})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"CNPJ"}),t.jsx("div",{className:"mt-0.5 font-medium",children:i.clientCNPJ})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Ag√™ncia"}),t.jsx("div",{className:"mt-0.5",children:t.jsx("a",{href:"#",className:"text-blue-600 hover:underline font-medium",children:i.agency})})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Consultor Respons√°vel"}),t.jsx("div",{className:"mt-0.5 font-medium",children:i.consultant})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"E-mail do Consultor"}),t.jsx("div",{className:"mt-0.5 font-medium",children:i.consultantEmail})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Data de Cria√ß√£o"}),t.jsx("div",{className:"mt-0.5 font-medium",children:i.createdDate})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Sincronizado Bitrix"}),t.jsx("div",{className:"mt-0.5",children:t.jsx(_e,{variant:i.bitrixSync?"default":"destructive",className:"text-[10px] px-2 py-0.5",children:i.bitrixSync?"SIM":"N√ÉO"})})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Portf√≥lio"}),t.jsx("div",{className:"mt-0.5",children:t.jsx(_e,{variant:i.portfolioPermission?"default":"destructive",className:"text-[10px] px-2 py-0.5",children:i.portfolioPermission?"SIM":"N√ÉO"})})]})]}),t.jsxs("div",{className:`grid gap-3 pt-3 border-t ${i.type==="MRR"?"grid-cols-2 md:grid-cols-5":"grid-cols-2 md:grid-cols-6"}`,children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Progresso"}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5",children:t.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all",style:{width:`${i.progress}%`}})}),t.jsxs("span",{className:"text-xs font-bold",children:[i.progress,"%"]})]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:i.type==="MRR"?"Or√ßamento Mensal":"Or√ßamento"}),t.jsxs("p",{className:"text-sm font-bold mt-1",children:["R$ ",i.budget.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:i.type==="MRR"?"Gasto do M√™s":"Gasto"}),t.jsxs("p",{className:"text-sm font-bold text-orange-600 mt-1",children:["R$ ",i.spent.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"In√≠cio"}),t.jsx("p",{className:"text-sm font-bold mt-1",children:new Date(i.startDate).toLocaleDateString()})]}),i.type!=="MRR"&&t.jsxs("div",{children:[t.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Prazo"}),t.jsx("p",{className:"text-sm font-bold mt-1",children:new Date(i.deadline).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Equipe"}),t.jsxs("p",{className:"text-sm font-bold mt-1",children:[i.team," membros"]})]})]}),t.jsxs("div",{className:"mt-3 pt-3 border-t",children:[t.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"N√¥mades Alocados"}),t.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:i.nomades.map((b,R)=>t.jsx(_e,{variant:"outline",className:"text-[10px] px-2 py-0.5",children:b},R))})]})]})]},i.id))}),t.jsx(Ta,{currentPage:We,totalPages:q,totalItems:Ge,itemsPerPage:V,onPageChange:Xe,onItemsPerPageChange:ot})]}):t.jsx("div",{className:"flex-1 overflow-auto",children:oe==="kanban"&&t.jsxs("div",{className:"py-2 pb-0",children:[t.jsxs(mo,{sensors:Q,collisionDetection:pr,onDragStart:Me,onDragEnd:it,children:[t.jsx("div",{className:"flex gap-2 overflow-x-auto",children:t.jsx(On,{items:ie.map(i=>i.id),strategy:Lo,children:ie.map(i=>t.jsx(Jo,{column:i,projects:X.filter(b=>b.status===i.id),onEdit:()=>Fn(i),onDelete:()=>Gn(i.id),onViewProject:ws,onEditProject:ss},i.id))})}),t.jsxs(Ao,{children:[nt&&Ke==="column"&&t.jsx("div",{className:"w-52 opacity-80",children:ie.find(i=>i.id===nt)&&t.jsx("div",{className:`${ie.find(i=>i.id===nt)?.color} text-white rounded-t-lg px-3 py-2`,children:t.jsx("h3",{className:"font-bold text-xs",children:ie.find(i=>i.id===nt)?.label})})}),nt&&Ke==="card"&&t.jsx("div",{className:"w-52 opacity-80",children:t.jsx(Oe,{className:"p-2 bg-white border-2 border-blue-500",children:t.jsx("div",{className:"text-xs font-semibold",children:"Movendo projeto..."})})})]})]}),t.jsx(It,{open:es,onOpenChange:et,children:t.jsxs(Ot,{className:"sm:max-w-md",children:[t.jsx(ut,{children:t.jsx(mt,{children:Ae?"Editar Coluna":"Nova Coluna"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx($t,{htmlFor:"column-name",children:"Nome da Coluna"}),t.jsx(as,{id:"column-name",value:je,onChange:i=>tt(i.target.value),placeholder:"Ex: Em Aprova√ß√£o"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($t,{children:"Cor da Coluna"}),t.jsx("div",{className:"grid grid-cols-5 gap-2",children:lt.map(i=>t.jsx("button",{onClick:()=>st(i.value),className:`h-10 rounded-md ${i.value} ${ge===i.value?"ring-2 ring-offset-2 ring-black":""}`,title:i.label},i.value))})]})]}),t.jsxs(ht,{children:[t.jsx(S,{variant:"outline",onClick:()=>et(!1),children:"Cancelar"}),t.jsx(S,{onClick:Bn,children:"Salvar"})]})]})}),t.jsx(It,{open:ts,onOpenChange:rt,children:t.jsxs(Ot,{className:"sm:max-w-md",children:[t.jsx(ut,{children:t.jsx(mt,{children:"Excluir Coluna"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Tem certeza que deseja excluir esta coluna?"}),xe&&ce.filter(i=>i.status===xe).length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"rounded-md bg-yellow-50 p-3 border border-yellow-200",children:t.jsxs("p",{className:"text-sm text-yellow-800",children:["Esta coluna cont√©m ",ce.filter(i=>i.status===xe).length," ","projeto(s). Selecione para qual coluna os projetos ser√£o movidos:"]})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx($t,{htmlFor:"target-column",children:"Mover projetos para:"}),t.jsx("select",{id:"target-column",value:ct,onChange:i=>B(i.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:ie.filter(i=>i.id!==xe).map(i=>t.jsx("option",{value:i.id,children:i.label},i.id))})]})]})]}),t.jsxs(ht,{children:[t.jsx(S,{variant:"outline",onClick:()=>{rt(!1),yt(null),B("")},children:"Cancelar"}),t.jsx(S,{variant:"destructive",onClick:Vn,disabled:xe&&ce.filter(i=>i.status===xe).length>0&&!ct,children:"Excluir"})]})]})})]})}),t.jsx(It,{open:ze,onOpenChange:Se,children:t.jsxs(Ot,{className:"sm:max-w-md",children:[t.jsx(ut,{children:t.jsx(mt,{children:"Clonar Projeto"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tem certeza que deseja clonar este projeto?"}),t.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[t.jsx("strong",{children:"Projeto original:"})," ",U?.name]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded text-sm text-gray-700 mb-4",children:[t.jsx("p",{className:"font-medium mb-2",children:"O que ser√° clonado:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[t.jsx("li",{children:"Informa√ß√µes do cliente e ag√™ncia"}),t.jsx("li",{children:"Equipe e n√¥mades designados"}),t.jsx("li",{children:"Tarefas e configura√ß√µes"}),t.jsx("li",{children:t.jsx("strong",{children:"Produtos dispon√≠veis para contratar (sem dados de contrata√ß√£o anterior)"})})]})]})]}),t.jsxs("div",{children:[t.jsx($t,{htmlFor:"clone-name",className:"text-sm font-medium mb-2 block",children:"Nome do Projeto Clonado"}),t.jsx(as,{id:"clone-name",value:me,onChange:i=>te(i.target.value),placeholder:"Digite o nome do novo projeto",className:"w-full"})]}),t.jsxs("div",{className:"flex items-start gap-2 bg-green-50 p-3 rounded",children:[t.jsx("input",{type:"checkbox",id:"clone-and-edit",checked:k,onChange:i=>Ue(i.target.checked),className:"rounded mt-1"}),t.jsx("label",{htmlFor:"clone-and-edit",className:"text-sm text-gray-700 cursor-pointer",children:"Desejo editar o projeto clonado e escolher/contratar produtos ap√≥s a cria√ß√£o"})]})]}),t.jsxs(ht,{children:[t.jsx(S,{variant:"outline",onClick:()=>{Se(!1),Je(null),te("")},children:"Cancelar"}),t.jsx(S,{onClick:Jn,className:"bg-blue-600 hover:bg-blue-700",children:"Clonar Projeto"})]})]})}),t.jsx(It,{open:he,onOpenChange:le,children:t.jsxs(Ot,{className:"sm:max-w-md",children:[Re===1&&t.jsxs(t.Fragment,{children:[t.jsx(ut,{children:t.jsx(mt,{children:"Cancelar Projeto"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-yellow-900 font-medium mb-2",children:"Tem certeza que deseja cancelar este projeto?"}),t.jsxs("p",{className:"text-sm text-yellow-800",children:[t.jsx("strong",{children:"Projeto:"})," ",_?.name]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Ao cancelar, todas as cobran√ßas futuras ser√£o suspensas e o projeto ser√° marcado como inativo."}),t.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Por que voc√™ quer cancelar este projeto?"}),t.jsx("textarea",{value:Mt,onChange:i=>Pe(i.target.value),placeholder:"Nos ajude a entender o motivo (opcional)",className:"w-full h-20 p-3 border border-gray-300 rounded-lg text-sm resize-none"})]}),t.jsxs(ht,{children:[t.jsx(S,{variant:"outline",onClick:()=>{le(!1),fe(null),Pe("")},children:"Desistir"}),t.jsx(S,{onClick:()=>Fe(2),className:"bg-orange-500 hover:bg-orange-600",children:"Continuar Cancelamento"})]})]}),Re===2&&t.jsxs(t.Fragment,{children:[t.jsx(ut,{children:t.jsx(mt,{children:"Esperamos que continue conosco!"})}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg space-y-3",children:[t.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"Antes de cancelar, saiba que voc√™ pode:"}),t.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"‚Ä¢"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Pausar o projeto"})," temporariamente sem cancelar"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"‚Ä¢"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Ajustar o or√ßamento"})," para melhor se adequar √†s suas necessidades"]})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx("span",{className:"text-blue-600 font-bold",children:"‚Ä¢"}),t.jsxs("span",{children:[t.jsx("strong",{children:"Conversar com nosso time"})," sobre alternativas"]})]})]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Tem certeza que quer cancelar mesmo? Esta a√ß√£o n√£o pode ser desfeita."})]}),t.jsxs(ht,{children:[t.jsx(S,{variant:"outline",onClick:()=>{le(!1),fe(null),Pe(""),Fe(1)},children:"Desistir do Cancelamento"}),t.jsx(S,{onClick:()=>Fe(3),className:"bg-orange-500 hover:bg-orange-600",children:"Continuar Cancelamento"})]})]}),Re===3&&t.jsxs(t.Fragment,{children:[t.jsx(ut,{children:t.jsx(mt,{children:"√öltima chance para reconsiderar"})}),t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg",children:[t.jsx("p",{className:"text-sm text-red-900 font-medium mb-2",children:"Aten√ß√£o!"}),t.jsxs("p",{className:"text-sm text-red-800",children:["Voc√™ est√° prestes a cancelar ",t.jsx("strong",{children:_?.name}),"."]}),t.jsx("p",{className:"text-sm text-red-800 mt-2",children:"Isso resultar√° em:"}),t.jsxs("ul",{className:"text-sm text-red-800 mt-2 space-y-1 ml-4",children:[t.jsx("li",{children:"‚Ä¢ Suspens√£o de todas as cobran√ßas futuras"}),t.jsx("li",{children:"‚Ä¢ Projeto marcado como inativo"}),t.jsx("li",{children:"‚Ä¢ N√£o ser√° mais poss√≠vel contratar produtos"})]})]})}),t.jsxs(ht,{children:[t.jsx(S,{variant:"outline",onClick:()=>{le(!1),fe(null),Pe(""),Fe(1)},children:"Cancelar Opera√ß√£o"}),t.jsx(S,{onClick:Xn,className:"bg-red-600 hover:bg-red-700",children:"Confirmar Cancelamento"})]})]})]})}),t.jsx(ka,{project:A,open:T,onOpenChange:N,mode:E,onEdit:()=>{$("edit")},onClone:()=>Ns(A),onExport:()=>{console.log("Exportando proposta para:",A?.name)},onSave:Wn,onCancel:()=>Cs(A)}),t.jsx(Va,{open:F,onClose:()=>I(!1),onSkip:Un,onCreateWithAI:Yn}),t.jsx(Ra,{open:re,onClose:()=>{K(!1),$e(null)},initialData:de})]})]})}function Jo({column:e,projects:s,onEdit:n,onDelete:a,onViewProject:o,onEditProject:r}){const{attributes:c,listeners:l,setNodeRef:u,transform:m,transition:h,isDragging:f}=zn({id:e.id}),{setNodeRef:v}=kn({id:e.id}),p={transform:qe.Transform.toString(m),transition:h,opacity:f?.5:1},D=s.reduce((x,g)=>x+g.budget,0);return t.jsxs("div",{ref:u,style:p,className:"w-52 flex-shrink-0",children:[t.jsxs("div",{className:`${e.color} text-white rounded-t-lg px-3 py-2 h-[60px] flex flex-col justify-between`,...c,...l,children:[t.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[t.jsx("h3",{className:"font-bold text-xs uppercase tracking-wide cursor-move line-clamp-2",children:e.label}),t.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[t.jsx("button",{onClick:x=>{x.stopPropagation(),n()},className:"hover:bg-white/20 rounded p-0.5 transition-colors",children:t.jsx(Da,{className:"h-3 w-3"})}),t.jsx("button",{onClick:x=>{x.stopPropagation(),confirm("Tem certeza que deseja remover esta coluna?")&&a()},className:"hover:bg-white/20 rounded p-0.5 transition-colors",children:t.jsx(hs,{className:"h-3 w-3"})})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-[10px] opacity-90",children:[t.jsxs("span",{children:["(",s.length,")"]}),t.jsxs("span",{children:["R$ ",D.toLocaleString("pt-BR")]})]})]}),t.jsx("div",{ref:v,className:"bg-gray-50 rounded-b-lg p-2 min-h-[350px] max-h-[calc(100vh-420px)] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:t.jsx("div",{className:"space-y-1.5",children:t.jsx(On,{items:s.map(x=>x.id.toString()),strategy:Oo,children:s.length===0?t.jsx("div",{className:"text-center text-gray-400 text-xs py-4",children:"Arraste projetos aqui"}):s.map(x=>t.jsx(Uo,{project:x,column:e,onViewProject:o,onEditProject:r},x.id))})})})]})}function Uo({project:e,column:s,onViewProject:n,onEditProject:a}){const{attributes:o,listeners:r,setNodeRef:c,transform:l,transition:u,isDragging:m}=zn({id:e.id}),h={transform:qe.Transform.toString(l),transition:u,opacity:m?.5:1};return t.jsxs(Oe,{ref:c,style:h,...o,...r,className:"p-2 hover:shadow-lg transition-all cursor-move bg-white border-l-4",children:[t.jsx("h4",{className:"font-semibold text-xs mb-1.5 line-clamp-2",children:e.name}),t.jsxs("div",{className:"space-y-1 text-[10px] text-gray-600 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(cn,{className:"h-2.5 w-2.5 text-gray-400"}),t.jsx("span",{className:"font-medium text-blue-600 truncate",children:e.client})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(ln,{className:"h-2.5 w-2.5 text-gray-400"}),t.jsxs("span",{className:"font-semibold",children:["R$ ",(e.budget/1e3).toFixed(0),"k"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:"w-10 bg-gray-200 rounded-full h-1",children:t.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:`${e.progress}%`}})}),t.jsxs("span",{className:"text-[9px] font-semibold",children:[e.progress,"%"]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-1.5 border-t",children:[t.jsx("div",{className:"flex -space-x-1.5",children:t.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-[9px] text-white font-semibold border-2 border-white",children:e.client.charAt(0)})}),t.jsxs("div",{className:"flex items-center gap-0.5",children:[t.jsx(S,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-blue-50",onClick:f=>{f.stopPropagation(),n(e)},children:t.jsx(dn,{className:"h-2.5 w-2.5 text-blue-600"})}),t.jsx(S,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 hover:bg-purple-50",onClick:f=>{f.stopPropagation(),a(e)},children:t.jsx(cs,{className:"h-2.5 w-2.5 text-purple-600"})})]})]})]})}export{Cl as default};
