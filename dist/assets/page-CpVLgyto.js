import{r as p,j as e,D as H,ax as D,f as c,B as x,v as T,w as k,x as A,af as o,aU as I,ag as v,E as f,H as b,I as y,J as w,K as n,a7 as z,ao as h,ai as m,aN as G,z as q,C as u,g as j,y as O,n as M}from"./index-D2dOrPZ8.js";import{F as S}from"./funnel-D8IEwOH8.js";import{M as L}from"./message-square-Bm6iE3sR.js";import{T as g}from"./triangle-alert-Cjhkzg0C.js";const N=[{id:1,category:"Design Gr√°fico",activeNomades:45,tasksLast30Days:128,availableHours:180,status:"green",needsMoreProfessionals:!1,demandTrend:"+15%",averageTaskDuration:4.2,completionRate:96,leader:"Ana Silva"},{id:2,category:"Copywriting",activeNomades:32,tasksLast30Days:95,availableHours:96,status:"yellow",needsMoreProfessionals:!0,demandTrend:"+28%",averageTaskDuration:3.8,completionRate:92,leader:"Carlos Santos"},{id:3,category:"Social Media",activeNomades:28,tasksLast30Days:156,availableHours:42,status:"red",needsMoreProfessionals:!0,demandTrend:"+45%",averageTaskDuration:2.5,completionRate:88,leader:"Marina Costa"},{id:4,category:"Desenvolvimento Web",activeNomades:18,tasksLast30Days:34,availableHours:144,status:"green",needsMoreProfessionals:!1,demandTrend:"+8%",averageTaskDuration:6.1,completionRate:98,leader:"Ricardo Oliveira"},{id:5,category:"Edi√ß√£o de V√≠deo",activeNomades:22,tasksLast30Days:67,availableHours:88,status:"yellow",needsMoreProfessionals:!0,demandTrend:"+22%",averageTaskDuration:5,completionRate:90,leader:"Fernanda Lima"},{id:6,category:"Marketing Digital",activeNomades:15,tasksLast30Days:89,availableHours:24,status:"red",needsMoreProfessionals:!0,demandTrend:"+67%",averageTaskDuration:3.2,completionRate:85,leader:"Gustavo Pereira"}];function W(){const[a,d]=p.useState({category:"all",status:"all",leader:"all",minHours:"",maxHours:"",search:""}),[R,C]=p.useState(!1),[F,P]=p.useState(!1),r=N.filter(s=>!(a.category!=="all"&&s.category!==a.category||a.status!=="all"&&s.status!==a.status||a.leader!=="all"&&s.leader!==a.leader||a.minHours&&s.availableHours<Number.parseInt(a.minHours)||a.maxHours&&s.availableHours>Number.parseInt(a.maxHours)||a.search&&!s.category.toLowerCase().includes(a.search.toLowerCase()))),E=s=>({green:"bg-green-100 text-green-800 border-green-200",yellow:"bg-yellow-100 text-yellow-800 border-yellow-200",red:"bg-red-100 text-red-800 border-red-200"})[s],V=s=>{switch(s){case"green":return e.jsx(M,{className:"h-5 w-5 text-green-500"});case"yellow":return e.jsx(h,{className:"h-5 w-5 text-yellow-500"});case"red":return e.jsx(g,{className:"h-5 w-5 text-red-500"});default:return e.jsx(M,{className:"h-5 w-5 text-gray-500"})}},B=s=>{switch(s){case"green":return"Capacidade Adequada";case"yellow":return"Aten√ß√£o Necess√°ria";case"red":return"Capacidade Cr√≠tica";default:return"Status Desconhecido"}},t=r.filter(s=>s.status==="red"),i=r.filter(s=>s.status==="yellow");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gest√£o de Disponibilidade"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitore a capacidade da plataforma por categoria de servi√ßo."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(H,{open:R,onOpenChange:C,children:[e.jsx(D,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Filtros",(a.category!=="all"||a.status!=="all"||a.leader!=="all"||a.minHours||a.maxHours||a.search)&&e.jsx(x,{className:"ml-2 bg-blue-100 text-blue-800",children:"Ativo"})]})}),e.jsxs(T,{className:"max-w-md",children:[e.jsx(k,{children:e.jsx(A,{children:"Filtros Avan√ßados"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"search",children:"Buscar Categoria"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(v,{id:"search",placeholder:"Digite o nome da categoria...",className:"pl-10",value:a.search,onChange:s=>d(l=>({...l,search:s.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"category",children:"Categoria"}),e.jsxs(f,{value:a.category,onValueChange:s=>d(l=>({...l,category:s})),children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Todas as categorias"})}),e.jsxs(w,{children:[e.jsx(n,{value:"all",children:"Todas as categorias"}),N.map(s=>e.jsx(n,{value:s.category,children:s.category},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"status",children:"Status"}),e.jsxs(f,{value:a.status,onValueChange:s=>d(l=>({...l,status:s})),children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Todos os status"})}),e.jsxs(w,{children:[e.jsx(n,{value:"all",children:"Todos os status"}),e.jsx(n,{value:"green",children:"Capacidade Adequada"}),e.jsx(n,{value:"yellow",children:"Aten√ß√£o Necess√°ria"}),e.jsx(n,{value:"red",children:"Capacidade Cr√≠tica"})]})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"leader",children:"L√≠der"}),e.jsxs(f,{value:a.leader,onValueChange:s=>d(l=>({...l,leader:s})),children:[e.jsx(b,{children:e.jsx(y,{placeholder:"Todos os l√≠deres"})}),e.jsxs(w,{children:[e.jsx(n,{value:"all",children:"Todos os l√≠deres"}),Array.from(new Set(N.map(s=>s.leader))).map(s=>e.jsx(n,{value:s,children:s},s))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"minHours",children:"Horas M√≠n."}),e.jsx(v,{id:"minHours",type:"number",placeholder:"0",value:a.minHours,onChange:s=>d(l=>({...l,minHours:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"maxHours",children:"Horas M√°x."}),e.jsx(v,{id:"maxHours",type:"number",placeholder:"999",value:a.maxHours,onChange:s=>d(l=>({...l,maxHours:s.target.value}))})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(c,{variant:"outline",className:"flex-1 bg-transparent",onClick:()=>d({category:"all",status:"all",leader:"all",minHours:"",maxHours:"",search:""}),children:"Limpar"}),e.jsx(c,{className:"flex-1",onClick:()=>C(!1),children:"Aplicar"})]})]})]})]}),e.jsxs(H,{open:F,onOpenChange:P,children:[e.jsx(D,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Notifica√ß√µes",(t.length>0||i.length>0)&&e.jsx(x,{className:"ml-2 bg-red-100 text-red-800",children:t.length+i.length})]})}),e.jsxs(T,{className:"max-w-lg",children:[e.jsx(k,{children:e.jsx(A,{children:"Configura√ß√µes de Notifica√ß√£o"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Alertas de Capacidade"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-yellow-800",children:"N√≠vel Amarelo"}),e.jsx("p",{className:"text-sm text-yellow-600",children:"Notificar l√≠deres da categoria"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-gray-400"}),e.jsx(m,{defaultChecked:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(g,{className:"h-5 w-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-800",children:"N√≠vel Vermelho"}),e.jsx("p",{className:"text-sm text-red-600",children:"Notificar administradores"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-gray-400"}),e.jsx(m,{defaultChecked:!0})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200 ml-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:"h-4 w-4 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-800",children:"E-mail para Admins"}),e.jsx("p",{className:"text-sm text-red-600",children:"Envio autom√°tico por e-mail"})]})]}),e.jsx(m,{defaultChecked:!0})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Relat√≥rios Autom√°ticos"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Relat√≥rio Di√°rio"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Enviado √†s 09:00"})]}),e.jsx(m,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Relat√≥rio Semanal"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Enviado √†s segundas-feiras"})]}),e.jsx(m,{defaultChecked:!0})]})]})]}),(t.length>0||i.length>0)&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Alertas Ativos"}),e.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[t.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-red-50 rounded border border-red-200",children:[e.jsx(g,{className:"h-4 w-4 text-red-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:s.category}),e.jsxs("p",{className:"text-xs text-red-600",children:["Capacidade cr√≠tica - ",s.availableHours,"h dispon√≠veis"]})]})]},s.id)),i.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-yellow-50 rounded border border-yellow-200",children:[e.jsx(h,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:s.category}),e.jsxs("p",{className:"text-xs text-yellow-600",children:["Aten√ß√£o necess√°ria - ",s.availableHours,"h dispon√≠veis"]})]})]},s.id))]})]})]})]})]}),e.jsxs(c,{className:"bg-blue-500 hover:bg-blue-600 text-white",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Relat√≥rio"]})]})]}),(t.length>0||i.length>0)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.length>0&&e.jsx(u,{className:"border-red-200 bg-red-50",children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Capacidade Cr√≠tica"}),e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[t.length," categoria(s) precisam de aten√ß√£o imediata"]}),e.jsx("div",{className:"mt-2",children:t.map((s,l)=>e.jsxs(x,{className:"mr-2 mb-1 bg-red-100 text-red-800 border-red-200",children:[s.category," (",s.availableHours,"h)"]},l))}),e.jsx("p",{className:"text-xs text-red-500 mt-2",children:"‚ö†Ô∏è Administradores foram notificados por e-mail"})]}),e.jsx(g,{className:"h-8 w-8 text-red-500"})]})})}),i.length>0&&e.jsx(u,{className:"border-yellow-200 bg-yellow-50",children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800",children:"Aten√ß√£o Necess√°ria"}),e.jsxs("p",{className:"text-sm text-yellow-600 mt-1",children:[i.length," categoria(s) em estado de alerta"]}),e.jsx("div",{className:"mt-2",children:i.map((s,l)=>e.jsxs(x,{className:"mr-2 mb-1 bg-yellow-100 text-yellow-800 border-yellow-200",children:[s.category," (",s.availableHours,"h)"]},l))}),e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"üì± L√≠deres das categorias foram notificados"})]}),e.jsx(h,{className:"h-8 w-8 text-yellow-500"})]})})})]}),(a.category!=="all"||a.status!=="all"||a.leader!=="all"||a.minHours||a.maxHours||a.search)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(S,{className:"h-4 w-4"}),"Mostrando ",r.length," de ",N.length," categorias",e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>d({category:"all",status:"all",leader:"all",minHours:"",maxHours:"",search:""}),children:"Limpar filtros"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((s,l)=>e.jsx(u,{className:`border-2 ${s.status==="red"?"border-red-200":s.status==="yellow"?"border-yellow-200":"border-green-200"}`,children:e.jsxs(j,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.category}),V(s.status)]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.activeNomades}),e.jsx("p",{className:"text-xs text-gray-600",children:"N√¥mades Ativos"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.tasksLast30Days}),e.jsx("p",{className:"text-xs text-gray-600",children:"Tarefas (30d)"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[s.availableHours,"h"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Dispon√≠veis"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-700",children:[s.averageTaskDuration,"h"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Dura√ß√£o M√©dia"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-700",children:[s.completionRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Taxa Conclus√£o"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{className:E(s.status),children:B(s.status)}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(O,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-gray-600",children:s.demandTrend})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{children:"Capacidade"}),e.jsxs("span",{children:[Math.min(100,Math.round(s.availableHours/(s.tasksLast30Days*2)*100)),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${s.status==="red"?"bg-red-500":s.status==="yellow"?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(100,s.availableHours/(s.tasksLast30Days*2)*100)}%`}})})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["L√≠der: ",e.jsx("span",{className:"font-medium",children:s.leader})]})]}),s.needsMoreProfessionals&&e.jsxs("div",{className:"mt-4 p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("p",{className:"text-sm text-orange-800 font-medium",children:"Recomenda√ß√£o: Recrutar mais profissionais"}),e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Demanda crescente de ",s.demandTrend," nos √∫ltimos 30 dias"]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(c,{size:"sm",variant:"outline",className:"flex-1 bg-transparent",children:"Ver Detalhes"}),s.needsMoreProfessionals&&e.jsx(c,{size:"sm",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white",children:"Recrutar"})]})]})]})},l))}),e.jsx(u,{children:e.jsxs(j,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo Geral da Plataforma"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.reduce((s,l)=>s+l.activeNomades,0)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total de N√¥mades Ativos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.reduce((s,l)=>s+l.tasksLast30Days,0)}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tarefas √öltimos 30 Dias"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[r.reduce((s,l)=>s+l.availableHours,0),"h"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Horas Dispon√≠veis Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[Math.round(r.reduce((s,l)=>s+l.tasksLast30Days*l.averageTaskDuration,0)/r.reduce((s,l)=>s+l.availableHours,0)*100),"%"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Taxa de Utiliza√ß√£o"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.length+i.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Alertas Ativos"})]})]})]})})]})}export{W as default};
