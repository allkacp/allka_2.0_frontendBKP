import{r as m,j as e,f as I,P as re,C as S,g as C,U as ce,a2 as G,ao as se,a as O,d as $,e as le,af as x,ag as H,aR as ne,ai as W,B as k,Z as de,a5 as oe,E as V,H as z,I as Q,J as U,K as A,an as Z,T as me,h as ue,i as Y,k as ee}from"./index-D2dOrPZ8.js";import{S as xe}from"./square-pen-Bi43ABVd.js";import{T as he}from"./triangle-alert-Cjhkzg0C.js";const pe=[{id:"1",name:"Design Gráfico",description:"Criação de materiais visuais, identidade visual e peças gráficas",hourlyRate:85,category:"Design",requiredSkills:["Adobe Creative Suite","Figma","Branding"],marketResearchDate:"2024-01-15",isActive:!0},{id:"2",name:"Desenvolvimento Web",description:"Desenvolvimento de websites e aplicações web",hourlyRate:120,category:"Tecnologia",requiredSkills:["React","Node.js","TypeScript"],marketResearchDate:"2024-01-15",isActive:!0},{id:"3",name:"Marketing Digital",description:"Estratégias de marketing online e gestão de campanhas",hourlyRate:95,category:"Marketing",requiredSkills:["Google Ads","Facebook Ads","Analytics"],marketResearchDate:"2024-01-15",isActive:!0}];function je(){const[l,i]=m.useState(pe),[h,u]=m.useState(!1),[p,N]=m.useState(null),[o,n]=m.useState({name:"",description:"",hourlyRate:0,category:"",requiredSkills:"",isActive:!0}),F=a=>{a.preventDefault();const t={id:p||Date.now().toString(),name:o.name,description:o.description,hourlyRate:o.hourlyRate,category:o.category,requiredSkills:o.requiredSkills.split(",").map(c=>c.trim()),marketResearchDate:new Date().toISOString().split("T")[0],isActive:o.isActive};i(p?c=>c.map(T=>T.id===p?t:T):c=>[...c,t]),g()},g=()=>{n({name:"",description:"",hourlyRate:0,category:"",requiredSkills:"",isActive:!0}),u(!1),N(null)},D=a=>{n({name:a.name,description:a.description,hourlyRate:a.hourlyRate,category:a.category,requiredSkills:a.requiredSkills.join(", "),isActive:a.isActive}),N(a.id),u(!0)},v=a=>{i(t=>t.filter(c=>c.id!==a))},q=a=>{i(t=>t.map(c=>c.id===a?{...c,isActive:!c.isActive}:c))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Gestão de Especialidades"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure as especialidades e valores por hora dos nômades"})]}),e.jsxs(I,{onClick:()=>u(!0),className:"gap-2",children:[e.jsx(re,{className:"h-4 w-4"}),"Nova Especialidade"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(S,{children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Especialidades"}),e.jsx("p",{className:"text-2xl font-bold",children:l.length})]})]})})}),e.jsx(S,{children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Médio/Hora"}),e.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",Math.round(l.reduce((a,t)=>a+t.hourlyRate,0)/l.length)]})]})]})})}),e.jsx(S,{children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Especialidades Ativas"}),e.jsx("p",{className:"text-2xl font-bold",children:l.filter(a=>a.isActive).length})]})]})})})]}),h&&e.jsxs(S,{children:[e.jsxs(O,{children:[e.jsx($,{children:p?"Editar Especialidade":"Nova Especialidade"}),e.jsx(le,{children:"Configure os detalhes da especialidade e valor por hora"})]}),e.jsx(C,{children:e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"name",children:"Nome da Especialidade"}),e.jsx(H,{id:"name",value:o.name,onChange:a=>n(t=>({...t,name:a.target.value})),placeholder:"Ex: Design Gráfico",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"category",children:"Categoria"}),e.jsx(H,{id:"category",value:o.category,onChange:a=>n(t=>({...t,category:a.target.value})),placeholder:"Ex: Design, Tecnologia, Marketing",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"description",children:"Descrição"}),e.jsx(ne,{id:"description",value:o.description,onChange:a=>n(t=>({...t,description:a.target.value})),placeholder:"Descreva as responsabilidades e escopo desta especialidade",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"hourlyRate",children:"Valor por Hora (R$)"}),e.jsx(H,{id:"hourlyRate",type:"number",value:o.hourlyRate,onChange:a=>n(t=>({...t,hourlyRate:Number(a.target.value)})),placeholder:"85",min:"0",step:"0.01",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"requiredSkills",children:"Habilidades Necessárias"}),e.jsx(H,{id:"requiredSkills",value:o.requiredSkills,onChange:a=>n(t=>({...t,requiredSkills:a.target.value})),placeholder:"Figma, Adobe Creative Suite, Branding"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Separe por vírgulas"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{id:"isActive",checked:o.isActive,onCheckedChange:a=>n(t=>({...t,isActive:a}))}),e.jsx(x,{htmlFor:"isActive",children:"Especialidade ativa"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{type:"submit",children:[p?"Atualizar":"Criar"," Especialidade"]}),e.jsx(I,{type:"button",variant:"outline",onClick:g,children:"Cancelar"})]})]})})]}),e.jsx("div",{className:"grid gap-4",children:l.map(a=>e.jsx(S,{className:a.isActive?"":"opacity-60",children:e.jsx(C,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:a.name}),e.jsx(k,{variant:a.isActive?"default":"secondary",children:a.isActive?"Ativa":"Inativa"}),e.jsx(k,{variant:"outline",children:a.category})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"font-medium",children:["R$ ",a.hourlyRate,"/hora"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:a.requiredSkills.map((t,c)=>e.jsx(k,{variant:"secondary",className:"text-xs",children:t},c))})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{size:"sm",variant:"outline",onClick:()=>q(a.id),children:a.isActive?"Desativar":"Ativar"}),e.jsx(I,{size:"sm",variant:"outline",onClick:()=>D(a),children:e.jsx(xe,{className:"h-4 w-4"})}),e.jsx(I,{size:"sm",variant:"outline",onClick:()=>v(a.id),className:"text-red-600 hover:text-red-700",children:e.jsx(de,{className:"h-4 w-4"})})]})]})})},a.id))})]})}const R={PARTNER_COMMISSION:.05,QUALIFICATION_FEE:.2,TAXES:.14,OPERATIONAL_FEE:.05};class w{static instance;static getInstance(){return w.instance||(w.instance=new w),w.instance}calculateTaskPrice(i,h,u=[],p=[],N=[],o={}){const{quantity:n=1,isEmergency:F=!1,isMonthly:g=!1,accountType:D,accountSubType:v,creditPlan:q,nomadLevel:a="bronze"}=o,t=i.baseHours*h.hourlyRate;let c=0,T=0;p.forEach(d=>{const ie=N.find(te=>te.id===d.specialtyId)||h;c+=d.hours*ie.hourlyRate,T+=d.hours});const y=t+c,L=i.baseHours+T,j={bronze:0,silver:.25,gold:.5,platinum:.5,leader:.5},B=y*j[a],E=y+B,M=E+E*(i.profitMargin/100);let s=M;u.forEach(d=>{s+=M*(d.percentageModifier/100)});let r=s*n,b=y*n;if(F){const d=i.emergencyMultiplier/100;r*=1+d,b*=1+d}if(n>1){const d=i.quantityDiscount/100;r*=1-d,b*=1-d}if(g){const d=i.monthlyDiscount/100;r*=1-d,b*=1-d}if(D&&v){const d=this.calculateAccountDiscount(D,v,q);d>0&&(r*=1-d,b*=1-d)}const f=r*R.PARTNER_COMMISSION,X=r*R.TAXES,J=r*R.OPERATIONAL_FEE,K=E*R.QUALIFICATION_FEE,ae=[{item:"Remuneração Base do Nômade",type:"cost",value:y,description:`${L}h × R$ ${h.hourlyRate}/h`},{item:`Bônus Nível ${a.charAt(0).toUpperCase()+a.slice(1)}`,type:"cost",value:B,percentage:j[a]*100,description:`${j[a]*100}% sobre remuneração base`},{item:"Margem de Lucro Allka",type:"profit",value:M-E,percentage:i.profitMargin,description:"Margem de lucro da plataforma"},{item:"Taxa de Qualificação",type:"fee",value:K,percentage:R.QUALIFICATION_FEE*100,description:"20% sobre custo da tarefa"},{item:"Comissão Parceiro",type:"fee",value:f,percentage:R.PARTNER_COMMISSION*100,description:"5% sobre valor final"},{item:"Impostos",type:"tax",value:X,percentage:R.TAXES*100,description:"14% sobre valor final"},{item:"Taxa Operacional",type:"fee",value:J,percentage:R.OPERATIONAL_FEE*100,description:"5% sobre valor final"}];return{baseHours:L,hourlyRate:h.hourlyRate,baseCost:y,nomadPayment:b,qualificationFee:K,partnerCommission:f,taxes:X,operationalFee:J,allkaProfit:M-E,finalPrice:r,breakdown:ae}}calculateShowcasePrice(i,h){const p=i.baseHours*h.hourlyRate;return p+p*(i.profitMargin/100)}calculateAccountDiscount(i,h,u){return i==="agencias"?u===500?.1:u===1e3?.15:u===1500?.2:0:i==="empresas"&&h==="company"?.05:0}calculateNomadRemuneration(i,h){return i*{bronze:1,silver:1.25,gold:1.5,platinum:1,leader:1}[h]}formatCurrency(i){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)}}const P=w.getInstance(),_=[{id:"1",name:"Design Gráfico",description:"Criação de materiais visuais",hourlyRate:85,category:"Design",requiredSkills:["Adobe Creative Suite","Figma"],marketResearchDate:"2024-01-15",isActive:!0},{id:"2",name:"Desenvolvimento Web",description:"Desenvolvimento de websites",hourlyRate:120,category:"Tecnologia",requiredSkills:["React","Node.js"],marketResearchDate:"2024-01-15",isActive:!0}],ge={id:"1",name:"Criação de Landing Page",description:"Desenvolvimento de página de conversão",specialtyId:"2",baseHours:40,profitMargin:30,emergencyMultiplier:50,quantityDiscount:10,monthlyDiscount:15,variations:[{id:"1",name:"Básica",description:"Layout simples",percentageModifier:-20,features:["Design responsivo","Formulário de contato"]},{id:"2",name:"Premium",description:"Layout avançado",percentageModifier:50,features:["Animações","Integração CRM","A/B Testing"]}],addons:[{id:"1",name:"SEO Básico",description:"Otimização para motores de busca",specialtyId:"2",hours:8,isRequired:!1,category:"Marketing"}],isActive:!0};function ve(){const[l]=m.useState(ge),[i,h]=m.useState(_[1]),[u,p]=m.useState([]),[N,o]=m.useState([]),[n,F]=m.useState(1),[g,D]=m.useState(!1),[v,q]=m.useState(!1),[a,t]=m.useState("empresas"),[c,T]=m.useState("in-house"),[y,L]=m.useState(),[j,B]=m.useState(null);m.useEffect(()=>{const s=P.calculateTaskPrice(l,i,u,N,_,{quantity:n,isEmergency:g,isMonthly:v,accountType:a,accountSubType:c,creditPlan:y});B(s)},[l,i,u,N,n,g,v,a,c,y]);const E=s=>{p(r=>r.find(f=>f.id===s.id)?r.filter(f=>f.id!==s.id):[...r,s])},M=s=>{o(r=>r.find(f=>f.id===s.id)?r.filter(f=>f.id!==s.id):[...r,s])};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Calculadora de Preços"}),e.jsx("p",{className:"text-muted-foreground",children:"Simule preços de tarefas com diferentes configurações"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs(S,{children:[e.jsx(O,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Configuração da Tarefa"]})}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(x,{children:"Tarefa Selecionada"}),e.jsxs("div",{className:"mt-1 p-3 bg-muted rounded-lg",children:[e.jsx("h4",{className:"font-medium",children:l.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-4 w-4"}),l.baseHours,"h base"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4"}),l.profitMargin,"% margem"]})]})]})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Especialidade"}),e.jsxs(V,{value:i.id,onValueChange:s=>{const r=_.find(b=>b.id===s);r&&h(r)},children:[e.jsx(z,{children:e.jsx(Q,{})}),e.jsx(U,{children:_.map(s=>e.jsxs(A,{value:s.id,children:[s.name," - R$ ",s.hourlyRate,"/h"]},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Variações"}),e.jsx("div",{className:"space-y-2 mt-2",children:l.variations.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`variation-${s.id}`,checked:u.some(r=>r.id===s.id),onChange:()=>E(s),className:"rounded"}),e.jsxs("label",{htmlFor:`variation-${s.id}`,className:"flex-1 text-sm",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsxs(k,{variant:s.percentageModifier>0?"default":"secondary",className:"ml-2",children:[s.percentageModifier>0?"+":"",s.percentageModifier,"%"]}),e.jsx("p",{className:"text-muted-foreground",children:s.description})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx(x,{children:"Adicionais"}),e.jsx("div",{className:"space-y-2 mt-2",children:l.addons.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`addon-${s.id}`,checked:N.some(r=>r.id===s.id),onChange:()=>M(s),className:"rounded"}),e.jsxs("label",{htmlFor:`addon-${s.id}`,className:"flex-1 text-sm",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsxs(k,{variant:"outline",className:"ml-2",children:["+",s.hours,"h"]}),e.jsx("p",{className:"text-muted-foreground",children:s.description})]})]},s.id))})]}),e.jsx(Z,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"quantity",children:"Quantidade"}),e.jsx(H,{id:"quantity",type:"number",value:n,onChange:s=>F(Number(s.target.value)),min:"1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{children:"Opções"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{id:"emergency",checked:g,onCheckedChange:D}),e.jsxs(x,{htmlFor:"emergency",className:"text-sm",children:["Entrega emergencial (+",l.emergencyMultiplier,"%)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{id:"monthly",checked:v,onCheckedChange:q}),e.jsxs(x,{htmlFor:"monthly",className:"text-sm",children:["Modelo mensal (-",l.monthlyDiscount,"%)"]})]})]})]})]}),e.jsx(Z,{}),e.jsxs("div",{children:[e.jsx(x,{children:"Tipo de Conta"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs(V,{value:a,onValueChange:s=>t(s),children:[e.jsx(z,{children:e.jsx(Q,{})}),e.jsxs(U,{children:[e.jsx(A,{value:"empresas",children:"Empresas"}),e.jsx(A,{value:"agencias",children:"Agências"})]})]}),a==="empresas"&&e.jsxs(V,{value:c||"",onValueChange:s=>T(s),children:[e.jsx(z,{children:e.jsx(Q,{})}),e.jsxs(U,{children:[e.jsx(A,{value:"company",children:"Company"}),e.jsx(A,{value:"in-house",children:"In-House"})]})]}),a==="agencias"&&e.jsxs(V,{value:y?.toString()||"",onValueChange:s=>L(Number(s)),children:[e.jsx(z,{children:e.jsx(Q,{placeholder:"Plano de crédito"})}),e.jsxs(U,{children:[e.jsx(A,{value:"500",children:"R$ 500"}),e.jsx(A,{value:"1000",children:"R$ 1.000"}),e.jsx(A,{value:"1500",children:"R$ 1.500"})]})]})]})]})]})]})}),e.jsx("div",{className:"space-y-6",children:j&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{children:[e.jsx(O,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Resultado do Cálculo"]})}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-6 bg-primary/5 rounded-lg",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Preço Final"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:P.formatCurrency(j.finalPrice)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Horas Totais"}),e.jsxs("p",{className:"font-medium",children:[j.baseHours,"h"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Valor/Hora"}),e.jsxs("p",{className:"font-medium",children:["R$ ",j.hourlyRate]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Remuneração Nômade"}),e.jsx("p",{className:"font-medium",children:P.formatCurrency(j.nomadPayment)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Lucro Allka"}),e.jsx("p",{className:"font-medium",children:P.formatCurrency(j.allkaProfit)})]})]})]})})]}),e.jsxs(S,{children:[e.jsx(O,{children:e.jsx($,{children:"Detalhamento de Custos"})}),e.jsx(C,{children:e.jsx("div",{className:"space-y-3",children:j.breakdown.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.type==="cost"?"bg-blue-500":s.type==="fee"?"bg-orange-500":s.type==="tax"?"bg-red-500":"bg-green-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.item}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:P.formatCurrency(s.value)}),s.percentage&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.percentage,"%"]})]})]},r))})})]}),(g||v||n>1)&&e.jsxs(S,{children:[e.jsx(O,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-orange-500"}),"Modificadores Aplicados"]})}),e.jsx(C,{children:e.jsxs("div",{className:"space-y-2",children:[g&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Entrega Emergencial"}),e.jsxs(k,{variant:"destructive",children:["+",l.emergencyMultiplier,"%"]})]}),n>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Desconto por Quantidade"}),e.jsxs(k,{variant:"secondary",children:["-",l.quantityDiscount,"%"]})]}),v&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Desconto Mensal"}),e.jsxs(k,{variant:"secondary",children:["-",l.monthlyDiscount,"%"]})]})]})})]})]})})]})]})}function be(){return e.jsx("div",{className:"container mx-auto py-6",children:e.jsxs(me,{defaultValue:"calculator",className:"space-y-6",children:[e.jsxs(ue,{className:"grid w-full grid-cols-2",children:[e.jsx(Y,{value:"calculator",children:"Calculadora de Preços"}),e.jsx(Y,{value:"specialties",children:"Gestão de Especialidades"})]}),e.jsx(ee,{value:"calculator",children:e.jsx(ve,{})}),e.jsx(ee,{value:"specialties",children:e.jsx(je,{})})]})})}export{be as default};
