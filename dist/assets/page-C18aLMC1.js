import{c as V,u as H,r as g,bR as $,j as e,C as A,d as v,B as h,aj as I,U as T,ao as U,W as R,f as d,ac as E,P as q,bJ as S,az as O,a as J,g as B,bS as W,aU as G,ag as _,a1 as K,bL as F,bT as Q,E as X,H as Z,I as Y,J as ee,K as M}from"./index-D2dOrPZ8.js";import{c as se,f as C}from"./pricing-BU34M9L9.js";import{F as ae}from"./funnel-D8IEwOH8.js";import{G as ie}from"./grid-3x3-DSkwZCAM.js";import{L as ne}from"./list-CjThOVOb.js";const te=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],le=V("arrow-up-narrow-wide",te);function re({product:s,viewMode:p,creditPlan:j}){const{accountType:N,accountSubType:o}=H(),[f,y]=g.useState(!1),{addItem:m,removeItem:t,updateQuantity:x,items:a}=$(),[l,u]=g.useState(!1),b=se(s.basePrice,N,o,j),w=s.variations.length>0,n=w?Math.min(...s.variations.map(c=>b*c.priceModifier)):b,i=a.find(c=>c.product.id===s.id),r=!!i,P=c=>{c.stopPropagation(),m(s),u(!0),setTimeout(()=>u(!1),2e3)},z=c=>{c.stopPropagation(),i&&x(s.id,i.quantity+1)},L=c=>{c.stopPropagation(),i&&(i.quantity>1?x(s.id,i.quantity-1):t(s.id))},D={basic:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-orange-100 text-orange-800",premium:"bg-purple-100 text-purple-800"};return p==="list"?e.jsx(A,{className:"mb-4 hover:shadow-md transition-shadow overflow-hidden",children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("div",{className:"w-full sm:w-64 h-56 sm:h-48 bg-gray-100 flex items-center justify-center shrink-0",children:e.jsx("img",{src:s.image||`/placeholder.svg?height=224&width=256&query=${encodeURIComponent(s.name)}`,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-4 sm:p-6 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3 mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(v,{className:"text-lg sm:text-xl mb-1 line-clamp-2",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:s.shortDescription})]}),e.jsxs("div",{className:"text-left sm:text-right shrink-0",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-primary mb-1",children:w?`a partir de ${C(n)}`:C(b)}),e.jsx(h,{className:D[s.complexity],children:s.complexity})]})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-500 mb-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:s.stats.averageRating.toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),e.jsxs("span",{children:[s.stats.contractCount," contratações"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),e.jsx("span",{children:s.stats.completionTime})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.tags.slice(0,3).map(c=>e.jsx(h,{variant:"secondary",className:"text-xs",children:c},c)),s.tags.length>3&&e.jsxs(h,{variant:"secondary",className:"text-xs",children:["+",s.tags.length-3]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 bg-green-50 border border-green-200 rounded-lg px-3 py-1.5",children:[e.jsx(R,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-700",children:["No carrinho: ",i.quantity,"x"]})]}),e.jsx(d,{size:"sm",variant:"outline",onClick:L,children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(d,{size:"sm",variant:"outline",onClick:z,children:e.jsx(q,{className:"h-4 w-4"})})]}):e.jsx(d,{size:"sm",onClick:P,className:l?"bg-green-600 hover:bg-green-700":"",children:l?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 mr-1"}),"Adicionado"]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Adicionar ao Carrinho"}),e.jsx("span",{className:"sm:hidden",children:"Adicionar"})]})}),e.jsxs(d,{variant:"outline",size:"sm",children:[e.jsx(O,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Ver Detalhes"}),e.jsx("span",{className:"sm:hidden",children:"Detalhes"})]})]})]})]})}):e.jsxs(A,{className:"h-full hover:shadow-lg transition-all duration-200 cursor-pointer flex flex-col",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[e.jsx(J,{className:"p-0",children:e.jsxs("div",{className:"relative h-56 sm:h-64 bg-gray-100 rounded-t-lg overflow-hidden",children:[e.jsx("img",{src:s.image||`/placeholder.svg?height=256&width=384&query=${encodeURIComponent(s.name)}`,alt:s.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(h,{className:D[s.complexity],children:s.complexity})})]})}),e.jsxs(B,{className:"p-3 sm:p-4 flex-1 flex flex-col",children:[e.jsx(v,{className:"text-base sm:text-lg mb-2 line-clamp-2",children:s.name}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 line-clamp-2",children:s.shortDescription}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:s.stats.averageRating.toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),e.jsx("span",{children:s.stats.contractCount})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.tags.slice(0,2).map(c=>e.jsx(h,{variant:"secondary",className:"text-xs",children:c},c)),s.tags.length>2&&e.jsxs(h,{variant:"secondary",className:"text-xs",children:["+",s.tags.length-2]})]})]}),e.jsx(W,{className:"p-3 sm:p-4 pt-0 mt-auto",children:e.jsxs("div",{className:"w-full space-y-2",children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold text-primary truncate",children:w?`a partir de ${C(n)}`:C(b)}),r?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"No carrinho"})]}),e.jsxs(h,{variant:"secondary",className:"bg-green-100 text-green-700",children:[i.quantity,"x"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{size:"sm",variant:"outline",className:"flex-1 bg-transparent",onClick:L,children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-1 text-center",children:e.jsx("span",{className:"text-lg font-bold",children:i.quantity})}),e.jsx(d,{size:"sm",variant:"outline",className:"flex-1 bg-transparent",onClick:z,children:e.jsx(q,{className:"h-4 w-4"})})]})]}):e.jsx(d,{className:`w-full ${l?"bg-green-600 hover:bg-green-700":""}`,size:"sm",onClick:P,children:l?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Adicionado ao Carrinho"}),e.jsx("span",{className:"sm:hidden",children:"Adicionado"})]}):f?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Adicionar ao Carrinho"}),e.jsx("span",{className:"sm:hidden",children:"Adicionar"})]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Adicionar"}),e.jsx("span",{className:"sm:hidden",children:"+"})]})})]})})]})}function ce({filters:s,onFiltersChange:p,availableCategories:j,availableTags:N,maxPrice:o}){const[f,y]=g.useState(!1),m=a=>{p({...s,...a})},t=()=>{p({search:"",categories:[],complexity:[],priceRange:[0,o],tags:[],minRating:0})},x=s.categories.length+s.complexity.length+s.tags.length+(s.minRating>0?1:0)+(s.priceRange[0]>0||s.priceRange[1]<o?1:0);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(_,{placeholder:"Buscar produtos, tags, variações...",value:s.search,onChange:a=>m({search:a.target.value}),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(d,{variant:"outline",onClick:()=>y(!f),className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Filtros",x>0&&e.jsx(h,{variant:"secondary",className:"ml-1",children:x})]}),x>0&&e.jsxs(d,{variant:"ghost",size:"sm",onClick:t,children:[e.jsx(K,{className:"h-4 w-4 mr-1"}),"Limpar"]})]}),f&&e.jsx(A,{children:e.jsxs(B,{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium mb-3",children:"Categorias"}),e.jsx("div",{className:"space-y-2",children:j.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:a,checked:s.categories.includes(a),onCheckedChange:l=>{m(l?{categories:[...s.categories,a]}:{categories:s.categories.filter(u=>u!==a)})}}),e.jsx("label",{htmlFor:a,className:"text-sm",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium mb-3",children:"Complexidade"}),e.jsx("div",{className:"space-y-2",children:["basic","intermediate","advanced","premium"].map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:a,checked:s.complexity.includes(a),onCheckedChange:l=>{m(l?{complexity:[...s.complexity,a]}:{complexity:s.complexity.filter(u=>u!==a)})}}),e.jsx("label",{htmlFor:a,className:"text-sm capitalize",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium mb-3",children:"Faixa de Preço"}),e.jsxs("div",{className:"px-2",children:[e.jsx(Q,{value:s.priceRange,onValueChange:a=>m({priceRange:a}),max:o,step:100,className:"mb-2"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[e.jsx("span",{children:C(s.priceRange[0])}),e.jsx("span",{children:C(s.priceRange[1])})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium mb-3",children:"Avaliação Mínima"}),e.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:`rating-${a}`,checked:s.minRating===a,onCheckedChange:l=>{m({minRating:l?a:0})}}),e.jsxs("label",{htmlFor:`rating-${a}`,className:"text-sm",children:[a,"+ estrelas"]})]},a))})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium mb-3",children:"Tags Populares"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.slice(0,10).map(a=>e.jsx(h,{variant:s.tags.includes(a)?"default":"secondary",className:"cursor-pointer",onClick:()=>{s.tags.includes(a)?m({tags:s.tags.filter(l=>l!==a)}):m({tags:[...s.tags,a]})},children:a},a))})]})]})})]})}const k=[{id:"1",name:"Desenvolvimento de Landing Page",description:"Landing page completa com design responsivo e otimizada para conversão",shortDescription:"Landing page responsiva e otimizada",category:"Desenvolvimento Web",tags:["landing page","responsivo","conversão","SEO"],basePrice:2500,complexity:"intermediate",visibility:{company:!0,agency:!0,partner:!0,inHouse:!0},variations:[{id:"1a",name:"Básica",description:"Design simples",priceModifier:.8,features:["Design responsivo","Formulário de contato"]},{id:"1b",name:"Premium",description:"Design avançado",priceModifier:1.5,features:["Design customizado","Animações","Analytics"]}],addons:[{id:"1x",name:"SEO Avançado",description:"Otimização completa para buscadores",price:500,category:"SEO"}],stats:{contractCount:156,averageRating:4.8,completionTime:"5-7 dias"},demonstrations:["https://demo1.com","https://demo2.com"],image:""},{id:"2",name:"Campanha de Marketing Digital",description:"Campanha completa de marketing digital com estratégia personalizada",shortDescription:"Campanha de marketing personalizada",category:"Marketing Digital",tags:["marketing","campanha","digital","estratégia"],basePrice:5e3,complexity:"advanced",visibility:{company:!0,agency:!0,partner:!0,inHouse:!1},variations:[],addons:[],stats:{contractCount:89,averageRating:4.6,completionTime:"15-20 dias"},demonstrations:[],image:""},{id:"3",name:"Identidade Visual Completa",description:"Criação de identidade visual completa incluindo logo, cores e tipografia",shortDescription:"Identidade visual e branding",category:"Design",tags:["identidade visual","logo","branding","design"],basePrice:3500,complexity:"intermediate",visibility:{company:!0,agency:!0,partner:!0,inHouse:!0},variations:[{id:"3a",name:"Essencial",description:"Logo + manual básico",priceModifier:.7,features:["Logo","Manual básico"]},{id:"3b",name:"Completa",description:"Identidade completa",priceModifier:1.2,features:["Logo","Manual completo","Aplicações"]}],addons:[],stats:{contractCount:203,averageRating:4.9,completionTime:"10-12 dias"},demonstrations:[],image:""}];function ge(){const{accountType:s,accountSubType:p}=H(),[j,N]=g.useState("grid"),[o,f]=g.useState("popularity"),[y,m]=g.useState(1e3),[t,x]=g.useState({search:"",categories:[],complexity:[],priceRange:[0,1e4],tags:[],minRating:0}),a=g.useMemo(()=>{let n=k.filter(i=>{if(s==="empresas"){if(p==="company")return i.visibility.company;if(p==="in-house")return i.visibility.inHouse}return s==="agencias"?i.visibility.agency:!0});if(t.search){const i=t.search.toLowerCase();n=n.filter(r=>r.name.toLowerCase().includes(i)||r.description.toLowerCase().includes(i)||r.tags.some(P=>P.toLowerCase().includes(i)))}return t.categories.length>0&&(n=n.filter(i=>t.categories.includes(i.category))),t.complexity.length>0&&(n=n.filter(i=>t.complexity.includes(i.complexity))),n=n.filter(i=>i.basePrice>=t.priceRange[0]&&i.basePrice<=t.priceRange[1]),t.minRating>0&&(n=n.filter(i=>i.stats.averageRating>=t.minRating)),t.tags.length>0&&(n=n.filter(i=>t.tags.some(r=>i.tags.includes(r)))),n},[k,s,p,t]),l=g.useMemo(()=>{const n=[...a];switch(o){case"name":return n.sort((i,r)=>i.name.localeCompare(r.name));case"price":return n.sort((i,r)=>i.basePrice-r.basePrice);case"rating":return n.sort((i,r)=>r.stats.averageRating-i.stats.averageRating);case"popularity":return n.sort((i,r)=>r.stats.contractCount-i.stats.contractCount);default:return n}},[a,o]),u=Array.from(new Set(k.map(n=>n.category))),b=Array.from(new Set(k.flatMap(n=>n.tags))),w=Math.max(...k.map(n=>n.basePrice));return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Catálogo de Serviços"}),e.jsx("p",{className:"text-gray-600",children:"Encontre o serviço perfeito para suas necessidades"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(ce,{filters:t,onFiltersChange:x,availableCategories:u,availableTags:b,maxPrice:w})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[l.length," produtos encontrados"]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(X,{value:o,onValueChange:n=>f(n),children:[e.jsxs(Z,{className:"w-48",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),e.jsx(Y,{})]}),e.jsxs(ee,{children:[e.jsx(M,{value:"popularity",children:"Mais Popular"}),e.jsx(M,{value:"name",children:"Nome A-Z"}),e.jsx(M,{value:"price",children:"Menor Preço"}),e.jsx(M,{value:"rating",children:"Melhor Avaliado"})]})]}),e.jsxs("div",{className:"flex border rounded-lg",children:[e.jsx(d,{variant:j==="grid"?"default":"ghost",size:"sm",onClick:()=>N("grid"),className:"rounded-r-none",children:e.jsx(ie,{className:"h-4 w-4"})}),e.jsx(d,{variant:j==="list"?"default":"ghost",size:"sm",onClick:()=>N("list"),className:"rounded-l-none",children:e.jsx(ne,{className:"h-4 w-4"})})]})]})]}),l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"Nenhum produto encontrado"}),e.jsx(d,{variant:"outline",onClick:()=>x({search:"",categories:[],complexity:[],priceRange:[0,w],tags:[],minRating:0}),children:"Limpar Filtros"})]}):e.jsx("div",{className:j==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:l.map(n=>e.jsx(re,{product:n,viewMode:j,creditPlan:s==="agencias"?y:void 0},n.id))})]})]})]})}export{ge as default};
