import{M as se,r as n,j as e,D as xe,v as he,w as ue,x as je,q as pe,T as ae,h as te,i as w,U as we,F as Z,S as Ce,o as K,a9 as Te,k as C,C as d,a as g,d as f,g as m,af as p,E as J,H as G,I as Q,J as $,K as P,B as F,f as v,Z as Se,ai as W,ab as Pe,ag as V,aR as ce,P as ge,az as ke,bp as ee,br as H,ao as U,y as le,aU as fe,p as Ae,n as Y,bZ as Ie,b_ as ve,bk as oe,bU as Ee,bM as De,bV as de,al as Le,bW as Fe,bY as Re}from"./index-D2dOrPZ8.js";import{T as Ne,a as _e,b as z,c as k,d as ye,e as b}from"./table-DSYZvwhV.js";import{E as Be}from"./eye-off-99P7biTF.js";import{T as O}from"./triangle-alert-Cjhkzg0C.js";import{S as be}from"./square-pen-Bi43ABVd.js";import{M as Me}from"./message-square-Bm6iE3sR.js";import{R as X}from"./refresh-cw-DxjD_bXp.js";import{D as me}from"./download--rFCaPFG.js";function qe({isOpen:T,onClose:N,projectId:_,projectName:l}){const{toast:u}=se(),[h,S]=n.useState(!1),[r,o]=n.useState(null),[L,A]=n.useState("identification"),[I,E]=n.useState([]),[q,R]=n.useState({}),[c,D]=n.useState({title:"",type:"password",content:""}),[B,M]=n.useState([]),[s,j]=n.useState([]);n.useEffect(()=>{T&&(i(),re())},[T,_]);const i=async()=>{try{S(!0);const a=await fetch(`/api/projects/${_}/configuration`);if(a.ok){const x=await a.json();o(x),j(x.responsible_users||[])}else o({project_id:_,responsible_users:[],auto_save_attachments:!1,file_categories:["Documentos","Imagens","Contratos","Relatórios"],vault_enabled:!1,vault_permissions:[],payment_mode:"SQUAD",payment_config:{},auto_task_distribution:!1,auto_approval_on_timeout:!1,auto_approval_timeout_hours:48})}catch{u({title:"Erro",description:"Falha ao carregar configurações do projeto",variant:"destructive"})}finally{S(!1)}},re=async()=>{try{const a=await fetch("/api/users");if(a.ok){const x=await a.json();M(x)}}catch(a){console.error("Failed to load users:",a)}},ne=async()=>{if(r)try{S(!0);const a={...r,responsible_users:s};if((await fetch(`/api/projects/${_}/configuration`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)u({title:"Sucesso",description:"Configurações do projeto salvas com sucesso"}),N();else throw new Error("Failed to save configuration")}catch{u({title:"Erro",description:"Falha ao salvar configurações",variant:"destructive"})}finally{S(!1)}},t=async()=>{if(!(!c.title||!c.content))try{const a=await fetch(`/api/projects/${_}/vault`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(a.ok){const x=await a.json();E([...I,x]),D({title:"",type:"password",content:""}),u({title:"Sucesso",description:"Item adicionado ao cofre"})}}catch{u({title:"Erro",description:"Falha ao adicionar item ao cofre",variant:"destructive"})}},y=a=>{R(x=>({...x,[a]:!x[a]}))};return r?e.jsx(xe,{open:T,onOpenChange:N,children:e.jsxs(he,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ue,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5"}),"Configurações do Projeto: ",l]})}),e.jsxs(ae,{value:L,onValueChange:A,className:"w-full",children:[e.jsxs(te,{className:"grid w-full grid-cols-5",children:[e.jsxs(w,{value:"identification",className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-4 h-4"}),"Identificação"]}),e.jsxs(w,{value:"files",className:"flex items-center gap-1",children:[e.jsx(Z,{className:"w-4 h-4"}),"Arquivos"]}),e.jsxs(w,{value:"vault",className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"w-4 h-4"}),"Cofre"]}),e.jsxs(w,{value:"payment",className:"flex items-center gap-1",children:[e.jsx(K,{className:"w-4 h-4"}),"Pagamento"]}),e.jsxs(w,{value:"automation",className:"flex items-center gap-1",children:[e.jsx(Te,{className:"w-4 h-4"}),"Automações"]})]}),e.jsx(C,{value:"identification",className:"space-y-4",children:e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{children:"Usuários Responsáveis"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Selecionar Responsáveis"}),e.jsxs(J,{onValueChange:a=>{const x=Number.parseInt(a);s.includes(x)||j([...s,x])},children:[e.jsx(G,{children:e.jsx(Q,{placeholder:"Adicionar responsável"})}),e.jsx($,{children:B.filter(a=>!s.includes(a.id)).map(a=>e.jsx(P,{value:a.id.toString(),children:a.name},a.id))})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(a=>{const x=B.find(ie=>ie.id===a);return x?e.jsxs(F,{variant:"secondary",className:"flex items-center gap-1",children:[x.name,e.jsx(v,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>j(s.filter(ie=>ie!==a)),children:e.jsx(Se,{className:"w-3 h-3"})})]},a):null})})]})]})}),e.jsx(C,{value:"files",className:"space-y-4",children:e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{children:"Configurações de Arquivos"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Salvar Anexos de Tarefas Automaticamente"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Anexos de tarefas serão salvos automaticamente na central de arquivos"})]}),e.jsx(W,{checked:r.auto_save_attachments,onCheckedChange:a=>o({...r,auto_save_attachments:a})})]}),e.jsxs("div",{children:[e.jsx(p,{children:"Categorias de Arquivos"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.file_categories.map((a,x)=>e.jsx(F,{variant:"outline",children:a},x))})]})]})]})}),e.jsx(C,{value:"vault",className:"space-y-4",children:e.jsxs(d,{children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5"}),"Cofre Criptografado"]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Habilitar Cofre"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Armazenamento seguro para senhas e informações sensíveis"})]}),e.jsx(W,{checked:r.vault_enabled,onCheckedChange:a=>o({...r,vault_enabled:a})})]}),r.vault_enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Adicionar Item ao Cofre"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Título"}),e.jsx(V,{value:c.title,onChange:a=>D({...c,title:a.target.value}),placeholder:"Ex: Senha do Admin"})]}),e.jsxs("div",{children:[e.jsx(p,{children:"Tipo"}),e.jsxs(J,{value:c.type,onValueChange:a=>D({...c,type:a}),children:[e.jsx(G,{children:e.jsx(Q,{})}),e.jsxs($,{children:[e.jsx(P,{value:"password",children:"Senha"}),e.jsx(P,{value:"api_key",children:"Chave API"}),e.jsx(P,{value:"certificate",children:"Certificado"}),e.jsx(P,{value:"note",children:"Nota Segura"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(p,{children:"Conteúdo"}),e.jsx(ce,{value:c.content,onChange:a=>D({...c,content:a.target.value}),placeholder:"Conteúdo sensível..."})]}),e.jsxs(v,{onClick:t,className:"w-full",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Adicionar ao Cofre"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Itens no Cofre"}),I.map(a=>e.jsxs("div",{className:"border rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.title}),e.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:a.type})]}),e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>y(a.id),children:q[a.id]?e.jsx(Be,{className:"w-4 h-4"}):e.jsx(ke,{className:"w-4 h-4"})})]},a.id))]})]})]})]})}),e.jsx(C,{value:"payment",className:"space-y-4",children:e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{children:"Modalidade de Pagamento"})}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Modalidade"}),e.jsxs(J,{value:r.payment_mode,onValueChange:a=>o({...r,payment_mode:a}),children:[e.jsx(G,{children:e.jsx(Q,{})}),e.jsxs($,{children:[e.jsx(P,{value:"SQUAD",children:"SQUAD"}),e.jsx(P,{value:"POST_PAID",children:"Pagamento Pós-Pago"}),e.jsx(P,{value:"EXTERNAL",children:"Pagamento Externo (Permuta/Gratuito)"}),e.jsx(P,{value:"INTERNAL",children:"Projeto Interno"})]})]})]}),r.payment_mode==="SQUAD"&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Configuração SQUAD"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure a distribuição entre membros do squad"})]}),r.payment_mode==="POST_PAID"&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Configuração Pós-Pago"}),e.jsxs("div",{children:[e.jsx(p,{children:"Taxa por Hora (R$)"}),e.jsx(V,{type:"number",value:r.payment_config.post_paid_rate||"",onChange:a=>o({...r,payment_config:{...r.payment_config,post_paid_rate:Number.parseFloat(a.target.value)}})})]})]}),r.payment_mode==="EXTERNAL"&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Pagamento Externo"}),e.jsxs("div",{children:[e.jsx(p,{children:"Tipo"}),e.jsxs(J,{value:r.payment_config.external_type||"",onValueChange:a=>o({...r,payment_config:{...r.payment_config,external_type:a}}),children:[e.jsx(G,{children:e.jsx(Q,{placeholder:"Selecionar tipo"})}),e.jsxs($,{children:[e.jsx(P,{value:"barter",children:"Permuta"}),e.jsx(P,{value:"free",children:"Gratuito"}),e.jsx(P,{value:"partnership",children:"Parceria"})]})]})]}),e.jsxs("div",{children:[e.jsx(p,{children:"Descrição"}),e.jsx(ce,{value:r.payment_config.external_description||"",onChange:a=>o({...r,payment_config:{...r.payment_config,external_description:a.target.value}}),placeholder:"Descreva os termos do acordo..."})]})]}),r.payment_mode==="INTERNAL"&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Projeto Interno"}),e.jsxs("div",{children:[e.jsx(p,{children:"Departamento"}),e.jsx(V,{value:r.payment_config.internal_department||"",onChange:a=>o({...r,payment_config:{...r.payment_config,internal_department:a.target.value}})})]}),e.jsxs("div",{children:[e.jsx(p,{children:"Centro de Custo"}),e.jsx(V,{value:r.payment_config.internal_cost_center||"",onChange:a=>o({...r,payment_config:{...r.payment_config,internal_cost_center:a.target.value}})})]})]})]})]})}),e.jsx(C,{value:"automation",className:"space-y-4",children:e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{children:"Automações do Projeto"})}),e.jsxs(m,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Distribuição Automática de Tarefas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tarefas serão distribuídas automaticamente para nômades qualificados"})]}),e.jsx(W,{checked:r.auto_task_distribution,onCheckedChange:a=>o({...r,auto_task_distribution:a})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Aprovação Automática por Prazo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tarefas serão aprovadas automaticamente se o prazo for excedido"})]}),e.jsx(W,{checked:r.auto_approval_on_timeout,onCheckedChange:a=>o({...r,auto_approval_on_timeout:a})})]}),r.auto_approval_on_timeout&&e.jsxs("div",{children:[e.jsx(p,{children:"Prazo para Aprovação Automática (horas)"}),e.jsx(V,{type:"number",value:r.auto_approval_timeout_hours,onChange:a=>o({...r,auto_approval_timeout_hours:Number.parseInt(a.target.value)}),min:"1",max:"168"})]})]})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(v,{variant:"outline",onClick:N,children:"Cancelar"}),e.jsx(v,{onClick:ne,disabled:h,children:h?"Salvando...":"Salvar Configurações"})]})]})}):null}function Ve({isOpen:T,onClose:N,projectId:_,projectData:l}){se();const[u,h]=n.useState(!1),[S,r]=n.useState(null),[o,L]=n.useState(null),[A,I]=n.useState(!1),[E,q]=n.useState(""),[R,c]=n.useState("chat"),[D,B]=n.useState([{role:"assistant",content:`Olá! O planejamento tático com IA será implementado em breve para o projeto "${l.name}".`}]);n.useEffect(()=>{T&&!S&&M()},[T,_]);const M=async()=>{try{h(!0);const s=await fetch(`/api/projects/${_}/tactical-plan`);if(s.ok){const j=await s.json();r(j),c(j.status==="approved"?"approved":"review")}}catch(s){console.error("Failed to load tactical plan:",s)}finally{h(!1)}};return e.jsx(xe,{open:T,onOpenChange:N,children:e.jsxs(he,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ue,{children:e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Plano Tático - ",l.name]})}),e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Planejamento Tático com IA"}),e.jsx("p",{children:"Esta funcionalidade será implementada em breve."}),e.jsx("p",{className:"text-sm mt-2",children:"O sistema permitirá criar planos táticos completos com análise de IA, estimativas de tempo e custos."})]})]})})}function Ue({projectId:T}){const[N,_]=n.useState([]),[l,u]=n.useState([]),[h,S]=n.useState(null),[r,o]=n.useState(!0),[L,A]=n.useState(""),[I,E]=n.useState("all");n.useEffect(()=>{q(),R(),c()},[T]);const q=async()=>{try{_([{id:"event-1",type:"task_created",title:"Nova tarefa criada",description:"Tarefa 'Logo Design' foi criada no projeto",user_id:"user-1",user_name:"João Cliente",task_id:"task-1",task_name:"Logo Design",metadata:{priority:"high",estimated_hours:16},created_at:"2024-12-26T10:00:00Z"},{id:"event-2",type:"task_rejected",title:"Tarefa rejeitada",description:"Logo Design foi rejeitado - 'Cores não condizem com a marca'",user_id:"user-1",user_name:"João Cliente",task_id:"task-1",task_name:"Logo Design",metadata:{rejection_reason:"Cores não condizem com a marca",feedback:"Por favor, usar tons mais corporativos",attempt:1},created_at:"2024-12-25T14:30:00Z"},{id:"event-3",type:"ai_insight",title:"Padrão identificado pela IA",description:"IA detectou que 70% das rejeições neste projeto são relacionadas a cores",metadata:{pattern_type:"rejection_pattern",confidence:85,suggestion:"Criar briefing mais detalhado sobre paleta de cores"},created_at:"2024-12-25T15:00:00Z",ai_generated:!0},{id:"event-4",type:"file_uploaded",title:"Arquivo adicionado",description:"Manual de marca.pdf foi adicionado ao projeto",user_id:"user-1",user_name:"João Cliente",metadata:{file_name:"Manual de marca.pdf",file_size:"2.5MB",file_type:"pdf"},created_at:"2024-12-24T16:20:00Z"},{id:"event-5",type:"task_completed",title:"Tarefa concluída",description:"Website Development foi aprovado e concluído",user_id:"user-1",user_name:"João Cliente",task_id:"task-2",task_name:"Website Development",metadata:{completion_time:72,quality_score:9.2,nomad_rating:5},created_at:"2024-12-23T11:45:00Z"}])}catch(s){console.error("Failed to load project history:",s)}},R=async()=>{try{u([{id:"insight-1",type:"pattern",title:"Padrão de Rejeições Identificado",description:"70% das rejeições neste projeto estão relacionadas a especificações de cores. Recomendo criar um briefing mais detalhado sobre paleta de cores.",confidence_score:85,related_events:["event-2"],actionable:!0,created_at:"2024-12-25T15:00:00Z"},{id:"insight-2",type:"recommendation",title:"Otimização de Cronograma",description:"Baseado no histórico, tarefas de design têm 30% mais chance de sucesso quando precedidas por upload de referências visuais.",confidence_score:92,related_events:["event-4","event-5"],actionable:!0,created_at:"2024-12-24T18:00:00Z"},{id:"insight-3",type:"success_factor",title:"Fator de Sucesso Identificado",description:"Projetos com documentação detalhada (como manual de marca) têm taxa de aprovação 40% maior na primeira tentativa.",confidence_score:88,related_events:["event-4","event-5"],actionable:!1,created_at:"2024-12-23T12:00:00Z"}])}catch(s){console.error("Failed to load AI insights:",s)}},c=async()=>{try{S({total_events:15,task_success_rate:78,average_completion_time:48,most_common_rejection_reasons:["Cores não condizem com a marca","Layout precisa de ajustes","Falta informações no briefing"],nomad_performance_patterns:[{nomad_id:"nomad-1",nomad_name:"João Designer",success_rate:85,avg_completion_time:42,common_issues:["Cores","Tipografia"]},{nomad_id:"nomad-2",nomad_name:"Maria Developer",success_rate:92,avg_completion_time:38,common_issues:["Responsividade"]}],timeline_insights:[{period:"Última semana",events_count:8,success_rate:75},{period:"Últimas 2 semanas",events_count:12,success_rate:80},{period:"Último mês",events_count:15,success_rate:78}]})}catch(s){console.error("Failed to load analytics:",s)}finally{o(!1)}},D=s=>({task_created:e.jsx(Z,{className:"h-4 w-4 text-blue-500"}),task_completed:e.jsx(Y,{className:"h-4 w-4 text-green-500"}),task_rejected:e.jsx(O,{className:"h-4 w-4 text-red-500"}),file_uploaded:e.jsx(Z,{className:"h-4 w-4 text-purple-500"}),comment_added:e.jsx(Me,{className:"h-4 w-4 text-gray-500"}),status_changed:e.jsx(be,{className:"h-4 w-4 text-orange-500"}),ai_insight:e.jsx(H,{className:"h-4 w-4 text-blue-500"})})[s]||e.jsx(U,{className:"h-4 w-4"}),B=s=>({pattern:e.jsx(le,{className:"h-4 w-4 text-blue-500"}),recommendation:e.jsx(Ie,{className:"h-4 w-4 text-yellow-500"}),risk_alert:e.jsx(O,{className:"h-4 w-4 text-red-500"}),success_factor:e.jsx(ee,{className:"h-4 w-4 text-green-500"})})[s]||e.jsx(H,{className:"h-4 w-4"}),M=N.filter(s=>{const j=s.title.toLowerCase().includes(L.toLowerCase())||s.description.toLowerCase().includes(L.toLowerCase()),i=I==="all"||s.type===I;return j&&i});return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Carregando histórico..."})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(ae,{defaultValue:"timeline",className:"w-full",children:[e.jsxs(te,{className:"grid w-full grid-cols-3",children:[e.jsxs(w,{value:"timeline",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Timeline"]}),e.jsxs(w,{value:"insights",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Insights da IA"]}),e.jsxs(w,{value:"analytics",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Análises"]})]}),e.jsxs(C,{value:"timeline",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(V,{placeholder:"Buscar eventos...",value:L,onChange:s=>A(s.target.value),className:"pl-10"})]}),e.jsxs("select",{className:"p-2 border rounded-md",value:I,onChange:s=>E(s.target.value),children:[e.jsx("option",{value:"all",children:"Todos os eventos"}),e.jsx("option",{value:"task_created",children:"Tarefas criadas"}),e.jsx("option",{value:"task_completed",children:"Tarefas concluídas"}),e.jsx("option",{value:"task_rejected",children:"Tarefas rejeitadas"}),e.jsx("option",{value:"file_uploaded",children:"Arquivos"}),e.jsx("option",{value:"ai_insight",children:"Insights da IA"})]})]}),e.jsx("div",{className:"space-y-4",children:M.map(s=>e.jsx(d,{className:s.ai_generated?"border-l-4 border-l-blue-500":"",children:e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:D(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:s.title}),s.ai_generated&&e.jsxs(F,{className:"bg-blue-100 text-blue-800",children:[e.jsx(H,{className:"h-3 w-3 mr-1"}),"IA"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:new Date(s.created_at).toLocaleString("pt-BR")}),s.user_name&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ae,{className:"h-3 w-3"}),s.user_name]}),s.task_name&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"h-3 w-3"}),s.task_name]})]}),s.type==="task_rejected"&&s.metadata.rejection_reason&&e.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm",children:[e.jsx("strong",{children:"Motivo:"})," ",s.metadata.rejection_reason,s.metadata.feedback&&e.jsxs("div",{className:"mt-1",children:[e.jsx("strong",{children:"Feedback:"})," ",s.metadata.feedback]})]}),s.type==="task_completed"&&s.metadata.quality_score&&e.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm",children:[e.jsx("strong",{children:"Nota de qualidade:"})," ",s.metadata.quality_score,"/10"]})]})]})})},s.id))})]}),e.jsx(C,{value:"insights",className:"space-y-4",children:e.jsx("div",{className:"space-y-4",children:l.map(s=>e.jsxs(d,{className:"border-l-4 border-l-blue-500",children:[e.jsx(g,{children:e.jsxs(f,{className:"flex items-center gap-2",children:[B(s.type),s.title,e.jsxs(F,{variant:"secondary",className:"ml-auto",children:[s.confidence_score,"% confiança"]})]})}),e.jsxs(m,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleString("pt-BR")}),s.actionable&&e.jsxs(v,{size:"sm",variant:"outline",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Aplicar Sugestão"]})]})]})]},s.id))})}),e.jsx(C,{value:"analytics",className:"space-y-6",children:h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(d,{children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Taxa de Sucesso"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[h.task_success_rate,"%"]})]})}),e.jsx(d,{children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Tempo Médio"})]}),e.jsxs("div",{className:"text-2xl font-bold",children:[h.average_completion_time,"h"]})]})}),e.jsx(d,{children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Total de Eventos"})]}),e.jsx("div",{className:"text-2xl font-bold",children:h.total_events})]})})]}),e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{children:"Principais Motivos de Rejeição"})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-2",children:h.most_common_rejection_reasons.map((s,j)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:s})]},j))})})]}),e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{children:"Performance dos Nômades"})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:h.nomad_performance_patterns.map(s=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:s.nomad_name}),e.jsxs(F,{className:"bg-green-100 text-green-800",children:[s.success_rate,"% sucesso"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tempo médio:"})," ",s.avg_completion_time,"h"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Principais desafios:"})," ",s.common_issues.join(", ")]})]})]},s.nomad_id))})})]})]})})]})})}function ze({projectId:T}){const{toast:N}=se(),[_,l]=n.useState([]),[u,h]=n.useState(null),[S,r]=n.useState(!0),[o,L]=n.useState(""),[A,I]=n.useState("all"),[E,q]=n.useState("all");n.useEffect(()=>{R(),c()},[T]);const R=async()=>{try{l([{id:"purchase-1",item_id:"product-1",item_name:"Logo Design Premium",item_description:"Criação de logo profissional com variações e manual de marca",purchase_type:"product",quantity:1,unit_price:1500,total_price:1500,payment_status:"paid",payment_method:"credit_card",payment_date:"2024-12-20T10:00:00Z",metadata:{category:"Design",complexity:"high",delivery_time:"5 dias"},created_at:"2024-12-20T09:30:00Z"},{id:"purchase-2",item_id:"service-1",item_name:"Consultoria de Marketing Digital",item_description:"Análise completa e estratégia de marketing digital",purchase_type:"service",quantity:1,unit_price:2500,total_price:2500,payment_status:"paid",payment_method:"pix",payment_date:"2024-12-21T14:30:00Z",metadata:{category:"Marketing",duration:"30 dias",includes:["Análise","Estratégia","Relatório"]},created_at:"2024-12-21T14:00:00Z"},{id:"purchase-3",item_id:"addon-1",item_name:"Revisões Extras",item_description:"Pacote adicional de 3 revisões para o logo",purchase_type:"addon",quantity:1,unit_price:300,total_price:300,payment_status:"pending",metadata:{related_to:"purchase-1",revision_count:3},created_at:"2024-12-25T16:20:00Z"},{id:"purchase-4",item_id:"product-2",item_name:"Website Responsivo",item_description:"Desenvolvimento de website institucional responsivo",purchase_type:"product",quantity:1,unit_price:5e3,total_price:5e3,payment_status:"failed",payment_method:"credit_card",metadata:{category:"Desenvolvimento",pages:5,cms:!0,reason:"Cartão recusado"},created_at:"2024-12-24T11:15:00Z"}])}catch{N({title:"Erro",description:"Falha ao carregar histórico de compras",variant:"destructive"})}},c=async()=>{try{h({total_spent:4e3,total_items:4,pending_payments:1,successful_payments:2,failed_payments:1,refunded_payments:0})}catch(t){console.error("Failed to load purchase summary:",t)}finally{r(!1)}},D=t=>({paid:e.jsx(Y,{className:"h-4 w-4 text-green-500"}),pending:e.jsx(U,{className:"h-4 w-4 text-yellow-500"}),failed:e.jsx(O,{className:"h-4 w-4 text-red-500"}),refunded:e.jsx(X,{className:"h-4 w-4 text-blue-500"})})[t]||e.jsx(U,{className:"h-4 w-4"}),B=t=>{const y={paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",refunded:"bg-blue-100 text-blue-800"};return y[t]||y.pending},M=t=>({paid:"Pago",pending:"Pendente",failed:"Falhou",refunded:"Reembolsado"})[t]||"Pendente",s=t=>{const y={product:"bg-blue-100 text-blue-800",service:"bg-purple-100 text-purple-800",addon:"bg-orange-100 text-orange-800",upgrade:"bg-green-100 text-green-800"};return y[t]||y.product},j=t=>({product:"Produto",service:"Serviço",addon:"Complemento",upgrade:"Upgrade"})[t]||"Produto",i=_.filter(t=>{const y=t.item_name.toLowerCase().includes(o.toLowerCase())||t.item_description.toLowerCase().includes(o.toLowerCase()),a=A==="all"||t.payment_status===A,x=E==="all"||t.purchase_type===E;return y&&a&&x}),re=async t=>{try{N({title:"Pagamento Processado",description:"Tentativa de pagamento iniciada. Você será notificado sobre o resultado."})}catch{N({title:"Erro",description:"Falha ao processar pagamento",variant:"destructive"})}},ne=async t=>{try{N({title:"Download Iniciado",description:"O download da nota fiscal foi iniciado."})}catch{N({title:"Erro",description:"Falha ao baixar nota fiscal",variant:"destructive"})}};return S?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Carregando histórico de compras..."})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(ae,{defaultValue:"purchases",className:"w-full",children:[e.jsxs(te,{className:"grid w-full grid-cols-2",children:[e.jsxs(w,{value:"purchases",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Compras"]}),e.jsxs(w,{value:"summary",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Resumo Financeiro"]})]}),e.jsxs(C,{value:"purchases",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(V,{placeholder:"Buscar compras...",value:o,onChange:t=>L(t.target.value),className:"pl-10"})]}),e.jsxs("select",{className:"p-2 border rounded-md",value:A,onChange:t=>I(t.target.value),children:[e.jsx("option",{value:"all",children:"Todos os status"}),e.jsx("option",{value:"paid",children:"Pagos"}),e.jsx("option",{value:"pending",children:"Pendentes"}),e.jsx("option",{value:"failed",children:"Falharam"}),e.jsx("option",{value:"refunded",children:"Reembolsados"})]}),e.jsxs("select",{className:"p-2 border rounded-md",value:E,onChange:t=>q(t.target.value),children:[e.jsx("option",{value:"all",children:"Todos os tipos"}),e.jsx("option",{value:"product",children:"Produtos"}),e.jsx("option",{value:"service",children:"Serviços"}),e.jsx("option",{value:"addon",children:"Complementos"}),e.jsx("option",{value:"upgrade",children:"Upgrades"})]})]}),e.jsxs(d,{children:[e.jsx(g,{children:e.jsxs(f,{children:["Histórico de Compras (",i.length,")"]})}),e.jsx(m,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ne,{children:[e.jsx(_e,{children:e.jsxs(z,{children:[e.jsx(k,{children:"Item"}),e.jsx(k,{children:"Tipo"}),e.jsx(k,{children:"Quantidade"}),e.jsx(k,{children:"Valor"}),e.jsx(k,{children:"Status"}),e.jsx(k,{children:"Data"}),e.jsx(k,{children:"Ações"})]})}),e.jsx(ye,{children:i.length===0?e.jsx(z,{children:e.jsxs(b,{colSpan:7,className:"text-center py-8",children:[e.jsx(oe,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{children:"Nenhuma compra encontrada"})]})}):i.map(t=>e.jsxs(z,{children:[e.jsx(b,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.item_name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.item_description})]})}),e.jsx(b,{children:e.jsx(F,{className:s(t.purchase_type),children:j(t.purchase_type)})}),e.jsx(b,{children:t.quantity}),e.jsx(b,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.total_price)}),t.quantity>1&&e.jsxs("div",{className:"text-sm text-gray-500",children:[new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.unit_price)," ","cada"]})]})}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[D(t.payment_status),e.jsx(F,{className:B(t.payment_status),children:M(t.payment_status)})]})}),e.jsx(b,{children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm",children:new Date(t.created_at).toLocaleDateString("pt-BR")}),t.payment_date&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Pago em ",new Date(t.payment_date).toLocaleDateString("pt-BR")]})]})}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.payment_status==="failed"&&e.jsxs(v,{size:"sm",variant:"outline",onClick:()=>re(t.id),children:[e.jsx(X,{className:"h-4 w-4 mr-1"}),"Tentar Novamente"]}),t.payment_status==="paid"&&e.jsx(v,{size:"sm",variant:"ghost",onClick:()=>ne(t.id),children:e.jsx(me,{className:"h-4 w-4"})})]})})]},t.id))})]})})})]})]}),e.jsx(C,{value:"summary",className:"space-y-6",children:u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(d,{children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Total Gasto"})]}),e.jsx("div",{className:"text-2xl font-bold",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u.total_spent)})]})}),e.jsx(d,{children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Total de Itens"})]}),e.jsx("div",{className:"text-2xl font-bold",children:u.total_items})]})}),e.jsx(d,{children:e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Pagamentos Bem-sucedidos"})]}),e.jsx("div",{className:"text-2xl font-bold",children:u.successful_payments})]})})]}),e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{children:"Status dos Pagamentos"})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(Y,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.successful_payments}),e.jsx("div",{className:"text-sm text-gray-500",children:"Pagos"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(U,{className:"h-8 w-8 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:u.pending_payments}),e.jsx("div",{className:"text-sm text-gray-500",children:"Pendentes"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(O,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.failed_payments}),e.jsx("div",{className:"text-sm text-gray-500",children:"Falharam"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(X,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.refunded_payments}),e.jsx("div",{className:"text-sm text-gray-500",children:"Reembolsados"})]})]})})]}),e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{children:"Ações Rápidas"})}),e.jsx(m,{children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(v,{variant:"outline",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Baixar Relatório Completo"]}),e.jsxs(v,{variant:"outline",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Gerenciar Métodos de Pagamento"]}),e.jsxs(v,{variant:"outline",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Tentar Pagamentos Pendentes"]})]})})]})]})})]})})}const Ze={planning:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",on_hold:"bg-yellow-100 text-yellow-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"},He={planning:"Planejamento",active:"Ativo",on_hold:"Em Espera",completed:"Concluído",cancelled:"Cancelado"},Oe={todo:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",review:"bg-yellow-100 text-yellow-800",done:"bg-green-100 text-green-800"},Je={todo:"A Fazer",in_progress:"Em Progresso",review:"Em Revisão",done:"Concluído"},Ge={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"},Qe={low:"Baixa",medium:"Média",high:"Alta",urgent:"Urgente"};function ts(){const T=Ee(),N=De(),{toast:_}=se(),[l,u]=n.useState(null),[h,S]=n.useState([]),[r,o]=n.useState(!0),[L,A]=n.useState(!1),[I,E]=n.useState(!1),[q,R]=n.useState(!1),c=Number.parseInt(T.id);n.useEffect(()=>{c&&(D(),B())},[c]);const D=async()=>{try{o(!0);const i=await de.getProject(c);u(i)}catch{_({title:"Erro",description:"Falha ao carregar projeto",variant:"destructive"}),N("/projects")}finally{o(!1)}},B=async()=>{try{A(!0);const i=await de.getProjectTasks(c);S(i)}catch{_({title:"Erro",description:"Falha ao carregar tarefas",variant:"destructive"})}finally{A(!1)}},M=i=>i?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i):"-",s=i=>i?new Date(i).toLocaleDateString("pt-BR"):"-",j=()=>l?.status==="active"&&l?.payment_status==="paid";return r?e.jsx("div",{className:"container mx-auto py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Carregando projeto..."})})}):l?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Le,{to:"/projects",children:e.jsxs(v,{variant:"ghost",size:"sm",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Voltar"]})}),e.jsx("h1",{className:"text-3xl font-bold",children:l.name}),e.jsx(F,{className:Ze[l.status],children:He[l.status]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(v,{variant:"outline",onClick:()=>R(!0),disabled:!j(),className:j()?"bg-green-50 border-green-200 text-green-700 hover:bg-green-100":"",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),j()?"Criar Plano Tático":"Plano Tático (Pague o projeto)"]}),e.jsxs(v,{variant:"outline",onClick:()=>E(!0),children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Configurações"]}),e.jsxs(v,{children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Editar Projeto"]})]})]}),e.jsxs(ae,{defaultValue:"overview",className:"w-full",children:[e.jsxs(te,{className:"grid w-full grid-cols-4",children:[e.jsx(w,{value:"overview",children:"Visão Geral"}),e.jsxs(w,{value:"history",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Histórico"]}),e.jsxs(w,{value:"purchases",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Compras"]}),e.jsx(w,{value:"tasks",children:"Tarefas"})]}),e.jsxs(C,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{className:"text-lg",children:"Informações Gerais"})}),e.jsxs(m,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cliente:"})," ",l.client?.name||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Gerente:"})," ",l.manager?.name||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Orçamento:"})," ",M(l.budget)]})]})]}),e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{className:"text-lg",children:"Cronograma"})}),e.jsxs(m,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data de Início:"})," ",s(l.start_date)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Data de Fim:"})," ",s(l.end_date)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Criado em:"})," ",s(l.created_at)]})]})]}),e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{className:"text-lg",children:"Estatísticas"})}),e.jsxs(m,{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total de Tarefas:"})," ",h.length]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Concluídas:"})," ",h.filter(i=>i.status==="done").length]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Em Progresso:"})," ",h.filter(i=>i.status==="in_progress").length]})]})]})]}),l.description&&e.jsxs(d,{children:[e.jsx(g,{children:e.jsx(f,{className:"text-lg",children:"Descrição"})}),e.jsx(m,{children:e.jsx("p",{className:"text-gray-700",children:l.description})})]})]}),e.jsx(C,{value:"history",children:e.jsx(Ue,{projectId:c.toString()})}),e.jsx(C,{value:"purchases",children:e.jsx(ze,{projectId:c.toString()})}),e.jsx(C,{value:"tasks",children:e.jsxs(d,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"text-xl",children:"Tarefas"}),e.jsxs(v,{children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Nova Tarefa"]})]})}),e.jsx(m,{children:L?e.jsx("div",{className:"text-center py-8",children:"Carregando tarefas..."}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ne,{children:[e.jsx(_e,{children:e.jsxs(z,{children:[e.jsx(k,{children:"Título"}),e.jsx(k,{children:"Responsável"}),e.jsx(k,{children:"Status"}),e.jsx(k,{children:"Prioridade"}),e.jsx(k,{children:"Prazo"})]})}),e.jsx(ye,{children:h.length===0?e.jsx(z,{children:e.jsx(b,{colSpan:5,className:"text-center py-8",children:"Nenhuma tarefa cadastrada"})}):h.map(i=>e.jsxs(z,{children:[e.jsx(b,{className:"font-medium",children:i.title}),e.jsx(b,{children:i.assignee?.name||"-"}),e.jsx(b,{children:e.jsx(F,{className:Oe[i.status],children:Je[i.status]})}),e.jsx(b,{children:e.jsx(F,{className:Ge[i.priority],children:Qe[i.priority]})}),e.jsx(b,{children:s(i.due_date)})]},i.id))})]})})})]})})]}),e.jsx(qe,{isOpen:I,onClose:()=>E(!1),projectId:c,projectName:l.name}),e.jsx(Ve,{isOpen:q,onClose:()=>R(!1),projectId:c.toString(),projectData:{name:l.name,description:l.description||"",products:[],files:[],budget:l.budget}})]}):e.jsx("div",{className:"container mx-auto py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Projeto não encontrado"})})})}export{ts as default};
