import{r as m,j as e,T as M,h as k,i as b,k as C,f as d,P as y,C as L,a as R,d as w,B as _,e as D,Z as S,g as F,af as n,D as B,v as A,w as E,x as I,ae as z,ag as t,aR as T}from"./index-D2dOrPZ8.js";import{T as $}from"./trophy-Cn3Olz3o.js";import{S as P}from"./square-pen-Bi43ABVd.js";const G=[{id:1,name:"Bronze",min_mrr:0,max_mrr:5e3,benefits:["Acesso ao catálogo básico","Suporte por email","Relatórios mensais"],commission_bonus:0,description:"Nível inicial para agências começando na plataforma",color:"#CD7F32"},{id:2,name:"Silver",min_mrr:5001,max_mrr:15e3,benefits:["Catálogo completo","Suporte prioritário","Relatórios semanais","Desconto 5% em projetos"],commission_bonus:5,description:"Para agências com performance consistente",color:"#C0C0C0"},{id:3,name:"Gold",min_mrr:15001,max_mrr:5e4,benefits:["Projetos premium","Account manager dedicado","Desconto 10%","Acesso antecipado a novos produtos"],commission_bonus:10,description:"Agências de alto desempenho",color:"#FFD700"}],O=[{id:1,name:"Partner Basic",min_led_agencies:1,max_led_agencies:5,min_led_mrr:0,max_led_mrr:25e3,benefits:["Comissão sobre agências lideradas","Dashboard de gestão","Relatórios de performance"],commission_rate:2,description:"Primeiro nível de parceria",color:"#4F46E5"},{id:2,name:"Partner Premium",min_led_agencies:6,max_led_agencies:15,min_led_mrr:25001,max_led_mrr:75e3,benefits:["Comissão aumentada","Suporte dedicado","Treinamentos exclusivos","Eventos VIP"],commission_rate:3,description:"Para partners com boa gestão de agências",color:"#7C3AED"},{id:3,name:"Partner Elite",min_led_agencies:16,max_led_agencies:null,min_led_mrr:75001,max_led_mrr:null,benefits:["Máxima comissão","Consultoria estratégica","Co-marketing","Participação em lucros"],commission_rate:5,description:"Nível máximo de parceria",color:"#EC4899"}];function J(){const[j,h]=m.useState(G),[v,g]=m.useState(O),[i,o]=m.useState(null),[u,x]=m.useState(!1),[c,a]=m.useState("agency"),f=s=>{if(s.id)c==="agency"?h(l=>l.map(r=>r.id===s.id?s:r)):g(l=>l.map(r=>r.id===s.id?s:r));else{const l={...s,id:Date.now()};c==="agency"?h(r=>[...r,l]):g(r=>[...r,l])}o(null),x(!1)},N=s=>{c==="agency"?h(l=>l.filter(r=>r.id!==s)):g(l=>l.filter(r=>r.id!==s))},p=s=>{o(s||{name:"",description:"",benefits:[],color:"#4F46E5",...c==="agency"?{min_mrr:0,max_mrr:0,commission_bonus:0}:{min_led_agencies:0,max_led_agencies:0,min_led_mrr:0,max_led_mrr:0,commission_rate:0}}),x(!0)};return e.jsxs("div",{className:"container mx-auto pt-6 px-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx($,{className:"h-8 w-8"}),"Gerenciamento de Níveis"]}),e.jsx("p",{className:"text-gray-600",children:"Configure os níveis dos programas de incentivo para agências e partners"})]})}),e.jsxs(M,{value:c,onValueChange:a,className:"space-y-6",children:[e.jsxs(k,{children:[e.jsx(b,{value:"agency",children:"Níveis de Agência"}),e.jsx(b,{value:"partner",children:"Níveis de Partner"})]}),e.jsxs(C,{value:"agency",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Níveis de Agência"}),e.jsx("p",{className:"text-gray-600",children:"Baseados no MRR (Monthly Recurring Revenue)"})]}),e.jsxs(d,{onClick:()=>p(),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Novo Nível"]})]}),e.jsx("div",{className:"grid gap-4",children:j.map(s=>e.jsxs(L,{className:"border-l-4",style:{borderLeftColor:s.color},children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s.color}}),s.name,e.jsxs(_,{variant:"outline",children:["+",s.commission_bonus,"% comissão"]})]}),e.jsx(D,{children:s.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:()=>p(s),children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>N(s.id),children:e.jsx(S,{className:"h-4 w-4"})})]})]})}),e.jsxs(F,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{className:"text-sm font-medium text-gray-600",children:"Faixa de MRR"}),e.jsxs("div",{className:"text-lg font-semibold",children:["R$ ",s.min_mrr.toLocaleString()," - R$ ",s.max_mrr.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx(n,{className:"text-sm font-medium text-gray-600",children:"Bônus de Comissão"}),e.jsxs("div",{className:"text-lg font-semibold text-green-600",children:["+",s.commission_bonus,"%"]})]}),e.jsxs("div",{children:[e.jsx(n,{className:"text-sm font-medium text-gray-600",children:"Benefícios"}),e.jsxs("div",{className:"text-sm",children:[s.benefits.length," benefícios"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{className:"text-sm font-medium text-gray-600",children:"Benefícios"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.benefits.map((l,r)=>e.jsx(_,{variant:"secondary",children:l},r))})]})]})]},s.id))})]}),e.jsxs(C,{value:"partner",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Níveis de Partner"}),e.jsx("p",{className:"text-gray-600",children:"Baseados no número de agências lideradas e MRR total"})]}),e.jsxs(d,{onClick:()=>p(),children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),"Novo Nível"]})]}),e.jsx("div",{className:"grid gap-4",children:v.map(s=>e.jsxs(L,{className:"border-l-4",style:{borderLeftColor:s.color},children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(w,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s.color}}),s.name,e.jsxs(_,{variant:"outline",children:[s.commission_rate,"% comissão"]})]}),e.jsx(D,{children:s.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:()=>p(s),children:e.jsx(P,{className:"h-4 w-4"})}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>N(s.id),children:e.jsx(S,{className:"h-4 w-4"})})]})]})}),e.jsxs(F,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{className:"text-sm font-medium text-gray-600",children:"Agências Lideradas"}),e.jsxs("div",{className:"text-lg font-semibold",children:[s.min_led_agencies," - ",s.max_led_agencies||"∞"]})]}),e.jsxs("div",{children:[e.jsx(n,{className:"text-sm font-medium text-gray-600",children:"MRR das Lideradas"}),e.jsxs("div",{className:"text-lg font-semibold",children:["R$ ",s.min_led_mrr.toLocaleString()," -"," ",s.max_led_mrr?`R$ ${s.max_led_mrr.toLocaleString()}`:"∞"]})]}),e.jsxs("div",{children:[e.jsx(n,{className:"text-sm font-medium text-gray-600",children:"Taxa de Comissão"}),e.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[s.commission_rate,"%"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n,{className:"text-sm font-medium text-gray-600",children:"Benefícios"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.benefits.map((l,r)=>e.jsx(_,{variant:"secondary",children:l},r))})]})]})]},s.id))})]})]}),e.jsx(B,{open:u,onOpenChange:x,children:e.jsxs(A,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(E,{children:[e.jsx(I,{children:i?.id?"Editar Nível":"Criar Novo Nível"}),e.jsx(z,{children:"Configure os critérios e benefícios do nível"})]}),i&&e.jsx(H,{level:i,type:c,onSave:f,onCancel:()=>x(!1)})]})})]})}function H({level:j,type:h,onSave:v,onCancel:g}){const[i,o]=m.useState(j),[u,x]=m.useState(j.benefits?.join(`
`)||""),c=()=>{const a=u.split(`
`).filter(f=>f.trim());v({...i,benefits:a})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Nome do Nível"}),e.jsx(t,{id:"name",value:i.name,onChange:a=>o({...i,name:a.target.value}),placeholder:"Ex: Gold"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"color",children:"Cor"}),e.jsx(t,{id:"color",type:"color",value:i.color,onChange:a=>o({...i,color:a.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Descrição"}),e.jsx(T,{id:"description",value:i.description,onChange:a=>o({...i,description:a.target.value}),placeholder:"Descreva o nível..."})]}),h==="agency"?e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"min_mrr",children:"MRR Mínimo"}),e.jsx(t,{id:"min_mrr",type:"number",value:i.min_mrr,onChange:a=>o({...i,min_mrr:Number.parseInt(a.target.value)})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"max_mrr",children:"MRR Máximo"}),e.jsx(t,{id:"max_mrr",type:"number",value:i.max_mrr,onChange:a=>o({...i,max_mrr:Number.parseInt(a.target.value)})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"commission_bonus",children:"Bônus Comissão (%)"}),e.jsx(t,{id:"commission_bonus",type:"number",value:i.commission_bonus,onChange:a=>o({...i,commission_bonus:Number.parseInt(a.target.value)})})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"min_led_agencies",children:"Min. Agências Lideradas"}),e.jsx(t,{id:"min_led_agencies",type:"number",value:i.min_led_agencies,onChange:a=>o({...i,min_led_agencies:Number.parseInt(a.target.value)})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"max_led_agencies",children:"Max. Agências Lideradas"}),e.jsx(t,{id:"max_led_agencies",type:"number",value:i.max_led_agencies||"",onChange:a=>o({...i,max_led_agencies:a.target.value?Number.parseInt(a.target.value):null}),placeholder:"Deixe vazio para ilimitado"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"min_led_mrr",children:"MRR Mín. das Lideradas"}),e.jsx(t,{id:"min_led_mrr",type:"number",value:i.min_led_mrr,onChange:a=>o({...i,min_led_mrr:Number.parseInt(a.target.value)})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"max_led_mrr",children:"MRR Max. das Lideradas"}),e.jsx(t,{id:"max_led_mrr",type:"number",value:i.max_led_mrr||"",onChange:a=>o({...i,max_led_mrr:a.target.value?Number.parseInt(a.target.value):null}),placeholder:"Deixe vazio para ilimitado"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(n,{htmlFor:"commission_rate",children:"Taxa de Comissão (%)"}),e.jsx(t,{id:"commission_rate",type:"number",value:i.commission_rate,onChange:a=>o({...i,commission_rate:Number.parseInt(a.target.value)})})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"benefits",children:"Benefícios (um por linha)"}),e.jsx(T,{id:"benefits",value:u,onChange:a=>x(a.target.value),placeholder:"Digite um benefício por linha...",rows:4})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(d,{onClick:c,children:"Salvar Nível"}),e.jsx(d,{variant:"outline",onClick:g,children:"Cancelar"})]})]})}export{J as default};
