import{r as h,j as e,C as o,a as j,d as u,a2 as C,g as x,l as v,y as H,aU as O,ag as d,E as D,H as E,I as R,J as F,K as g,e as U,B as A,a6 as k,f as i,az as q,D as G,v as K,w as W,x as X,ae as Y,af as n,aN as Z,aV as Q,m as B,ah as ee,aw as se,ap as ae,ao as te}from"./index-D2dOrPZ8.js";import{P as le}from"./page-header-DpITyWPC.js";import{S as L}from"./square-pen-Bi43ABVd.js";import{E as re}from"./external-link-CC_JdT4J.js";const de=[{id:1,client_id:1,name:"Website Redesign",status:"in_progress",value:15e3,start_date:"2024-01-20"},{id:2,client_id:1,name:"E-commerce Platform",status:"in_progress",value:25e3,start_date:"2024-02-01"},{id:3,client_id:1,name:"Mobile App",status:"completed",value:3e4,start_date:"2023-12-01"},{id:4,client_id:2,name:"Marketing Campaign",status:"in_progress",value:8e3,start_date:"2024-02-15"},{id:5,client_id:2,name:"Brand Identity",status:"completed",value:12e3,start_date:"2024-01-10"},{id:6,client_id:3,name:"SEO Optimization",status:"paused",value:5e3,start_date:"2023-12-15"}],S=[{id:1,name:"TechCorp Solutions",cnpj:"12.345.678/0001-90",email:"contato@techcorp.com",phone:"(11) 98765-4321",status:"active",mrr:5e3,projects_count:3,created_at:"2024-01-15",address:"Av. Paulista, 1000 - São Paulo, SP",contact_person:"João Silva"},{id:2,name:"Inovação Digital Ltda",cnpj:"98.765.432/0001-10",email:"contato@inovacao.com",phone:"(11) 91234-5678",status:"active",mrr:3500,projects_count:2,created_at:"2024-02-20",address:"Rua Augusta, 500 - São Paulo, SP",contact_person:"Maria Santos"},{id:3,name:"StartUp XYZ",cnpj:"11.222.333/0001-44",email:"hello@startupxyz.com",phone:"(11) 99999-8888",status:"inactive",mrr:0,projects_count:1,created_at:"2023-12-10",address:"Rua Oscar Freire, 200 - São Paulo, SP",contact_person:"Pedro Costa"}];function xe(){const[p,T]=h.useState(""),[N,I]=h.useState("all"),[t,m]=h.useState(null),[b,c]=h.useState(!1),[a,r]=h.useState(null),_=S.filter(s=>{const l=s.name.toLowerCase().includes(p.toLowerCase())||s.cnpj.includes(p)||s.email.toLowerCase().includes(p.toLowerCase()),w=N==="all"||s.status===N;return l&&w}),P=S.reduce((s,l)=>s+l.mrr,0),y=S.filter(s=>s.status==="active").length,M=P/y,V=s=>{m(s),c(!1)},z=s=>{r(s),m(s),c(!0)},J=()=>{console.log("[v0] Saving client:",a),c(!1),m(a)},f=t?de.filter(s=>s.client_id===t.id):[],$=s=>{const l={in_progress:{color:"bg-blue-100 text-blue-700 border-blue-300",icon:te,text:"Em Andamento"},completed:{color:"bg-emerald-100 text-emerald-700 border-emerald-300",icon:ae,text:"Concluído"},paused:{color:"bg-amber-100 text-amber-700 border-amber-300",icon:se,text:"Pausado"}};return l[s]||l.in_progress};return e.jsxs("div",{className:"min-h-screen bg-slate-200 px-0 py-0",children:[e.jsxs("div",{className:"max-w-7xl mx-auto bg-slate-200 space-y-6 py-0 px-0",children:[e.jsx(le,{title:"Clientes da Agência",description:"Gerencie seus clientes e acompanhe o desempenho"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(o,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0 shadow-lg",children:[e.jsx(j,{className:"pb-3",children:e.jsxs(u,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"MRR Total"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-3xl font-bold",children:["R$ ",P.toLocaleString("pt-BR")]})})]}),e.jsxs(o,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white border-0 shadow-lg",children:[e.jsx(j,{className:"pb-3",children:e.jsxs(u,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Clientes Ativos"]})}),e.jsx(x,{children:e.jsx("div",{className:"text-3xl font-bold",children:y})})]}),e.jsxs(o,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0 shadow-lg",children:[e.jsx(j,{className:"pb-3",children:e.jsxs(u,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Ticket Médio"]})}),e.jsx(x,{children:e.jsxs("div",{className:"text-3xl font-bold",children:["R$ ",M.toLocaleString("pt-BR")]})})]})]}),e.jsxs(o,{className:"mb-6 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-slate-200 dark:border-slate-800 shadow-lg",children:[e.jsx(j,{children:e.jsx(u,{children:"Filtros"})}),e.jsx(x,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(d,{placeholder:"Buscar por nome, CNPJ ou email...",value:p,onChange:s=>T(s.target.value),className:"pl-10"})]}),e.jsxs(D,{value:N,onValueChange:I,children:[e.jsx(E,{className:"w-full sm:w-[200px]",children:e.jsx(R,{placeholder:"Status"})}),e.jsxs(F,{children:[e.jsx(g,{value:"all",children:"Todos"}),e.jsx(g,{value:"active",children:"Ativos"}),e.jsx(g,{value:"inactive",children:"Inativos"})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:_.map(s=>e.jsxs(o,{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-slate-200 dark:border-slate-800 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx(u,{className:"text-xl",children:s.name}),e.jsxs(U,{className:"mt-1",children:["CNPJ: ",s.cnpj]})]})]}),e.jsx(A,{variant:s.status==="active"?"default":"secondary",className:s.status==="active"?"bg-emerald-500 hover:bg-emerald-600":"bg-slate-400 hover:bg-slate-500",children:s.status==="active"?"Ativo":"Inativo"})]})}),e.jsxs(x,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(C,{className:"h-4 w-4 text-emerald-600"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"MRR:"}),e.jsxs("span",{className:"font-semibold",children:["R$ ",s.mrr.toLocaleString("pt-BR")]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Projetos:"}),e.jsx("span",{className:"font-semibold",children:s.projects_count})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cliente desde:"}),e.jsx("span",{className:"font-semibold",children:new Date(s.created_at).toLocaleDateString("pt-BR")})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",onClick:()=>V(s),children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]}),e.jsxs(i,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",onClick:()=>z(s),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]})]},s.id))}),_.length===0&&e.jsx(o,{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-slate-200 dark:border-slate-800 shadow-lg",children:e.jsxs(x,{className:"py-12 text-center",children:[e.jsx(v,{className:"h-12 w-12 mx-auto text-slate-400 mb-4"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Nenhum cliente encontrado"})]})})]}),e.jsx(G,{open:t!==null,onOpenChange:()=>{m(null),c(!1)},children:e.jsxs(K,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(W,{children:[e.jsxs(X,{className:"text-2xl flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:t?.name.charAt(0)}),b?"Editar Cliente":t?.name]}),e.jsx(Y,{children:b?"Atualize as informações do cliente":"Informações detalhadas e projetos vinculados"})]}),b&&a?e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-name",children:"Nome"}),e.jsx(d,{id:"edit-name",value:a.name,onChange:s=>r({...a,name:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-cnpj",children:"CNPJ"}),e.jsx(d,{id:"edit-cnpj",value:a.cnpj,onChange:s=>r({...a,cnpj:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-email",children:"E-mail"}),e.jsx(d,{id:"edit-email",type:"email",value:a.email,onChange:s=>r({...a,email:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-phone",children:"Telefone"}),e.jsx(d,{id:"edit-phone",value:a.phone,onChange:s=>r({...a,phone:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-contact",children:"Pessoa de Contato"}),e.jsx(d,{id:"edit-contact",value:a.contact_person,onChange:s=>r({...a,contact_person:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-status",children:"Status"}),e.jsxs(D,{value:a.status,onValueChange:s=>r({...a,status:s}),children:[e.jsx(E,{id:"edit-status",children:e.jsx(R,{})}),e.jsxs(F,{children:[e.jsx(g,{value:"active",children:"Ativo"}),e.jsx(g,{value:"inactive",children:"Inativo"})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"edit-address",children:"Endereço"}),e.jsx(d,{id:"edit-address",value:a.address,onChange:s=>r({...a,address:s.target.value})})]})]})}):e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800",children:[e.jsx(Z,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"E-mail"}),e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:t?.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800",children:[e.jsx(Q,{className:"h-5 w-5 text-emerald-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Telefone"}),e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:t?.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800",children:[e.jsx(v,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"CNPJ"}),e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:t?.cnpj})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800",children:[e.jsx(B,{className:"h-5 w-5 text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Cliente desde"}),e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:t&&new Date(t.created_at).toLocaleDateString("pt-BR")})]})]}),e.jsxs("div",{className:"md:col-span-2 flex items-start gap-3 p-3 rounded-lg bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800",children:[e.jsx(v,{className:"h-5 w-5 text-slate-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Endereço"}),e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:t?.address})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-blue-500"}),"Projetos Vinculados (",f.length,")"]}),f.length>0?e.jsx("div",{className:"space-y-3",children:f.map(s=>{const l=$(s.status),w=l.icon;return e.jsxs("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-1",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"h-3.5 w-3.5"}),"R$ ",s.value.toLocaleString("pt-BR")]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3.5 w-3.5"}),new Date(s.start_date).toLocaleDateString("pt-BR")]})]})]}),e.jsxs(A,{className:`${l.color} flex items-center gap-1`,children:[e.jsx(w,{className:"h-3 w-3"}),l.text]})]}),e.jsxs(i,{variant:"ghost",size:"sm",className:"w-full mt-2 gap-2 hover:bg-blue-50 dark:hover:bg-blue-950/20",children:[e.jsx(re,{className:"h-3.5 w-3.5"}),"Ver Projeto Completo"]})]},s.id)})}):e.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[e.jsx(k,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum projeto vinculado"})]})]})]}),e.jsx(ee,{children:b?e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),e.jsx(i,{onClick:J,className:"bg-blue-600 hover:bg-blue-700",children:"Salvar Alterações"})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"outline",onClick:()=>m(null),children:"Fechar"}),e.jsxs(i,{onClick:()=>c(!0),className:"gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Editar Cliente"]})]})})]})})]})}export{xe as default};
