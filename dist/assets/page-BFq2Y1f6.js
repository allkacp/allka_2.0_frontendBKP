import{c as vs,r as l,j as e,C,aw as fs,af as W,ag as m,aM as Ns,ao as ns,n as ys,N as ws,f as n,P as rs,$ as Aa,Z as $e,a1 as ye,aN as gs,aW as Rs,G as Es,M as As,l as Se,B as v,E as de,H as ce,I as me,J as xe,K as u,b4 as Us,b5 as Re,aE as la,aF as ra,aG as ia,aH as na,aI as oa,aX as da,aJ as ca,aK as ma,aq as Da,ar as Ea,as as Ta,at as Ia,au as za,av as Bs,F as Ue,ad as Ts,A as os,b as ds,T as xa,h as ha,i as ge,U as Xe,o as Is,y as Cs,a3 as Os,aL as Ma,k as je,aV as _a,aU as cs,b6 as $s,S as ks,ap as ke,m as js,aY as Ss,az as Ee,ab as Vs,b7 as ua,b8 as pa,aB as as,aC as ts,aD as ls,ai as La,D as qs,v as Js,w as Ws,x as Gs,ae as Fa,ah as Hs,aQ as ba,X as Ra,p as Xs,b9 as Ua,R as Ba,aj as Ys,aO as us,z as Oa,Y as $a,W as ps,g as Va,aS as Ks,aT as Qs,aA as Zs}from"./index-D2dOrPZ8.js";import{A as Be,a as te,b as le,c as re}from"./accordion-C2wU0TCh.js";import{M as Ls,I as ea}from"./items-per-page-select-CDfU7i7m.js";import{u as Ds}from"./sidebar-context-DQOyQsLi.js";import{M as is}from"./map-pin-C1duHusI.js";import{P as qa}from"./pause-6mNLy7Cs.js";import{M as Ja}from"./music-v9tJr1f7.js";import{C as He}from"./confirmation-dialog-Bk9N8cdM.js";import{D as zs}from"./download--rFCaPFG.js";import{F as Oe}from"./funnel-D8IEwOH8.js";import{C as bs}from"./crown-BQ2hpl6e.js";import{S as ga}from"./square-pen-Bi43ABVd.js";import{E as Ps}from"./external-link-CC_JdT4J.js";import{P as Wa}from"./progress-BnPXSgzQ.js";import{L as sa,G as aa}from"./lock-open-Cu0IjoX3.js";import{P as Ms}from"./pen-D9tnGfMD.js";import{R as ja,B as va,C as fa,X as Na,Y as ya,T as wa,l as Ca}from"./BarChart-B1piY--Q.js";import{T as Ga}from"./triangle-alert-Cjhkzg0C.js";import{B as Ha,P as ka,a as Xa}from"./project-management-modal-DR7MxtOP.js";import{L as Ya}from"./list-CjThOVOb.js";import{A as Ka,a as Qa}from"./arrow-up-DskKQPw8.js";import{C as Za}from"./camera-DD1JqZEw.js";import{C as et}from"./circle-x-D0uMI9ez.js";import{M as st}from"./message-square-Bm6iE3sR.js";import{P as at}from"./page-header-DpITyWPC.js";import"./table-DSYZvwhV.js";import"./trending-down-DG-mIJr0.js";import"./file-Bd9y-o0b.js";import"./eye-off-99P7biTF.js";const tt=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],lt=vs("facebook",tt);const rt=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],it=vs("file-spreadsheet",rt);const nt=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ot=vs("instagram",nt);const dt=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],ct=vs("linkedin",dt);const mt=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],xt=vs("youtube",mt);function Sa({address:_,onAddressChange:U}){const[o,V]=l.useState(""),[q,w]=l.useState([]),[O,f]=l.useState(!1),[x,y]=l.useState(!1),[E,P]=l.useState(!1),[T,d]=l.useState(_?.lat&&_?.lng?{lat:_.lat,lng:_.lng}:null),I=l.useRef(null),B=l.useRef(null),F=l.useRef(null),H=l.useRef(null),c=l.useRef(null);l.useEffect(()=>{const k=()=>{typeof window.google<"u"&&window.google.maps&&P(!0)};k();const A=setInterval(k,500);return()=>clearInterval(A)},[]),l.useEffect(()=>{E&&(typeof window.google>"u"||I.current&&!c.current&&(c.current=new window.google.maps.places.Autocomplete(I.current,{componentRestrictions:{country:"br"},types:["address"]}),c.current.addListener("place_changed",J)))},[E]),l.useEffect(()=>{if(!E||typeof window.google>"u"||!B.current||x)return;const k=T?.lat||-23.5505,A=T?.lng||-46.6333,j=new window.google.maps.Map(B.current,{zoom:15,center:{lat:k,lng:A},mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1});F.current=j;const D=new window.google.maps.Marker({position:{lat:k,lng:A},map:j,draggable:!0});return H.current=D,D.addListener("dragend",async()=>{const ee=D.getPosition(),X=ee.lat(),se=ee.lng();d({lat:X,lng:se}),a(X,se)}),y(!0),()=>{F.current=null}},[x]),l.useEffect(()=>{H.current&&T&&(H.current.setPosition(T),F.current?.setCenter(T))},[T]);const J=async()=>{if(!c.current)return;const k=c.current.getPlace();if(!k.geometry){console.error("[v0] No geometry found for place");return}const A=k.geometry.location.lat(),j=k.geometry.location.lng();d({lat:A,lng:j}),V(k.formatted_address||"");const D=S(k);D.lat=A,D.lng=j,D.placeId=k.place_id||"",D.formatted=k.formatted_address||"",U?.(D),w([])},a=async(k,A)=>{try{new window.google.maps.Geocoder().geocode({location:{lat:k,lng:A}},(D,ee)=>{if(ee==="OK"&&D[0]){const X=D[0];V(X.formatted_address||"");const se=S(X);se.lat=k,se.lng=A,se.placeId=X.place_id||"",se.formatted=X.formatted_address||"",U?.(se)}})}catch(j){console.error("[v0] Geocoding error:",j)}},S=k=>{const A={};return k.address_components&&k.address_components.forEach(j=>{const D=j.types;D.includes("route")&&(A.street=j.long_name),D.includes("street_number")&&(A.number=j.long_name),(D.includes("sublocality")||D.includes("administrative_area_level_2"))&&(A.district=j.long_name),D.includes("administrative_area_level_1")&&(A.state=j.short_name),D.includes("locality")&&(A.city=j.long_name),D.includes("postal_code")&&(A.zipcode=j.long_name)}),{street:A.street||"",number:A.number||"",district:A.district||"",city:A.city||"",state:A.state||"",zipcode:A.zipcode||""}};return e.jsxs("div",{className:"space-y-4",children:[!E&&e.jsx(C,{className:"p-4 border-yellow-200 bg-yellow-50",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(fs,{className:"h-4 w-4 text-yellow-600 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-yellow-900",children:"Google Maps não foi configurado"}),e.jsx("p",{className:"text-xs text-yellow-800 mt-1",children:"Solicite ao administrador para configurar a API Key do Google Maps para usar o seletor de localização."})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"address-search",children:["Endereço ",E?"(com mapa)":"(manual)"]}),e.jsx(m,{ref:I,id:"address-search",type:"text",placeholder:E?"Digite um endereço...":"Digite manualmente",value:o,onChange:k=>V(k.target.value),className:"w-full"}),E&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Comece digitando para ver sugestões"})]}),E&&T&&e.jsx(C,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(is,{className:"h-4 w-4 mt-1 text-blue-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 text-sm",children:[e.jsx("p",{className:"font-medium",children:"Localização selecionada"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Lat: ",T.lat.toFixed(6)]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Lng: ",T.lng.toFixed(6)]})]})]}),e.jsx("div",{ref:B,className:"w-full h-64 rounded-lg border border-gray-200 bg-gray-100",style:{minHeight:"300px"}}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Arraste o marcador para ajustar a localização"})]})}),E&&!x&&e.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:[e.jsx(Ns,{className:"h-4 w-4 animate-spin mx-auto mb-2"}),"Carregando mapa..."]})]})}const ht={active:{label:"Ativa",icon:ys,classes:"bg-emerald-500 text-white shadow-md scale-105",hoverClasses:"bg-emerald-100 text-emerald-700 hover:bg-emerald-200"},inactive:{label:"Inativa",icon:qa,classes:"bg-gray-500 text-white shadow-md scale-105",hoverClasses:"bg-gray-200 text-gray-700 hover:bg-gray-300"},pending:{label:"Pendente",icon:ns,classes:"bg-amber-500 text-white shadow-md scale-105",hoverClasses:"bg-amber-100 text-amber-700 hover:bg-amber-200"}};function Fs({value:_,onChange:U,disabled:o=!1,showLabel:V=!0}){const q=["active","inactive","pending"];return e.jsxs("div",{className:"space-y-2",children:[V&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Situação da Empresa"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Defina o status da empresa"})]}),e.jsx("div",{className:"flex items-center gap-2",children:q.map(w=>{const O=ht[w],f=O.icon,x=_===w;return e.jsxs("button",{onClick:()=>U(w),disabled:o,className:ws("flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-all duration-200",x?O.classes:O.hoverClasses,o&&"opacity-50 cursor-not-allowed"),children:[e.jsx(f,{className:"h-4 w-4"}),O.label]},w)})})]})}const _s=[{id:"instagram",name:"Instagram",icon:e.jsx(ot,{className:"h-5 w-5"}),color:"bg-pink-50 border-pink-200 text-pink-600",placeholder:"https://instagram.com/empresa"},{id:"facebook",name:"Facebook",icon:e.jsx(lt,{className:"h-5 w-5"}),color:"bg-blue-50 border-blue-200 text-blue-600",placeholder:"https://facebook.com/empresa"},{id:"linkedin",name:"LinkedIn",icon:e.jsx(ct,{className:"h-5 w-5"}),color:"bg-blue-50 border-blue-200 text-blue-700",placeholder:"https://linkedin.com/company/empresa"},{id:"tiktok",name:"TikTok",icon:e.jsx(Ja,{className:"h-5 w-5"}),color:"bg-black/5 border-black/10 text-black",placeholder:"https://tiktok.com/@empresa"},{id:"youtube",name:"YouTube",icon:e.jsx(xt,{className:"h-5 w-5"}),color:"bg-red-50 border-red-200 text-red-600",placeholder:"https://youtube.com/@empresa"},{id:"x",name:"X (Twitter)",icon:e.jsx(ye,{className:"h-5 w-5"}),color:"bg-black/5 border-black/10 text-black",placeholder:"https://x.com/empresa"},{id:"pinterest",name:"Pinterest",icon:e.jsx(gs,{className:"h-5 w-5"}),color:"bg-red-50 border-red-200 text-red-500",placeholder:"https://pinterest.com/empresa"},{id:"whatsapp",name:"WhatsApp",icon:e.jsx(Rs,{className:"h-5 w-5"}),color:"bg-green-50 border-green-200 text-green-600",placeholder:"https://wa.me/55xxxxxxxxxxxx"},{id:"telegram",name:"Telegram",icon:e.jsx(Rs,{className:"h-5 w-5"}),color:"bg-blue-50 border-blue-200 text-blue-500",placeholder:"https://t.me/empresa"},{id:"site",name:"Site",icon:e.jsx(Es,{className:"h-5 w-5"}),color:"bg-purple-50 border-purple-200 text-purple-600",placeholder:"https://empresa.com.br"},{id:"google_business",name:"Google Meu Negócio",icon:e.jsx(is,{className:"h-5 w-5"}),color:"bg-yellow-50 border-yellow-200 text-yellow-600",placeholder:"https://google.com/business/empresa"}],ut=_=>_s.find(U=>U.id===_)||_s[0];function Pa({socialLinks:_,onChange:U,isEditMode:o=!1}){const[V,q]=l.useState(!1),w=new Set(_.map(y=>y.platform)),O=y=>{if(w.has(y)){q(!1);return}const E={id:`${y}-${Date.now()}`,platform:y,url:"",order:_.length};U([..._,E]),q(!1)},f=(y,E)=>{U(_.map(P=>P.id===y?{...P,url:E}:P))},x=y=>{U(_.filter(E=>E.id!==y))};return e.jsxs("div",{className:"space-y-4",children:[V&&e.jsxs(C,{className:"p-4 bg-slate-50 border-slate-200",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Selecione uma rede social:"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:_s.map(y=>e.jsxs("button",{onClick:()=>O(y.id),disabled:w.has(y.id),className:ws("flex items-center gap-2 p-3 rounded-lg border transition-all text-sm font-medium",w.has(y.id)?"bg-slate-100 border-slate-200 text-slate-400 cursor-not-allowed opacity-50":"bg-white border-slate-200 hover:border-blue-300 hover:bg-blue-50 text-slate-700 cursor-pointer"),children:[y.icon,e.jsx("span",{className:"truncate",children:y.name})]},y.id))})]}),!V&&e.jsxs(n,{type:"button",onClick:()=>q(!0),variant:"outline",className:"w-full border-dashed border-slate-300 hover:border-blue-400 hover:bg-blue-50",children:[e.jsx(rs,{className:"h-4 w-4 mr-2"}),"Adicionar rede social"]}),e.jsx("div",{className:"space-y-2",children:_.map(y=>{const E=ut(y.platform);return e.jsx(C,{className:"p-4 border-slate-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-slate-400 pt-1",children:e.jsx(Aa,{className:"h-5 w-5"})}),e.jsx("div",{className:ws("p-2 rounded-lg flex-shrink-0",E.color),children:E.icon}),e.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:E.name}),e.jsx(m,{type:"url",placeholder:E.placeholder,value:y.url,onChange:P=>f(y.id,P.target.value),className:"text-sm h-8 border-slate-200"})]}),e.jsx("button",{onClick:()=>x(y.id),className:"text-slate-400 hover:text-red-500 flex-shrink-0 pt-2 transition-colors",children:e.jsx($e,{className:"h-4 w-4"})})]})},y.id)})}),_.length===0&&!V&&e.jsx("div",{className:"text-center py-8 text-slate-400",children:e.jsx("p",{className:"text-sm",children:"Nenhuma rede social adicionada ainda"})})]})}function pt({open:_,onOpenChange:U,onCreate:o}){const{toast:V}=As(),{sidebarCollapsed:q}=Ds(),[w,O]=l.useState(!1),[f,x]=l.useState({}),[y,E]=l.useState(!1),[P,T]=l.useState(!1),[d,I]=l.useState({razaoSocial:"",nomeFantasia:"",cnpj:"",inscricaoEstadual:"",status:"active",emailPrincipal:"",telefone:"",socialLinks:[],cep:"",rua:"",numero:"",complemento:"",cidade:"",estado:"",latitude:void 0,longitude:void 0,place_id:void 0,formatted_address:void 0,tipoContato:"independent",planoCreditoId:"starter",limite:"1000",creditosIniciais:"100",metodoPagamento:"pix",nomeAdmin:"",emailAdmin:""});l.useEffect(()=>{T(!0)},[]),l.useEffect(()=>{_||(I({razaoSocial:"",nomeFantasia:"",cnpj:"",inscricaoEstadual:"",status:"active",emailPrincipal:"",telefone:"",socialLinks:[],cep:"",rua:"",numero:"",complemento:"",cidade:"",estado:"",tipoContato:"independent",planoCreditoId:"starter",limite:"1000",creditosIniciais:"100",metodoPagamento:"pix",nomeAdmin:"",emailAdmin:""}),x({}))},[_]);const B=()=>{const a={};return d.razaoSocial.trim()||(a.razaoSocial="Razão Social é obrigatória"),d.nomeFantasia.trim()||(a.nomeFantasia="Nome Fantasia é obrigatório"),d.cnpj.trim()||(a.cnpj="CNPJ é obrigatório"),d.emailPrincipal.trim()?/\S+@\S+\.\S+/.test(d.emailPrincipal)||(a.emailPrincipal="Email inválido"):a.emailPrincipal="Email é obrigatório",d.telefone.trim()||(a.telefone="Telefone é obrigatório"),d.rua.trim()||(a.rua="Rua é obrigatória"),d.numero.trim()||(a.numero="Número é obrigatório"),d.cidade.trim()||(a.cidade="Cidade é obrigatória"),d.estado.trim()||(a.estado="Estado é obrigatório"),d.nomeAdmin.trim()||(a.nomeAdmin="Nome do Admin é obrigatório"),d.emailAdmin.trim()?/\S+@\S+\.\S+/.test(d.emailAdmin)||(a.emailAdmin="Email do Admin inválido"):a.emailAdmin="Email do Admin é obrigatório",x(a),Object.keys(a).length===0},F=()=>{if(!B()){V({title:"Erro de validação",description:"Por favor, preencha todos os campos obrigatórios",variant:"destructive"});return}E(!0)},H=async()=>{O(!0),E(!1);try{const a={id:Date.now().toString(),razaoSocial:d.razaoSocial,nomeFantasia:d.nomeFantasia,cnpj:d.cnpj,inscricaoEstadual:d.inscricaoEstadual,status:d.status,emailPrincipal:d.emailPrincipal,telefone:d.telefone,socialLinks:d.socialLinks,endereco:{cep:d.cep,rua:d.rua,numero:d.numero,complemento:d.complemento,cidade:d.cidade,estado:d.estado},tipoContato:d.tipoContato,planoCreditoId:d.planoCreditoId,limite:parseInt(d.limite),creditosIniciais:parseInt(d.creditosIniciais),metodoPagamento:d.metodoPagamento,adminInicial:{nome:d.nomeAdmin,email:d.emailAdmin,perfil:"administrador"},createdAt:new Date().toISOString()};await new Promise(S=>setTimeout(S,500)),V({title:"Sucesso",description:"Empresa criada com sucesso!"}),o(a),U(!1)}catch{V({title:"Erro",description:"Falha ao criar empresa",variant:"destructive"})}finally{O(!1)}},c=(a,S)=>{I(k=>({...k,[a]:S})),f[a]&&x(k=>({...k,[a]:void 0}))},J=q?"calc(100vw - 4rem)":"calc(100vw - 16rem)";return P?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:ws("fixed top-0 right-0 h-full bg-white flex flex-col border-l border-gray-200 z-50 shadow-2xl","transform transition-transform duration-500 ease-out",_?"translate-x-0":"translate-x-full"),style:{width:J},children:[e.jsx(Ls,{title:"Nova Empresa",left:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-white/20 rounded-lg backdrop-blur",children:e.jsx(Se,{className:"h-5 w-5 text-white"})}),e.jsx("div",{children:e.jsx("p",{className:"text-xs text-blue-200",children:"Configure os dados da empresa"})})]}),right:e.jsxs("button",{onClick:()=>U(!1),className:"rounded-lg opacity-100 transition-all hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white/40 disabled:pointer-events-none p-1.5",title:"Fechar",children:[e.jsx(ye,{className:"h-6 w-6 text-white drop-shadow-md"}),e.jsx("span",{className:"sr-only",children:"Fechar"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 app-brand-soft",children:[e.jsx("div",{className:"mb-6 p-5 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-xl shadow-sm",children:e.jsx(Fs,{value:d.status,onChange:a=>c("status",a)})}),e.jsxs(Be,{type:"single",collapsible:!0,defaultValue:"cadastrais",className:"space-y-3",children:[e.jsxs(te,{value:"cadastrais",className:"border rounded-lg",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"bg-blue-100 text-blue-700",children:"1"}),"Dados Cadastrais da Empresa"]})}),e.jsx(re,{className:"px-4 py-4 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(W,{className:"text-sm font-semibold",children:"Razão Social *"}),e.jsx(m,{placeholder:"Empresa LTDA",value:d.razaoSocial,onChange:a=>c("razaoSocial",a.target.value),className:f.razaoSocial?"border-red-500":""}),f.razaoSocial&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.razaoSocial})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(W,{className:"text-sm font-semibold",children:"Nome Fantasia *"}),e.jsx(m,{placeholder:"Empresa",value:d.nomeFantasia,onChange:a=>c("nomeFantasia",a.target.value),className:f.nomeFantasia?"border-red-500":""}),f.nomeFantasia&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.nomeFantasia})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"CNPJ *"}),e.jsx(m,{placeholder:"12.345.678/0001-90",value:d.cnpj,onChange:a=>c("cnpj",a.target.value),className:f.cnpj?"border-red-500":""}),f.cnpj&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.cnpj})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Inscrição Estadual"}),e.jsx(m,{placeholder:"(Opcional)",value:d.inscricaoEstadual,onChange:a=>c("inscricaoEstadual",a.target.value)})]})]})})]}),e.jsxs(te,{value:"contato",className:"border rounded-lg",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"bg-green-100 text-green-700",children:"2"}),"Contato"]})}),e.jsx(re,{className:"px-4 py-4 space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Email Principal *"}),e.jsx(m,{type:"email",placeholder:"contact@empresa.com",value:d.emailPrincipal,onChange:a=>c("emailPrincipal",a.target.value),className:f.emailPrincipal?"border-red-500":""}),f.emailPrincipal&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.emailPrincipal})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Telefone *"}),e.jsx(m,{placeholder:"(11) 98765-4321",value:d.telefone,onChange:a=>c("telefone",a.target.value),className:f.telefone?"border-red-500":""}),f.telefone&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.telefone})]})]})})]}),e.jsxs(te,{value:"social",className:"border rounded-lg",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"bg-blue-100 text-blue-700",children:"3"}),"Redes Sociais"]})}),e.jsx(re,{className:"px-4 py-4",children:e.jsx(Pa,{socialLinks:d.socialLinks,onChange:a=>c("socialLinks",a)})})]}),e.jsxs(te,{value:"endereco",className:"border rounded-lg",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"bg-purple-100 text-purple-700",children:"4"}),"Endereço"]})}),e.jsxs(re,{className:"px-4 py-4 space-y-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(W,{className:"text-sm font-semibold mb-3 block",children:"Localização (Selecione no Mapa) *"}),e.jsx(Sa,{address:{street:d.rua,number:d.numero,district:d.complemento,city:d.cidade,state:d.estado,zipcode:d.cep,lat:d.latitude,lng:d.longitude},onAddressChange:a=>{c("rua",a.street),c("numero",a.number),c("complemento",a.district),c("cidade",a.city),c("estado",a.state),c("cep",a.zipcode),c("latitude",a.lat),c("longitude",a.lng),a.placeId&&c("place_id",a.placeId),a.formatted&&c("formatted_address",a.formatted)}})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Você também pode editar os campos abaixo manualmente"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx(W,{className:"text-sm font-semibold",children:"CEP"}),e.jsx(m,{placeholder:"01310-100",value:d.cep,onChange:a=>c("cep",a.target.value)})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(W,{className:"text-sm font-semibold",children:"Rua *"}),e.jsx(m,{placeholder:"Avenida Paulista",value:d.rua,onChange:a=>c("rua",a.target.value),className:f.rua?"border-red-500":""}),f.rua&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.rua})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Número *"}),e.jsx(m,{placeholder:"1000",value:d.numero,onChange:a=>c("numero",a.target.value),className:f.numero?"border-red-500":""}),f.numero&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.numero})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Complemento"}),e.jsx(m,{placeholder:"Apto 1000",value:d.complemento,onChange:a=>c("complemento",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Cidade *"}),e.jsx(m,{placeholder:"São Paulo",value:d.cidade,onChange:a=>c("cidade",a.target.value),className:f.cidade?"border-red-500":""}),f.cidade&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.cidade})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Estado *"}),e.jsxs(de,{value:d.estado,onValueChange:a=>c("estado",a),children:[e.jsx(ce,{className:f.estado?"border-red-500":"",children:e.jsx(me,{placeholder:"Selecione"})}),e.jsxs(xe,{children:[e.jsx(u,{value:"SP",children:"SP"}),e.jsx(u,{value:"RJ",children:"RJ"}),e.jsx(u,{value:"MG",children:"MG"}),e.jsx(u,{value:"BA",children:"BA"}),e.jsx(u,{value:"SC",children:"SC"}),e.jsx(u,{value:"PR",children:"PR"})]})]}),f.estado&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.estado})]})]})]})]})]}),e.jsxs(te,{value:"tipoConta",className:"border rounded-lg",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"bg-orange-100 text-orange-700",children:"5"}),"Tipo de Conta"]})}),e.jsx(re,{className:"px-4 py-4 space-y-3",children:e.jsxs(Us,{value:d.tipoContato,onValueChange:a=>c("tipoContato",a),className:"space-y-3",children:[e.jsx(C,{className:"p-3 border-l-4 border-l-blue-500 cursor-pointer hover:bg-blue-50",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx(Re,{value:"dependent",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Company Dependente"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Empresa gerenciada por outra company"})]})]})}),e.jsx(C,{className:"p-3 border-l-4 border-l-green-500 cursor-pointer hover:bg-green-50",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx(Re,{value:"independent",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Company Independente"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Empresa com autonomia total"})]})]})}),e.jsx(C,{className:"p-3 border-l-4 border-l-purple-500 cursor-pointer hover:bg-purple-50",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx(Re,{value:"agency",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Agency"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Agência gestora de múltiplos projetos"})]})]})}),e.jsx(C,{className:"p-3 border-l-4 border-l-red-500 cursor-pointer hover:bg-red-50",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx(Re,{value:"partner",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold",children:"Partner"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Parceiro de plataforma"})]})]})})]})})]}),e.jsxs(te,{value:"plano",className:"border rounded-lg",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"bg-indigo-100 text-indigo-700",children:"6"}),"Plano de Créditos"]})}),e.jsx(re,{className:"px-4 py-4 space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Selecionar Plano"}),e.jsxs(de,{value:d.planoCreditoId,onValueChange:a=>c("planoCreditoId",a),children:[e.jsx(ce,{children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"starter",children:"Starter (100 créditos)"}),e.jsx(u,{value:"growth",children:"Growth (500 créditos)"}),e.jsx(u,{value:"enterprise",children:"Enterprise (1000 créditos)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Limite de Créditos"}),e.jsx(m,{type:"number",placeholder:"1000",value:d.limite,onChange:a=>c("limite",a.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Créditos Iniciais"}),e.jsx(m,{type:"number",placeholder:"100",value:d.creditosIniciais,onChange:a=>c("creditosIniciais",a.target.value)})]})]})]})})]}),e.jsxs(te,{value:"pagamento",className:"border rounded-lg",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"bg-cyan-100 text-cyan-700",children:"7"}),"Métodos de Pagamento"]})}),e.jsx(re,{className:"px-4 py-4 space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(W,{className:"text-sm font-semibold",children:"Método Padrão"}),e.jsxs(Us,{value:d.metodoPagamento,onValueChange:a=>c("metodoPagamento",a),className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-50",children:[e.jsx(Re,{value:"pix"}),e.jsx("span",{className:"text-sm",children:"PIX"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-50",children:[e.jsx(Re,{value:"boleto"}),e.jsx("span",{className:"text-sm",children:"Boleto"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-50",children:[e.jsx(Re,{value:"cartao"}),e.jsx("span",{className:"text-sm",children:"Cartão de Crédito"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-gray-50",children:[e.jsx(Re,{value:"allkoin"}),e.jsx("span",{className:"text-sm",children:"ALLKOIN"})]})]})]})})]}),e.jsxs(te,{value:"admin",className:"border rounded-lg",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-gray-50 text-sm font-semibold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"bg-rose-100 text-rose-700",children:"8"}),"Usuário Administrador Inicial"]})}),e.jsxs(re,{className:"px-4 py-4 space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex gap-2 text-xs text-blue-700 mb-4",children:[e.jsx(fs,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),e.jsx("p",{children:"Este será o primeiro usuário com acesso total à empresa"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Nome do Administrador *"}),e.jsx(m,{placeholder:"João Silva",value:d.nomeAdmin,onChange:a=>c("nomeAdmin",a.target.value),className:f.nomeAdmin?"border-red-500":""}),f.nomeAdmin&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.nomeAdmin})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Email do Administrador *"}),e.jsx(m,{type:"email",placeholder:"joao@empresa.com",value:d.emailAdmin,onChange:a=>c("emailAdmin",a.target.value),className:f.emailAdmin?"border-red-500":""}),f.emailAdmin&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:f.emailAdmin})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Perfil"}),e.jsx(m,{disabled:!0,defaultValue:"Administrador",className:"bg-gray-50 text-gray-600"})]})]})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsx("p",{className:"text-xs text-amber-800",children:"A empresa será criada e o usuário administrador receberá um convite por email para configurar sua senha."})})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 px-6 py-4 border-t bg-gray-50 flex-shrink-0",children:[e.jsx(n,{variant:"outline",onClick:()=>U(!1),disabled:w,children:"Cancelar"}),e.jsx(n,{className:"bg-gradient-to-r from-blue-600 to-fuchsia-600 hover:from-blue-700 hover:to-fuchsia-700",onClick:F,disabled:w,children:w?"Criando...":"Criar Empresa"})]})]}),e.jsx(la,{open:y,onOpenChange:E,children:e.jsxs(ra,{children:[e.jsxs(ia,{children:[e.jsx(na,{children:"Confirmar Criação de Empresa"}),e.jsxs(oa,{children:["Deseja realmente criar a empresa ",e.jsx("strong",{children:d.nomeFantasia})," com as configurações informadas?"]})]}),e.jsxs(da,{children:[e.jsx(ca,{children:"Cancelar"}),e.jsx(ma,{onClick:H,className:"bg-blue-600 hover:bg-blue-700",children:"Criar Empresa"})]})]})})]}):null}function bt({open:_,onClose:U,company:o,onSave:V}){const{sidebarWidth:q}=Ds(),{toast:w}=As(),[O,f]=l.useState(!1),[x,y]=l.useState("company-data"),[E,P]=l.useState({open:!1,action:null}),[T,d]=l.useState({open:!1,newStatus:null}),[I,B]=l.useState(""),[F,H]=l.useState("all"),[c,J]=l.useState("all"),[a,S]=l.useState("all"),[k,A]=l.useState(""),[j,D]=l.useState("all"),[ee,X]=l.useState(!1),[se,oe]=l.useState(""),[h,$]=l.useState(""),[he,ie]=l.useState("member"),[t,p]=l.useState(!1),[R,z]=l.useState(""),[K,pe]=l.useState(""),[b,ue]=l.useState(null),[Y,ve]=l.useState("basic"),[be,r]=l.useState([{id:1,name:"João Silva",email:"joao@empresa.com",role:"Admin",status:"active"},{id:2,name:"Maria Santos",email:"maria@empresa.com",role:"User",status:"active"},{id:3,name:"Pedro Costa",email:"pedro@empresa.com",role:"User",status:"inactive"}]),[N,fe]=l.useState([{name:"Termos de Uso",version:"1.0",acceptedAt:"2024-06-15",acceptedBy:"Admin"},{name:"Política de Privacidade",version:"1.2",acceptedAt:"2024-06-15",acceptedBy:"Admin"}]),[ne,Pe]=l.useState([{id:1,name:"Redesign Website",status:"active",progress:75,startDate:"2025-02-15"},{id:2,name:"Mobile App Development",status:"active",progress:45,startDate:"2025-03-20"},{id:3,name:"Marketing Campaign",status:"completed",progress:100,startDate:"2024-12-30"}]),[ms,Ye]=l.useState([{user:"João Silva",action:"Login realizado",timestamp:"2025-01-07 14:30",ip:"192.168.1.1"},{user:"Maria Santos",action:"Projeto criado",timestamp:"2025-01-07 13:15",ip:"192.168.1.5"},{user:"João Silva",action:"Usuário convidado",timestamp:"2025-01-07 11:20",ip:"192.168.1.1"}]),Ve=()=>{if(!b)return;const s={informacoes_basicas:{nome:b.name,tipo:b.type,status:b.status,cnpj:b.cnpj||"N/A",email:b.email,telefone:b.phone,website:b.website||"N/A",endereco:b.address||"N/A"},usuarios:be.map(ae=>({nome:ae.name,email:ae.email,funcao:ae.role,status:ae.status})),plano:{atual:b.plan||"basic",valor_mensal:b.plan==="Enterprise"?"R$ 499/mês":b.plan==="Premium"?"R$ 199/mês":"R$ 49/mês"},metricas_uso:{usuarios_ativos:b.activeUsers||0,total_usuarios:b.totalUsers||be.length,projetos_ativos:b.projects||ne.filter(ae=>ae.status==="active").length,mau:Math.floor((b.activeUsers||0)*1.2),dau:Math.floor((b.activeUsers||0)*.7)},financeiro:{total_investido:`R$ ${(Math.random()*5e4+5e3).toFixed(2)}`,receita_mensal:`R$ ${(Math.random()*5e3+500).toFixed(2)}`,lifetime_value:`R$ ${(Math.random()*1e5+1e4).toFixed(2)}`},termos_aceitos:N.map(ae=>({termo:ae.name,versao:ae.version,aceito_em:ae.acceptedAt,aceito_por:ae.acceptedBy})),projetos:ne.map(ae=>({nome:ae.name,status:ae.status,progresso:ae.progress,inicio:ae.startDate})),logs_recentes:ms.slice(0,50).map(ae=>({usuario:ae.user,acao:ae.action,timestamp:ae.timestamp,ip:ae.ip}))},M=JSON.stringify(s,null,2),Z=new Blob([M],{type:"application/json"}),Ne=URL.createObjectURL(Z),ze=document.createElement("a");ze.href=Ne,ze.download=`relatorio-${b.name.toLowerCase().replace(/\s/g,"-")}-${new Date().toISOString().split("T")[0]}.json`,ze.click()},qe=()=>{if(!b)return;const s=be.map(ae=>`"${ae.name.replace(/"/g,'""')}","${ae.email.replace(/"/g,'""')}","${ae.role.replace(/"/g,'""')}","${ae.status.replace(/"/g,'""')}"`).join(`
`),M=`Nome,Email,Função,Status
`,Z=new Blob([M+s],{type:"text/csv"}),Ne=URL.createObjectURL(Z),ze=document.createElement("a");ze.href=Ne,ze.download=`usuarios-${b.name.toLowerCase().replace(/\s/g,"-")}-${new Date().toISOString().split("T")[0]}.csv`,ze.click()},Ke=s=>{d({open:!0,newStatus:s})},Qe=async()=>{if(!b||!T.newStatus)return;const s=b.status;ue({...b,status:T.newStatus}),d({open:!1,newStatus:null});try{await new Promise(M=>setTimeout(M,500)),w({title:"Sucesso",description:`Status alterado de ${s==="active"?"Ativo":s==="inactive"?"Inativo":"Pendente"} para ${T.newStatus==="active"?"Ativo":T.newStatus==="inactive"?"Inativo":"Pendente"}`})}catch{w({title:"Erro",description:"Falha ao alterar status",variant:"destructive"})}};l.useEffect(()=>{o&&_&&(ue(o),ve(o.partner_level||"basic"))},[o,_]);const[we,Ae]=l.useState([{id:1,name:"João Silva",email:"joao@empresa.com",role:"Admin",status:"active",last_login:"2025-01-05",isMaster:!0},{id:2,name:"Maria Santos",email:"maria@empresa.com",role:"User",status:"active",last_login:"2025-01-06",isMaster:!1},{id:3,name:"Pedro Costa",email:"pedro@empresa.com",role:"User",status:"inactive",last_login:"2024-12-20",isMaster:!1}]),[xs]=l.useState([{id:1,term:"Termos de Uso",accepted:!0,date:"2024-06-15",version:"1.0"},{id:2,term:"Política de Privacidade",accepted:!0,date:"2024-06-15",version:"1.2"},{id:3,term:"Termos de Serviço Premium",accepted:!1,date:null,version:"2.0"}]),[hs]=l.useState([{id:1,name:"Redesign Website",status:"active",progress:75,nomads:3,deadline:"2025-02-15"},{id:2,name:"Mobile App Development",status:"active",progress:45,nomads:5,deadline:"2025-03-20"},{id:3,name:"Marketing Campaign",status:"completed",progress:100,nomads:2,deadline:"2024-12-30"},{id:4,name:"SEO Optimization",status:"paused",progress:30,nomads:1,deadline:"2025-04-10"}]),[Ce]=l.useState([{id:1,user:"João Silva",action:"Login realizado",category:"auth",timestamp:"2025-01-07 14:30",ip:"192.168.1.1"},{id:2,user:"Maria Santos",action:"Projeto criado",category:"project",timestamp:"2025-01-07 13:15",ip:"192.168.1.5"},{id:3,user:"João Silva",action:"Usuário convidado",category:"user",timestamp:"2025-01-07 11:20",ip:"192.168.1.1"},{id:4,user:"Pedro Costa",action:"Configurações alteradas",category:"settings",timestamp:"2025-01-06 16:45",ip:"192.168.1.8"},{id:5,user:"Maria Santos",action:"Logout",category:"auth",timestamp:"2025-01-06 15:30",ip:"192.168.1.5"}]),[Ze,Me]=l.useState(!1),[Je,Te]=l.useState(null),We=we.filter(s=>{const M=s.name.toLowerCase().includes(I.toLowerCase())||s.email.toLowerCase().includes(I.toLowerCase()),Z=F==="all"||s.role.toLowerCase()===F;return M&&Z}),De=xs.filter(s=>c==="all"?!0:c==="accepted"?s.accepted:c==="pending"?!s.accepted:!0),Ie=hs.filter(s=>a==="all"?!0:s.status===a),_e=Ce.filter(s=>{const M=s.user.toLowerCase().includes(k.toLowerCase())||s.action.toLowerCase().includes(k.toLowerCase()),Z=j==="all"||s.category===j;return M&&Z}),es=()=>{if(!se||!h)return;const s={id:we.length+1,name:se,email:h,role:he==="admin"?"Admin":"User",status:"active",last_login:new Date().toISOString().split("T")[0],isMaster:!1};Ae([...we,s]),X(!1),oe(""),$(""),ie("member")},Le=s=>{Ae(we.filter(M=>M.id!==s))},g=()=>{Je&&(Ae(we.map(s=>({...s,isMaster:s.id===Je}))),Me(!1),Te(null))},Q=()=>{K&&(p(!1),pe(""),z(""))},Fe=()=>{P({open:!0,action:"save"})},ss=()=>{b&&(V(b),P({open:!1,action:null}),L())},Ge=()=>{P({open:!0,action:"cancel"})},i=()=>{P({open:!1,action:null}),L()},L=()=>{f(!0),setTimeout(()=>{f(!1),U()},300)},G=s=>{ve(s),b&&ue({...b,partner_level:s,plan:s})};return!_&&!O||!o?null:b?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{width:`calc(100% - ${q}px)`},className:`fixed right-0 top-0 h-full bg-background shadow-2xl z-50 flex flex-col transition-all duration-500 ease-out border-l ${O?"translate-x-full":"translate-x-0 delay-100"}`,children:[e.jsx(Ls,{title:"Editar Empresa",left:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx(os,{className:"h-12 w-12 ring-2 ring-white/20",children:e.jsx(ds,{className:"bg-white/20 backdrop-blur-sm text-white text-sm font-bold",children:o.name.substring(0,2).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-white/80 mt-0.5",children:o.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(v,{variant:"secondary",className:"text-xs bg-white/20 text-white border-0",children:o.type==="company"?"Company":o.type==="agency"?"Agency":"Nomad"}),e.jsx(v,{variant:"secondary",className:`text-xs border-0 ${o.status==="active"?"bg-green-500/20 text-green-100":o.status==="inactive"?"bg-red-500/20 text-red-100":"bg-yellow-500/20 text-yellow-100"}`,children:o.status==="active"?"Ativo":o.status==="inactive"?"Inativo":"Pendente"})]})]})]}),right:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(Da,{children:[e.jsx(Ea,{asChild:!0,children:e.jsxs(n,{size:"sm",variant:"ghost",className:"h-9 px-3 text-white hover:bg-white/10",children:[e.jsx(zs,{className:"h-3.5 w-3.5 mr-1.5"}),"Exportar"]})}),e.jsxs(Ta,{align:"end",className:"w-56",children:[e.jsx(Ia,{children:"Exportar Dados"}),e.jsx(za,{}),e.jsxs(Bs,{onClick:Ve,children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Relatório Completo"]}),e.jsxs(Bs,{onClick:qe,children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Exportar Usuários (CSV)"]})]})]}),e.jsxs(n,{onClick:Fe,type:"button",size:"sm",className:"h-9 px-4 bg-white text-blue-600 hover:bg-white/90 font-medium",children:[e.jsx(Ts,{className:"h-3.5 w-3.5 mr-1.5"}),"Salvar Alterações"]}),e.jsx(n,{variant:"ghost",size:"icon",type:"button",onClick:Ge,className:"shrink-0 h-8 w-8 text-white hover:bg-white/20",children:e.jsx(ye,{className:"h-4 w-4"})})]})}),e.jsxs(xa,{value:x,onValueChange:y,className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"border-b px-6 py-3 shrink-0 bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs(ha,{className:"bg-transparent h-auto p-0 w-full justify-start gap-2",children:[e.jsxs(ge,{value:"company-data",className:"px-4 py-2.5 text-sm font-semibold rounded-lg border-2 transition-all duration-200 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:border-blue-600 data-[state=inactive]:bg-white data-[state=inactive]:text-gray-700 data-[state=inactive]:border-gray-200 hover:border-blue-300",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Dados"]}),e.jsxs(ge,{value:"users",className:"px-4 py-2.5 text-sm font-semibold rounded-lg border-2 transition-all duration-200 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:border-blue-600 data-[state=inactive]:bg-white data-[state=inactive]:text-gray-700 data-[state=inactive]:border-gray-200 hover:border-blue-300",children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Usuários"]}),e.jsxs(ge,{value:"plan",className:"px-4 py-2.5 text-sm font-semibold rounded-lg border-2 transition-all duration-200 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:border-blue-600 data-[state=inactive]:bg-white data-[state=inactive]:text-gray-700 data-[state=inactive]:border-gray-200 hover:border-blue-300",children:[e.jsx(Is,{className:"h-4 w-4 mr-2"}),"Plano"]}),e.jsxs(ge,{value:"terms",className:"px-4 py-2.5 text-sm font-semibold rounded-lg border-2 transition-all duration-200 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:border-blue-600 data-[state=inactive]:bg-white data-[state=inactive]:text-gray-700 data-[state=inactive]:border-gray-200 hover:border-blue-300",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Termos"]}),e.jsxs(ge,{value:"projects",className:"px-4 py-2.5 text-sm font-semibold rounded-lg border-2 transition-all duration-200 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:border-blue-600 data-[state=inactive]:bg-white data-[state=inactive]:text-gray-700 data-[state=inactive]:border-gray-200 hover:border-blue-300",children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Projetos"]}),e.jsxs(ge,{value:"logs",className:"px-4 py-2.5 text-sm font-semibold rounded-lg border-2 transition-all duration-200 data-[state=active]:bg-blue-600 data-[state=active]:text-white data-[state=active]:border-blue-600 data-[state=inactive]:bg-white data-[state=inactive]:text-gray-700 data-[state=inactive]:border-gray-200 hover:border-blue-300",children:[e.jsx(Os,{className:"h-4 w-4 mr-2"}),"Logs"]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden bg-muted/20 app-brand-soft",children:e.jsxs(Ma,{className:"h-full",children:[e.jsxs(je,{value:"company-data",className:"p-6 space-y-6 mt-0",children:[e.jsx("div",{className:"mb-6 p-5 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-xl shadow-sm",children:e.jsx(Fs,{value:b?.status||"active",onChange:s=>{b&&Ke(s)},showLabel:!0})}),e.jsxs(C,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Se,{className:"h-4 w-4 text-blue-600"}),e.jsx("h3",{className:"text-sm font-semibold",children:"Informações da Empresa"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"name",className:"text-xs font-medium flex items-center gap-1.5",children:[e.jsx(Se,{className:"h-3 w-3"}),"Nome da Empresa"]}),e.jsx(m,{id:"name",value:b.name,onChange:s=>ue({...b,name:s.target.value}),className:"h-9 text-sm",placeholder:"Nome da empresa"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"type",className:"text-xs font-medium",children:"Tipo de Empresa"}),e.jsxs(de,{value:b.type,onValueChange:s=>ue({...b,type:s}),children:[e.jsx(ce,{className:"h-9 text-sm",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"company",children:"Company"}),e.jsx(u,{value:"agency",children:"Agency"}),e.jsx(u,{value:"nomad",children:"Nomad"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"email",className:"text-xs font-medium flex items-center gap-1.5",children:[e.jsx(gs,{className:"h-3 w-3"}),"Email"]}),e.jsx(m,{id:"email",type:"email",value:b.email,onChange:s=>ue({...b,email:s.target.value}),className:"h-9 text-sm",placeholder:"email@empresa.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"phone",className:"text-xs font-medium flex items-center gap-1.5",children:[e.jsx(_a,{className:"h-3 w-3"}),"Telefone"]}),e.jsx(m,{id:"phone",type:"tel",value:b.phone,onChange:s=>ue({...b,phone:s.target.value}),className:"h-9 text-sm",placeholder:"+55 (11) 98765-4321"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"document",className:"text-xs font-medium flex items-center gap-1.5",children:[e.jsx(Ue,{className:"h-3 w-3"}),"Documento (CNPJ)"]}),e.jsx(m,{id:"document",value:b.document,onChange:s=>ue({...b,document:s.target.value}),className:"h-9 text-sm",placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2 col-span-1 md:col-span-2",children:[e.jsxs(W,{className:"text-sm font-semibold mb-3 block flex items-center gap-1.5",children:[e.jsx(is,{className:"h-4 w-4"}),"Localização (Selecione no Mapa)"]}),e.jsx(Sa,{address:{street:b.street||"",number:b.number||"",district:b.district||"",city:b.city||"",state:b.state||"",zipcode:b.cep||"",lat:b.lat||0,lng:b.lng||0},onAddressChange:s=>{ue(M=>({...M,street:s.street||"",number:s.number||"",district:s.district||"",city:s.city||"",state:s.state||"",cep:s.zipcode||"",lat:s.lat,lng:s.lng}))}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"location",className:"text-xs font-medium flex items-center gap-1.5",children:[e.jsx(is,{className:"h-3 w-3"}),"Localização"]}),e.jsx(m,{id:"location",value:b.location,onChange:s=>ue({...b,location:s.target.value}),className:"h-9 text-sm",placeholder:"São Paulo, Brasil"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"account-type",className:"text-xs font-medium",children:"Tipo de Conta"}),e.jsxs(de,{value:b.account_type||"independent",onValueChange:s=>ue({...b,account_type:s}),children:[e.jsx(ce,{className:"h-9 text-sm",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"independent",children:"Independente"}),e.jsx(u,{value:"premium",children:"Premium"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"cnpj",className:"text-xs font-medium flex items-center gap-1.5",children:[e.jsx(Ue,{className:"h-3 w-3"}),"CNPJ"]}),e.jsx(m,{id:"cnpj",value:b.cnpj||"",onChange:s=>ue({...b,cnpj:s.target.value}),className:"h-9 text-sm",placeholder:"00.000.000/0000-00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"website",className:"text-xs font-medium flex items-center gap-1.5",children:[e.jsx(Es,{className:"h-3 w-3"}),"Website"]}),e.jsx(m,{id:"website",value:b.website||"",onChange:s=>ue({...b,website:s.target.value}),className:"h-9 text-sm",placeholder:"https://www.empresa.com"})]}),e.jsxs("div",{className:"space-y-2 col-span-1 md:col-span-2",children:[e.jsxs(W,{htmlFor:"address",className:"text-xs font-medium flex items-center gap-1.5",children:[e.jsx(is,{className:"h-3 w-3"}),"Endereço Completo"]}),e.jsx(m,{id:"address",value:b.address||"",onChange:s=>ue({...b,address:s.target.value}),className:"h-9 text-sm",placeholder:"Rua Exemplo, 123, Bairro, Cidade, Estado, CEP"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{type:"button",variant:"outline",onClick:Ge,className:"h-9 px-6",children:"Cancelar"}),e.jsxs(n,{type:"button",onClick:Fe,className:"h-9 px-6",children:[e.jsx(Ts,{className:"h-3.5 w-3.5 mr-2"}),"Salvar Alterações"]})]})]}),e.jsxs(je,{value:"users",className:"p-6 space-y-4 mt-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(m,{placeholder:"Buscar usuários...",value:I,onChange:s=>B(s.target.value),className:"pl-9 h-9 text-sm"})]}),e.jsxs(de,{value:F,onValueChange:H,children:[e.jsxs(ce,{className:"w-full sm:w-[180px] h-9 text-sm",children:[e.jsx(Oe,{className:"h-3.5 w-3.5 mr-2"}),e.jsx(me,{placeholder:"Filtrar por função"})]}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos"}),e.jsx(u,{value:"admin",children:"Admin"}),e.jsx(u,{value:"user",children:"Usuário"})]})]}),e.jsxs(n,{onClick:()=>X(!0),className:"h-9 px-4",children:[e.jsx($s,{className:"h-3.5 w-3.5 mr-2"}),"Adicionar Usuário"]})]}),Ze&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs(C,{className:"p-6 w-full max-w-md shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Transferir Master"}),e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>Me(!1),className:"h-8 w-8",children:e.jsx(ye,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione o usuário que se tornará o novo Master da empresa. Esta ação é irreversível."}),e.jsxs(de,{value:Je?.toString(),onValueChange:s=>Te(Number.parseInt(s)),children:[e.jsx(ce,{className:"h-9 text-sm",children:e.jsx(me,{placeholder:"Selecionar usuário"})}),e.jsx(xe,{children:we.filter(s=>!s.isMaster).map(s=>e.jsxs(u,{value:s.id.toString(),children:[s.name," (",s.email,")"]},s.id))})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[e.jsx(n,{variant:"outline",onClick:()=>Me(!1),size:"sm",className:"h-9 px-4",children:"Cancelar"}),e.jsx(n,{onClick:g,size:"sm",className:"h-9 px-4",children:"Transferir Master"})]})]})]})}),ee&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs(C,{className:"p-6 w-full max-w-md shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Adicionar Novo Usuário"}),e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>X(!1),className:"h-8 w-8",children:e.jsx(ye,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"new-user-name",className:"text-xs font-medium",children:"Nome Completo"}),e.jsx(m,{id:"new-user-name",value:se,onChange:s=>oe(s.target.value),placeholder:"João Silva",className:"h-9 text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"new-user-email",className:"text-xs font-medium",children:"Email"}),e.jsx(m,{id:"new-user-email",type:"email",value:h,onChange:s=>$(s.target.value),placeholder:"joao@empresa.com",className:"h-9 text-sm"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"new-user-role",className:"text-xs font-medium",children:"Função"}),e.jsxs(de,{value:he,onValueChange:ie,children:[e.jsx(ce,{className:"h-9 text-sm",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"member",children:"Usuário"}),e.jsx(u,{value:"admin",children:"Admin"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[e.jsx(n,{variant:"outline",onClick:()=>X(!1),size:"sm",className:"h-9 px-4",children:"Cancelar"}),e.jsx(n,{onClick:es,size:"sm",className:"h-9 px-4",children:"Adicionar"})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs(C,{className:"p-6 w-full max-w-md shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Convidar ",R]}),e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>p(!1),className:"h-8 w-8",children:e.jsx(ye,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"invite-email",className:"text-xs font-medium",children:"Email do Convidado"}),e.jsx(m,{id:"invite-email",type:"email",value:K,onChange:s=>pe(s.target.value),placeholder:"email@exemplo.com",className:"h-9 text-sm"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[e.jsx(n,{variant:"outline",onClick:()=>p(!1),size:"sm",className:"h-9 px-4",children:"Cancelar"}),e.jsxs(n,{onClick:Q,size:"sm",className:"h-9 px-4",children:[e.jsx(gs,{className:"h-3.5 w-3.5 mr-2"}),"Enviar Convite"]})]})]})]})}),e.jsx("div",{className:"grid gap-3",children:We.map(s=>e.jsx(C,{className:"p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(os,{className:"h-10 w-10 ring-2 ring-muted",children:e.jsx(ds,{className:"bg-gradient-to-br from-blue-600 to-purple-600 text-white font-semibold text-xs",children:s.name.split(" ").map(M=>M[0]).join("")})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),s.isMaster&&e.jsxs(v,{variant:"secondary",className:"text-xs bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300",children:[e.jsx(bs,{className:"h-3 w-3 mr-1"}),"Master"]}),e.jsx(v,{variant:"secondary",className:`text-xs ${s.role==="Admin"?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"}`,children:s.role}),s.status==="active"&&e.jsx(v,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Online"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.email}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Último acesso: ",new Date(s.last_login).toLocaleDateString("pt-BR")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.isMaster&&e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>Me(!0),className:"h-8 px-3 bg-transparent",children:[e.jsx(bs,{className:"h-3 w-3 mr-1.5"}),"Transferir"]}),e.jsxs(n,{variant:"outline",size:"sm",className:"h-8 px-3 bg-transparent",children:[e.jsx(ga,{className:"h-3 w-3 mr-1.5"}),"Editar"]}),!s.isMaster&&e.jsx(n,{variant:"outline",size:"icon",onClick:()=>Le(s.id),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx($e,{className:"h-3.5 w-3.5"})})]})]})},s.id))}),e.jsxs(C,{className:"p-4 bg-muted/30",children:[e.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Convites Rápidos"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>{z("Partner"),p(!0)},className:"h-9 justify-start",children:[e.jsx(ks,{className:"h-3.5 w-3.5 mr-2"}),"Convidar Partner"]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>{z("Nômade Líder"),p(!0)},className:"h-9 justify-start",children:[e.jsx(bs,{className:"h-3.5 w-3.5 mr-2"}),"Convidar Nômade Líder"]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>{z("Membro"),p(!0)},className:"h-9 justify-start",children:[e.jsx($s,{className:"h-3.5 w-3.5 mr-2"}),"Convidar Membro"]})]})]})]}),e.jsxs(je,{value:"plan",className:"p-6 space-y-6 mt-0",children:[e.jsxs(C,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Is,{className:"h-4 w-4 text-blue-600"}),e.jsx("h3",{className:"text-sm font-semibold",children:"Plano Atual"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(C,{className:`p-4 cursor-pointer transition-all ${Y==="basic"?"ring-2 ring-blue-600 shadow-lg":"hover:shadow-md"}`,onClick:()=>G("basic"),children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"flex items-center justify-center h-12 w-12 mx-auto rounded-full bg-blue-100 dark:bg-blue-900/30",children:e.jsx(ks,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-base",children:"Basic"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:"R$ 99"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"/mês"})]}),e.jsxs("ul",{className:"text-xs text-left space-y-1.5 pt-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"Até 5 usuários"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"3 projetos ativos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"Suporte básico"]})]}),Y==="basic"&&e.jsx(v,{className:"w-full justify-center bg-blue-600 hover:bg-blue-600",children:"Plano Ativo"})]})}),e.jsx(C,{className:`p-4 cursor-pointer transition-all ${Y==="premium"?"ring-2 ring-purple-600 shadow-lg":"hover:shadow-md"}`,onClick:()=>G("premium"),children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"flex items-center justify-center h-12 w-12 mx-auto rounded-full bg-purple-100 dark:bg-purple-900/30",children:e.jsx(bs,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-base",children:"Premium"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:"R$ 299"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"/mês"})]}),e.jsxs("ul",{className:"text-xs text-left space-y-1.5 pt-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"Até 20 usuários"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"Projetos ilimitados"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"Suporte prioritário"]})]}),Y==="premium"&&e.jsx(v,{className:"w-full justify-center bg-purple-600 hover:bg-purple-600",children:"Plano Ativo"})]})}),e.jsx(C,{className:`p-4 cursor-pointer transition-all ${Y==="enterprise"?"ring-2 ring-amber-600 shadow-lg":"hover:shadow-md"}`,onClick:()=>G("enterprise"),children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"flex items-center justify-center h-12 w-12 mx-auto rounded-full bg-amber-100 dark:bg-amber-900/30",children:e.jsx(Se,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-base",children:"Enterprise"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600 mt-2",children:"R$ 799"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"/mês"})]}),e.jsxs("ul",{className:"text-xs text-left space-y-1.5 pt-2",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"Usuários ilimitados"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"Projetos ilimitados"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-3 w-3 text-green-600"}),"Suporte dedicado"]})]}),Y==="enterprise"&&e.jsx(v,{className:"w-full justify-center bg-amber-600 hover:bg-amber-600",children:"Plano Ativo"})]})})]})]}),Y!==o.partner_level&&e.jsx(C,{className:"p-4 border-blue-200 bg-blue-50/50 dark:bg-blue-950/20 dark:border-blue-900",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fs,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Alteração de plano pendente"}),e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:["Você selecionou o plano ",e.jsx("strong",{children:Y.toUpperCase()}),'. Clique em "Salvar Alterações" para confirmar a mudança.']})]})]})})]}),e.jsxs(je,{value:"terms",className:"p-6 space-y-4 mt-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Termos Aceitos"}),e.jsxs(de,{value:c,onValueChange:J,children:[e.jsxs(ce,{className:"w-[180px] h-9 text-sm",children:[e.jsx(Oe,{className:"h-3.5 w-3.5 mr-2"}),e.jsx(me,{})]}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos"}),e.jsx(u,{value:"accepted",children:"Aceitos"}),e.jsx(u,{value:"pending",children:"Pendentes"})]})]})]}),e.jsx("div",{className:"grid gap-3",children:De.map(s=>e.jsx(C,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center shrink-0 ${s.accepted?"bg-green-100 dark:bg-green-900/30":"bg-yellow-100 dark:bg-yellow-900/30"}`,children:s.accepted?e.jsx(ys,{className:"h-5 w-5 text-green-600"}):e.jsx(ns,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:s.term}),e.jsxs(v,{variant:"secondary",className:"text-xs",children:["v",s.version]})]}),s.accepted?e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Aceito em ",new Date(s.date).toLocaleDateString("pt-BR")]}):e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:"Aguardando aceitação"})]})]}),e.jsxs(n,{variant:"outline",size:"sm",className:"h-8 px-3 bg-transparent",children:[e.jsx(Ps,{className:"h-3 w-3 mr-1.5"}),"Ver Detalhes"]})]})},s.id))})]}),e.jsxs(je,{value:"projects",className:"p-6 space-y-4 mt-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Projetos Vinculados"}),e.jsxs(de,{value:a,onValueChange:S,children:[e.jsxs(ce,{className:"w-[180px] h-9 text-sm",children:[e.jsx(Oe,{className:"h-3.5 w-3.5 mr-2"}),e.jsx(me,{})]}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos"}),e.jsx(u,{value:"active",children:"Ativos"}),e.jsx(u,{value:"completed",children:"Concluídos"}),e.jsx(u,{value:"paused",children:"Pausados"})]})]})]}),e.jsx("div",{className:"grid gap-3",children:Ie.map(s=>e.jsx(C,{className:"p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:s.name}),e.jsx(v,{variant:"secondary",className:`text-xs ${s.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":s.status==="completed"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300"}`,children:s.status==="active"?"Ativo":s.status==="completed"?"Concluído":"Pausado"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"h-3 w-3"}),s.nomads," nômades"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(js,{className:"h-3 w-3"}),new Date(s.deadline).toLocaleDateString("pt-BR")]})]})]}),e.jsxs(n,{variant:"outline",size:"sm",className:"h-8 px-3 bg-transparent",children:[e.jsx(Ps,{className:"h-3 w-3 mr-1.5"}),"Ver Projeto"]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Progresso"}),e.jsxs("span",{className:"font-medium",children:[s.progress,"%"]})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all rounded-full ${s.status==="completed"?"bg-blue-600":s.status==="active"?"bg-green-600":"bg-yellow-600"}`,style:{width:`${s.progress}%`}})})]})]})},s.id))})]}),e.jsxs(je,{value:"logs",className:"p-6 space-y-4 mt-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(m,{placeholder:"Buscar nos logs...",value:k,onChange:s=>A(s.target.value),className:"pl-9 h-9 text-sm"})]}),e.jsxs(de,{value:j,onValueChange:D,children:[e.jsxs(ce,{className:"w-full sm:w-[180px] h-9 text-sm",children:[e.jsx(Oe,{className:"h-3.5 w-3.5 mr-2"}),e.jsx(me,{placeholder:"Tipo de ação"})]}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todas"}),e.jsx(u,{value:"auth",children:"Autenticação"}),e.jsx(u,{value:"project",children:"Projetos"}),e.jsx(u,{value:"user",children:"Usuários"}),e.jsx(u,{value:"settings",children:"Configurações"})]})]})]}),e.jsx(C,{className:"p-4",children:e.jsx("div",{className:"space-y-4",children:_e.map((s,M)=>e.jsx("div",{children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center shrink-0 ${s.category==="auth"?"bg-blue-100 dark:bg-blue-900/30":s.category==="project"?"bg-green-100 dark:bg-green-900/30":s.category==="user"?"bg-purple-100 dark:bg-purple-900/30":"bg-orange-100 dark:bg-orange-900/30"}`,children:e.jsx(Os,{className:"h-4 w-4 text-muted-foreground"})}),M<_e.length-1&&e.jsx("div",{className:"w-px h-8 bg-border mt-1"})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.action}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Por ",e.jsx("span",{className:"font-medium",children:s.user})]})]}),e.jsx(v,{variant:"secondary",className:"text-xs",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ns,{className:"h-3 w-3"}),s.timestamp]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Es,{className:"h-3 w-3"}),s.ip]})]})]})]})},s.id))})})]})]})})]})]}),e.jsx(He,{open:E.open&&E.action==="save",title:"Salvar alterações?",message:"Deseja realmente salvar as alterações da empresa?",confirmText:"Salvar",cancelText:"Continuar editando",onConfirm:ss,onClose:()=>P({open:!1,action:null}),destructive:!1}),e.jsx(He,{open:E.open&&E.action==="cancel",title:"Descartar alterações?",message:"Todas as alterações não salvas serão perdidas.",confirmText:"Descartar",cancelText:"Voltar",onConfirm:i,onClose:()=>P({open:!1,action:null}),destructive:!0}),e.jsx(la,{open:T.open,onOpenChange:s=>!s&&d({open:!1,newStatus:null}),children:e.jsxs(ra,{children:[e.jsxs(ia,{children:[e.jsx(na,{children:"Alterar status da empresa?"}),e.jsxs(oa,{children:["Deseja realmente alterar o status desta empresa de ",b?.status==="active"?"Ativa":b?.status==="inactive"?"Inativa":"Pendente"," para ",T.newStatus==="active"?"Ativa":T.newStatus==="inactive"?"Inativa":"Pendente","?"]})]}),e.jsxs(da,{children:[e.jsx(ca,{children:"Cancelar"}),e.jsx(ma,{onClick:Qe,children:"Confirmar"})]})]})})]}):e.jsx("div",{style:{width:`calc(100% - ${q}px)`},className:`fixed right-0 top-0 h-full bg-background shadow-2xl z-50 flex flex-col transition-all duration-500 ease-out border-l ${O?"translate-x-full":"translate-x-0 delay-100"}`,children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"text-muted-foreground text-sm",children:"Carregando..."})})})}const gt=[{id:1,name:"Ana Silva",email:"ana.silva@empresa.com",avatar:"AS",status:"online",profile:"Administrador",lastAccess:"Há 2 horas",createdAt:"12/01/2024",isBlocked:!1,cpf:"123.456.789-00",phone:"(11) 98765-4321",address:"Rua das Flores, 123",city:"São Paulo",state:"SP",zipCode:"01234-567",averageOnlineHours:2.5,averageOfflineDays:1,permissions:{gestao:[{id:"hire_services",name:"Contratar serviços",enabled:!0},{id:"insert_credit",name:"Inserir crédito",enabled:!0},{id:"approve_payments",name:"Aprovar pagamentos",enabled:!0}],tasks:[{id:"create_tasks",name:"Criar tarefas",enabled:!0},{id:"approve_tasks",name:"Aprovar tarefas",enabled:!0},{id:"edit_tasks",name:"Editar tarefas",enabled:!0},{id:"delete_tasks",name:"Excluir tarefas",enabled:!1}],projects:[{id:"create_projects",name:"Criar projetos",enabled:!0},{id:"edit_projects",name:"Editar projetos",enabled:!0},{id:"delete_projects",name:"Excluir projetos",enabled:!1}],users:[{id:"create_users",name:"Criar usuários",enabled:!0},{id:"edit_users",name:"Editar usuários",enabled:!0},{id:"block_users",name:"Bloquear usuários",enabled:!0}]}},{id:2,name:"Carlos Santos",email:"carlos.santos@empresa.com",avatar:"CS",status:"online",profile:"Gerente",lastAccess:"Há 30 minutos",createdAt:"15/01/2024",isBlocked:!1,cpf:"987.654.321-00",phone:"(11) 99876-5432",address:"Avenida Principal, 456",city:"São Paulo",state:"SP",zipCode:"02345-678",averageOnlineHours:3.2,averageOfflineDays:1.5},{id:3,name:"Marina Costa",email:"marina.costa@empresa.com",avatar:"MC",status:"offline",profile:"Operador",lastAccess:"Ontem",createdAt:"18/01/2024",isBlocked:!1,cpf:"456.789.012-00",phone:"(11) 97654-3210",address:"Rua dos Pinheiros, 789",city:"São Paulo",state:"SP",zipCode:"03456-789",averageOnlineHours:2.8,averageOfflineDays:2},{id:4,name:"Paulo Oliveira",email:"paulo.oliveira@empresa.com",avatar:"PO",status:"offline",profile:"Operador",lastAccess:"2 dias atrás",createdAt:"10/01/2024",isBlocked:!1,cpf:"789.012.345-00",phone:"(11) 96543-2109",address:"Rua da Paz, 321",city:"São Paulo",state:"SP",zipCode:"04567-890",averageOnlineHours:2.2,averageOfflineDays:3},{id:5,name:"Rita Alves",email:"rita.alves@empresa.com",avatar:"RA",status:"offline",profile:"Visualizador",lastAccess:"3 dias atrás",createdAt:"08/01/2024",isBlocked:!0,cpf:"321.098.765-00",phone:"(11) 95432-1098",address:"Rua da Esperança, 654",city:"São Paulo",state:"SP",zipCode:"05678-901",averageOnlineHours:1.8,averageOfflineDays:5}],jt=[{day:"Seg",hours:2.5},{day:"Ter",hours:3.2},{day:"Qua",hours:2.8},{day:"Qui",hours:3.5},{day:"Sex",hours:2.2},{day:"Sab",hours:1.8},{day:"Dom",hours:.5}];function vt({companyId:_,companyName:U,users:o}){const{sidebarWidth:V}=Ds(),[q,w]=l.useState(o||gt),[O,f]=l.useState(""),[x,y]=l.useState(null),[E,P]=l.useState(!1),[T,d]=l.useState(!1),[I,B]=l.useState(null),[F,H]=l.useState(!1),[c,J]=l.useState(!1),[a,S]=l.useState(null),[k,A]=l.useState(null),[j,D]=l.useState(!1),[ee,X]=l.useState(!1),[se,oe]=l.useState(!1),[h,$]=l.useState({open:!1,pendingAction:null}),[he,ie]=l.useState(!1),[t,p]=l.useState({name:"",email:"",cpf:"",phone:"",address:"",city:"",state:"",zipCode:"",profile:"User",status:"active"}),[R,z]=l.useState(!1),[K,pe]=l.useState(1),[b,ue]=l.useState(10),[Y,ve]=l.useState({open:!1,action:null,userId:null}),be=i=>{y(i),P(!0)},r=()=>{if(se&&(T||c)){$({open:!0,pendingAction:()=>{d(!0),x&&B({name:x.name,email:x.email,phone:x.phone||"",address:x.address||"",city:x.city||"",state:x.state||"",zipCode:x.zipCode||""})}});return}d(!0),J(!1),S(null),A(null),x&&B({name:x.name,email:x.email,phone:x.phone||"",address:x.address||"",city:x.city||"",state:x.state||"",zipCode:x.zipCode||""})},N=()=>{d(!1),B(null),oe(!1)},fe=()=>{H(!0)},ne=()=>{if(x&&I){const i={...x,...I};w(L=>L.map(G=>G.id===x.id?i:G)),y(i),d(!1),B(null),H(!1),oe(!1)}},Pe=(i,L)=>{B(G=>G?{...G,[i]:L}:null),oe(!0)},ms=(i,L)=>!i||!L?!1:JSON.stringify(i)===JSON.stringify(L),Ye=()=>{if(se&&(T||c)){$({open:!0,pendingAction:()=>{if(J(!0),d(!1),B(null),x?.permissions){const i=JSON.parse(JSON.stringify(x.permissions));S(i),A(i),D(!1)}}});return}if(J(!0),d(!1),B(null),x?.permissions){const i=JSON.parse(JSON.stringify(x.permissions));S(i),A(i),D(!1)}},Ve=()=>{J(!1),S(null),A(null),D(!1),oe(!1)},qe=(i,L)=>{a&&a[i]&&S(G=>{if(!G)return null;const s={...G};s[i]=s[i].map(Z=>Z.id===L?{...Z,enabled:!Z.enabled}:Z);const M=!ms(s,k);return D(M),s})},Ke=()=>{X(!0)},Qe=()=>{if(x&&a){const i={...x,permissions:a};w(L=>L.map(G=>G.id===x.id?i:G)),y(i),A(a),D(!1),oe(!1),X(!1)}},we=(i,L)=>{L.stopPropagation();const G=q.find(s=>s.id===i);G&&!G.isBlocked?ve({open:!0,action:"block",userId:i}):ve({open:!0,action:"unblock",userId:i})},Ae=(i,L)=>{L.stopPropagation(),ve({open:!0,action:"delete",userId:i})},xs=()=>{Y.action==="block"&&Y.userId?(w(i=>i.map(L=>L.id===Y.userId?{...L,isBlocked:!0}:L)),x?.id===Y.userId&&y({...x,isBlocked:!0})):Y.action==="unblock"&&Y.userId?(w(i=>i.map(L=>L.id===Y.userId?{...L,isBlocked:!1}:L)),x?.id===Y.userId&&y({...x,isBlocked:!1})):Y.action==="delete"&&Y.userId&&(w(i=>i.filter(L=>L.id!==Y.userId)),x?.id===Y.userId&&(P(!1),y(null))),ve({open:!1,action:null,userId:null})},hs=()=>{ie(!0),p({name:"",email:"",cpf:"",phone:"",address:"",city:"",state:"",zipCode:"",profile:"User",status:"active"})},Ce=(i,L)=>{p(G=>({...G,[i]:L}))},Ze=()=>t.name.trim()!==""&&t.email.trim()!==""&&t.email.includes("@")&&t.cpf.trim()!==""&&t.phone.trim()!=="",Me=()=>{if(!Ze()){alert("Por favor, preencha todos os campos obrigatórios corretamente.");return}z(!0)},Je=()=>{const i={id:Math.max(...q.map(L=>L.id),0)+1,name:t.name,email:t.email,avatar:t.name.substring(0,2).toUpperCase(),status:"online",profile:t.profile,lastAccess:"Agora",createdAt:new Date().toLocaleDateString("pt-BR"),isBlocked:!1,cpf:t.cpf,phone:t.phone,address:t.address,city:t.city,state:t.state,zipCode:t.zipCode};w(L=>[i,...L]),ie(!1),z(!1),p({name:"",email:"",cpf:"",phone:"",address:"",city:"",state:"",zipCode:"",profile:"User",status:"active"})},Te=q.filter(i=>i.status==="online").length,We=q.filter(i=>i.isBlocked).length,De=q.filter(i=>i.name.toLowerCase().includes(O.toLowerCase())||i.email.toLowerCase().includes(O.toLowerCase())||i.cpf?.toLowerCase().includes(O.toLowerCase())),Ie=Math.ceil(De.length/b),_e=(K-1)*b,es=_e+b,Le=De.slice(_e,es),g=i=>{ue(i),pe(1)},Q=i=>{f(i),pe(1)},Fe=()=>{K>1&&pe(K-1)},ss=()=>{K<Ie&&pe(K+1)},Ge=i=>{pe(i)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Total de Usuários"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600 mt-2",children:q.length}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Cadastrados na empresa"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Online Agora"}),e.jsx("div",{className:"text-3xl font-bold text-green-600 mt-2",children:Te}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Usuários ativos"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 border border-red-200",children:[e.jsx("div",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Bloqueados"}),e.jsx("div",{className:"text-3xl font-bold text-red-600 mt-2",children:We}),e.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Usuários inativos"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(m,{placeholder:"Buscar por nome ou e-mail...",value:O,onChange:i=>Q(i.target.value),className:"pl-9 bg-white"})]}),e.jsxs(n,{onClick:hs,className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[e.jsx(rs,{className:"h-4 w-4"}),"Adicionar Usuário"]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg border border-slate-200",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Exibir por página:"}),e.jsx("div",{className:"flex gap-2",children:[10,25,50,100].map(i=>e.jsx("button",{onClick:()=>g(i),className:`px-3 py-1 text-sm rounded transition-colors ${b===i?"bg-blue-600 text-white":"bg-white text-slate-700 border border-slate-200 hover:bg-slate-100"}`,children:i},i))})]}),e.jsx("div",{className:"space-y-2",children:Le.length>0?Le.map(i=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-slate-200 rounded-lg bg-white hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs(os,{className:"h-9 w-9 flex-shrink-0",children:[e.jsx(Ss,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${i.avatar}`}),e.jsx(ds,{className:"bg-blue-100 text-blue-700 text-xs font-semibold",children:i.avatar})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:i.name}),e.jsx("span",{className:`inline-flex h-2 w-2 rounded-full flex-shrink-0 ${i.status==="online"?"bg-green-500":"bg-slate-300"}`})]}),e.jsx("p",{className:"text-xs text-slate-500 truncate",children:i.email}),e.jsxs("div",{className:"flex gap-4 mt-1 text-xs text-slate-500",children:[e.jsxs("span",{children:["Cadastrado: ",i.createdAt]}),e.jsxs("span",{children:["Último acesso: ",i.lastAccess]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[i.isBlocked&&e.jsx(v,{variant:"destructive",className:"text-xs",children:"Bloqueado"}),e.jsx(v,{variant:"outline",className:"text-xs",children:i.profile})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 ml-4",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-slate-400 hover:text-blue-600 hover:bg-blue-50",onClick:()=>be(i),title:"Visualizar detalhes",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"sm",className:`h-8 w-8 p-0 ${i.isBlocked?"text-red-600 hover:text-red-700 hover:bg-red-50":"text-green-600 hover:text-green-700 hover:bg-green-50"}`,onClick:L=>we(i.id,L),title:i.isBlocked?"Desbloquear usuário":"Bloquear usuário",children:i.isBlocked?e.jsx(sa,{className:"h-4 w-4"}):e.jsx(Vs,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-slate-400 hover:text-red-600 hover:bg-red-50",onClick:L=>Ae(i.id,L),title:"Deletar usuário",children:e.jsx($e,{className:"h-4 w-4"})})]})]},i.id)):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-500 text-sm",children:O?"Nenhum usuário encontrado com esses critérios":"Nenhum usuário cadastrado"})})}),De.length>0&&e.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-3 rounded-lg border border-slate-200",children:[e.jsxs("span",{className:"text-xs text-slate-600",children:["Exibindo ",_e+1," até ",Math.min(es,De.length)," de ",De.length," usuários"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:Fe,disabled:K===1,className:"h-8 px-2",children:"Anterior"}),Array.from({length:Math.min(5,Ie)},(i,L)=>{let G=L+1;return Ie>5&&K>3&&(G=K-2+L),G<=Ie?e.jsx(n,{variant:K===G?"default":"outline",size:"sm",onClick:()=>Ge(G),className:"h-8 w-8 p-0",children:G},G):null}),e.jsx(n,{variant:"outline",size:"sm",onClick:ss,disabled:K===Ie,className:"h-8 px-2",children:"Próximo"})]})]}),O&&e.jsxs("div",{className:"text-xs text-slate-500 text-center",children:[De.length," de ",q.length," usuários encontrados"]})]})}),e.jsx(ua,{open:E,onOpenChange:i=>{P(i),i||(d(!1),B(null),J(!1),S(null))},children:e.jsx(pa,{side:"right",className:"!w-1/2 !max-w-none border-l flex flex-col p-0 overflow-hidden",style:{width:"50vw",right:0},children:x&&e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("header",{className:"relative flex items-center justify-between gap-4 px-6 py-4 border-b bg-gradient-to-r from-blue-950 via-indigo-900 to-fuchsia-900 text-white flex-shrink-0 min-h-20",children:e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs(os,{className:"h-16 w-16 border-3 border-white shadow-lg flex-shrink-0",children:[e.jsx(Ss,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${x.avatar}`}),e.jsx(ds,{className:"bg-gradient-to-br from-blue-600 to-cyan-500 text-white text-lg font-semibold",children:x.avatar})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-bold",children:x.name}),e.jsx("p",{className:"text-blue-100 text-xs mt-0.5",children:x.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[e.jsx("span",{className:`inline-flex h-2.5 w-2.5 rounded-full ${x.status==="online"?"bg-green-400":"bg-gray-300"}`}),e.jsx("span",{className:"text-xs font-medium",children:x.status==="online"?"Online":"Offline"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(as,{children:[e.jsx(ts,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20",onClick:r,children:e.jsx(Ms,{className:"h-4 w-4"})})}),e.jsx(ls,{children:"Editar"})]}),e.jsxs(as,{children:[e.jsx(ts,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20",onClick:Ye,children:e.jsx(ks,{className:"h-4 w-4"})})}),e.jsx(ls,{children:"Permissões"})]}),e.jsxs(as,{children:[e.jsx(ts,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/20",onClick:i=>we(x.id,i),children:x.isBlocked?e.jsx(sa,{className:"h-4 w-4"}):e.jsx(Vs,{className:"h-4 w-4"})})}),e.jsx(ls,{children:x.isBlocked?"Desbloquear":"Bloquear"})]}),e.jsxs(as,{children:[e.jsx(ts,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-200 hover:bg-red-600/20",onClick:i=>Ae(x.id,i),children:e.jsx($e,{className:"h-4 w-4"})})}),e.jsx(ls,{children:"Deletar"})]}),e.jsx(n,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20 flex-shrink-0",onClick:()=>P(!1),children:e.jsx(ye,{className:"h-5 w-5"})})]})]})}),e.jsx("div",{className:`flex-1 overflow-y-auto p-8 ${T||c?"pb-20":""}`,children:c?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Gerenciar Permissões"}),e.jsx(n,{variant:"ghost",size:"sm",onClick:Ve,className:"text-slate-500 hover:text-slate-700",children:e.jsx(ye,{className:"h-4 w-4"})})]}),a&&Object.entries(a).map(([i,L])=>e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wide",children:i==="gestao"?"Gestão":i==="tasks"?"Tarefas":i==="projects"?"Projetos":"Usuários"}),e.jsx("div",{className:"space-y-3",children:L.map(G=>e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-slate-50 rounded-lg",children:[e.jsx("label",{className:"text-sm font-medium text-slate-900 cursor-pointer",children:G.name}),e.jsx(La,{checked:G.enabled,onCheckedChange:()=>qe(i,G.id)})]},G.id))})]},i))]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wide",children:"Dados da Conta"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:"ID do Usuário"}),e.jsxs("code",{className:"text-sm font-mono font-bold text-slate-900 block mt-2",children:["#",x.id]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Perfil"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:x.profile})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Status"}),e.jsx(v,{className:`mt-2 ${x.isBlocked?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:x.isBlocked?"Bloqueado":"Ativo"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-4 border border-amber-200",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Último Acesso"}),e.jsx("p",{className:"text-sm font-bold text-slate-900 mt-2",children:x.lastAccess})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wide",children:"Dados Pessoais"}),T?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase text-xs",children:"Nome Completo"}),e.jsx(m,{value:I?.name||"",onChange:i=>Pe("name",i.target.value),placeholder:"Nome completo",className:"mt-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase text-xs",children:"Email"}),e.jsx(m,{value:I?.email||"",onChange:i=>Pe("email",i.target.value),placeholder:"email@exemplo.com",type:"email",className:"mt-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase text-xs",children:"Telefone"}),e.jsx(m,{value:I?.phone||"",onChange:i=>Pe("phone",i.target.value),placeholder:"(11) 98765-4321",className:"mt-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase text-xs",children:"Endereço"}),e.jsx(m,{value:I?.address||"",onChange:i=>Pe("address",i.target.value),placeholder:"Rua ou Avenida",className:"mt-1 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase text-xs",children:"Cidade"}),e.jsx(m,{value:I?.city||"",onChange:i=>Pe("city",i.target.value),placeholder:"São Paulo",className:"mt-1 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase text-xs",children:"Estado"}),e.jsx(m,{value:I?.state||"",onChange:i=>Pe("state",i.target.value),placeholder:"SP",maxLength:2,className:"mt-1 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase text-xs",children:"CEP"}),e.jsx(m,{value:I?.zipCode||"",onChange:i=>Pe("zipCode",i.target.value),placeholder:"01234-567",className:"mt-1 text-sm"})]})]}):e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase",children:"Nome"}),e.jsx("p",{className:"text-slate-900 mt-1 font-medium",children:x.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase",children:"CPF"}),e.jsx("p",{className:"text-slate-900 mt-1 font-medium",children:x.cpf||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase",children:"Email"}),e.jsx("p",{className:"text-slate-900 mt-1 font-medium break-all",children:x.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase",children:"Telefone"}),e.jsx("p",{className:"text-slate-900 mt-1 font-medium",children:x.phone||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase",children:"Endereço"}),e.jsx("p",{className:"text-slate-900 mt-1 font-medium",children:x.address||"Não informado"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase",children:"Cidade"}),e.jsx("p",{className:"text-slate-900 mt-1 font-medium",children:x.city||"Não informado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase",children:"Estado"}),e.jsx("p",{className:"text-slate-900 mt-1 font-medium",children:x.state||"Não informado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-slate-600 uppercase",children:"CEP"}),e.jsx("p",{className:"text-slate-900 mt-1 font-medium",children:x.zipCode||"Não informado"})]})]})]})]}),e.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[e.jsx("h2",{className:"text-sm font-bold text-slate-900 mb-4 uppercase tracking-wide",children:"Uso e Métricas"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Tempo Online"}),e.jsxs("p",{className:"text-lg font-bold text-yellow-600 mt-2",children:[x.averageOnlineHours||2.5,"h/dia"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase",children:"Sem Acesso"}),e.jsxs("p",{className:"text-lg font-bold text-orange-600 mt-2",children:[x.averageOfflineDays||1,"d"]})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-4",children:"Tempo Online (7 dias)"}),e.jsx("div",{className:"h-40",children:e.jsx(ja,{width:"100%",height:"100%",children:e.jsxs(va,{data:jt,children:[e.jsx(fa,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),e.jsx(Na,{dataKey:"day",tick:{fontSize:11},stroke:"#9CA3AF"}),e.jsx(ya,{tick:{fontSize:11},stroke:"#9CA3AF",tickFormatter:i=>`${i}h`}),e.jsx(wa,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"},formatter:i=>[`${i}h`,"Online"]}),e.jsx(Ca,{dataKey:"hours",radius:[8,8,0,0],fill:"#3B82F6"})]})})})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-4",children:"Permissões"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(v,{className:"bg-blue-100 text-blue-700 text-xs",children:"Visualizar dados"}),e.jsx(v,{className:"bg-green-100 text-green-700 text-xs",children:"Editar configurações"}),e.jsx(v,{className:"bg-purple-100 text-purple-700 text-xs",children:"Gerenciar usuários"})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 pb-6",children:[e.jsx("h3",{className:"text-sm font-bold text-slate-900 mb-4",children:"Histórico de Acessos"}),e.jsx("div",{className:"space-y-1",children:[{date:"Hoje",time:"14:30"},{date:"Ontem",time:"10:15"},{date:"2 dias atrás",time:"09:45"},{date:"3 dias atrás",time:"16:20"},{date:"4 dias atrás",time:"11:00"}].map((i,L)=>e.jsxs("div",{className:"flex justify-between text-xs py-2.5 px-2 border-b border-slate-100 last:border-0 hover:bg-slate-50 rounded",children:[e.jsx("span",{className:"text-slate-700 font-medium",children:i.date}),e.jsx("span",{className:"text-slate-500",children:i.time})]},L))})]})]})}),T&&e.jsxs("div",{className:"sticky bottom-0 left-0 right-0 flex gap-2 px-6 py-4 border-t bg-white shadow-lg",children:[e.jsx(n,{size:"sm",variant:"outline",onClick:N,className:"flex-1",children:"Cancelar"}),e.jsx(n,{size:"sm",onClick:fe,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Salvar alterações"})]}),c&&j&&e.jsxs("div",{className:"sticky bottom-0 left-0 right-0 flex gap-2 px-6 py-4 border-t bg-white shadow-lg",children:[e.jsx(n,{size:"sm",variant:"outline",onClick:Ve,className:"flex-1",children:"Cancelar"}),e.jsx(n,{size:"sm",onClick:Ke,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Salvar permissões"})]})]})})}),e.jsx(He,{open:Y.open,onClose:()=>ve({open:!1,action:null,userId:null}),onConfirm:xs,title:Y.action==="block"?"Bloquear Usuário":Y.action==="unblock"?"Desbloquear Usuário":"Deletar Usuário",message:Y.action==="block"?`Tem certeza que deseja bloquear o usuário "${x?.name}"? Ele não poderá acessar até ser desbloqueado.`:Y.action==="unblock"?`Tem certeza que deseja desbloquear o usuário "${x?.name}"?`:`Tem certeza que deseja deletar o usuário "${x?.name}"? Esta ação é irreversível.`,confirmText:Y.action==="block"?"Bloquear":Y.action==="unblock"?"Desbloquear":"Deletar",cancelText:"Cancelar",destructive:Y.action==="delete"}),e.jsx(He,{open:F,onClose:()=>H(!1),onConfirm:ne,title:"Confirmar Alterações",message:"Tem certeza que deseja salvar as alterações deste usuário?",confirmText:"Confirmar",cancelText:"Cancelar",destructive:!1}),e.jsx(He,{open:ee,onClose:()=>X(!1),onConfirm:Qe,title:"Confirmar Alterações de Permissões",message:"Tem certeza que deseja atualizar as permissões deste usuário?",confirmText:"Confirmar",cancelText:"Cancelar",destructive:!1}),e.jsx(He,{open:h.open,onClose:()=>$({open:!1,pendingAction:null}),onConfirm:()=>{$({open:!1,pendingAction:null}),d(!1),B(null),J(!1),S(null),A(null),D(!1),oe(!1),h.pendingAction?.()},title:"Alterações Não Salvas",message:"Existem alterações não salvas. Para mudar de tela, você deve salvar ou cancelar as alterações.",confirmText:"Cancelar alterações",cancelText:"Voltar",destructive:!1}),he&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Cadastrar Novo Usuário"}),e.jsx("button",{onClick:()=>ie(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ye,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Nome *"}),e.jsx(m,{value:t.name,onChange:i=>Ce("name",i.target.value),placeholder:"João Silva",className:"text-sm h-8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Email *"}),e.jsx(m,{value:t.email,onChange:i=>Ce("email",i.target.value),placeholder:"joao@empresa.com",type:"email",className:"text-sm h-8"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"CPF *"}),e.jsx(m,{value:t.cpf,onChange:i=>Ce("cpf",i.target.value),placeholder:"123.456.789-00",className:"text-sm h-8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Telefone *"}),e.jsx(m,{value:t.phone,onChange:i=>Ce("phone",i.target.value),placeholder:"(11) 98765-4321",className:"text-sm h-8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Endereço"}),e.jsx(m,{value:t.address,onChange:i=>Ce("address",i.target.value),placeholder:"Rua ou Avenida",className:"text-sm h-8"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Cidade"}),e.jsx(m,{value:t.city,onChange:i=>Ce("city",i.target.value),placeholder:"São Paulo",className:"text-sm h-8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Estado"}),e.jsx(m,{value:t.state,onChange:i=>Ce("state",i.target.value),placeholder:"SP",maxLength:2,className:"text-sm h-8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"CEP"}),e.jsx(m,{value:t.zipCode,onChange:i=>Ce("zipCode",i.target.value),placeholder:"01234-567",className:"text-sm h-8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Perfil"}),e.jsxs(de,{value:t.profile,onValueChange:i=>Ce("profile",i),children:[e.jsx(ce,{className:"text-sm h-8",children:e.jsx(me,{placeholder:"Selecione um perfil"})}),e.jsxs(xe,{children:[e.jsx(u,{value:"Admin",children:"Admin"}),e.jsx(u,{value:"User",children:"Usuário"}),e.jsx(u,{value:"Viewer",children:"Visualizador"})]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Campos obrigatórios"})]})}),e.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 flex gap-2 flex-shrink-0 bg-gray-50",children:[e.jsx(n,{variant:"outline",onClick:()=>ie(!1),className:"flex-1 text-sm h-8",children:"Cancelar"}),e.jsx(n,{onClick:Me,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm h-8",children:"Cadastrar"})]})]})}),e.jsx(He,{open:R,onClose:()=>z(!1),onConfirm:Je,title:"Confirmar Cadastro",message:`Tem certeza que deseja cadastrar o usuário "${t.name}"?`,confirmText:"Cadastrar",cancelText:"Cancelar",destructive:!1})]})}const ft=[{id:1,name:"Termos de Serviço",version:"v2.1",publishedAt:"2024-01-15",signedAt:"2024-01-20",expiresAt:"2025-01-20",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",status:"active"},{id:2,name:"Política de Privacidade",version:"v3.0",publishedAt:"2024-02-01",signedAt:"2024-02-05",expiresAt:"2025-02-05",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",status:"active"},{id:3,name:"Política de Conformidade LGPD",version:"v2.0",publishedAt:"2024-03-01",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",status:"pending"},{id:4,name:"Código de Conduta",version:"v1.5",publishedAt:"2024-03-10",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",status:"pending"},{id:5,name:"Termo Antigo de Serviço",version:"v1.0",publishedAt:"2023-01-01",signedAt:"2023-01-10",expiresAt:"2024-01-10",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",status:"expired"}];function Nt({company:_}){const{toast:U}=As(),[o,V]=l.useState(ft),[q,w]=l.useState(!1),[O,f]=l.useState(null),[x,y]=l.useState(!1),[E,P]=l.useState(null),T=o.filter(a=>a.status==="active"),d=o.filter(a=>a.status==="pending"),I=o.filter(a=>a.status==="expired"),B=a=>{f(a),w(!0)},F=a=>{P(a),y(!0)},H=()=>{E&&(V(a=>a.map(S=>S.id===E.id?{...S,status:"active",signedAt:new Date().toISOString().split("T")[0],expiresAt:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0]}:S)),U({title:"Sucesso!",description:`${E.name} foi assinado com sucesso.`}),y(!1),P(null))},c=a=>new Date(a).toLocaleDateString("pt-BR"),J=({term:a})=>e.jsx(C,{className:"p-4 border border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ue,{className:"h-4 w-4 text-slate-400"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:a.name}),e.jsx(v,{variant:"outline",className:"text-xs",children:a.version})]}),e.jsxs("div",{className:"space-y-1 text-xs text-slate-600",children:[a.signedAt&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Assinado em:"})," ",c(a.signedAt)]}),a.expiresAt&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Válido até:"})," ",c(a.expiresAt)]}),a.publishedAt&&!a.signedAt&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Publicado em:"})," ",c(a.publishedAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",className:"text-xs h-8 gap-1",onClick:()=>B(a),children:[e.jsx(Ee,{className:"h-3.5 w-3.5"}),"Visualizar"]}),a.status==="pending"&&e.jsx(n,{size:"sm",className:"text-xs h-8 bg-blue-600 hover:bg-blue-700",onClick:()=>F(a),children:"Assinar"})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ke,{className:"h-5 w-5 text-emerald-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Termos Ativos"}),e.jsx(v,{className:"bg-emerald-100 text-emerald-800",children:T.length})]}),T.length>0?e.jsx("div",{className:"space-y-3",children:T.map(a=>e.jsx(J,{term:a},a.id))}):e.jsxs(C,{className:"p-6 bg-slate-50 border-dashed border-slate-300 text-center",children:[e.jsx(ke,{className:"h-8 w-8 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum termo ativo"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(fs,{className:"h-5 w-5 text-amber-600"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Termos Pendentes"}),e.jsx(v,{className:"bg-amber-100 text-amber-800",children:d.length})]}),d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(a=>e.jsx(C,{className:"p-4 border-2 border-amber-200 bg-amber-50",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ga,{className:"h-4 w-4 text-amber-600"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:a.name}),e.jsx(v,{variant:"outline",className:"text-xs",children:a.version})]}),e.jsxs("div",{className:"space-y-1 text-xs text-slate-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Publicado em:"})," ",c(a.publishedAt)]}),e.jsx("p",{className:"text-amber-700 font-medium",children:"⚠️ Obrigatório para continuar usando a plataforma"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",className:"text-xs h-8 gap-1",onClick:()=>B(a),children:[e.jsx(Ee,{className:"h-3.5 w-3.5"}),"Visualizar"]}),e.jsx(n,{size:"sm",className:"text-xs h-8 bg-blue-600 hover:bg-blue-700",onClick:()=>F(a),children:"Assinar"})]})]})},a.id))}):e.jsxs(C,{className:"p-6 bg-slate-50 border-dashed border-slate-300 text-center",children:[e.jsx(ke,{className:"h-8 w-8 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum termo pendente"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ns,{className:"h-5 w-5 text-slate-400"}),e.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Termos Expirados"}),e.jsx(v,{variant:"outline",className:"text-slate-600",children:I.length})]}),I.length>0?e.jsx("div",{className:"space-y-3",children:I.map(a=>e.jsx(C,{className:"p-4 border border-slate-200 opacity-75",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ns,{className:"h-4 w-4 text-slate-400"}),e.jsx("h3",{className:"font-semibold text-slate-700 line-through",children:a.name}),e.jsx(v,{variant:"outline",className:"text-xs",children:a.version})]}),e.jsxs("div",{className:"space-y-1 text-xs text-slate-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Período de validade:"})," ",c(a.publishedAt)," -"," ",c(a.expiresAt||"")]}),e.jsx("p",{className:"text-slate-500 italic",children:"Status: Expirado"})]})]}),e.jsxs(n,{size:"sm",variant:"outline",className:"text-xs h-8 gap-1",onClick:()=>B(a),children:[e.jsx(Ee,{className:"h-3.5 w-3.5"}),"Visualizar"]})]})},a.id))}):e.jsxs(C,{className:"p-6 bg-slate-50 border-dashed border-slate-300 text-center",children:[e.jsx(ke,{className:"h-8 w-8 text-slate-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum termo expirado"})]})]}),q&&O&&e.jsx(qs,{open:q,onOpenChange:w,children:e.jsxs(Js,{className:"max-w-2xl max-h-96",children:[e.jsxs(Ws,{children:[e.jsx(Gs,{children:O.name}),e.jsxs(Fa,{children:["Versão ",O.version," • Publicado em ",c(O.publishedAt)]})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto bg-slate-50 p-4 rounded-lg text-sm text-slate-700 leading-relaxed",children:O.content}),O.signedAt&&e.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 p-3 rounded-lg text-xs text-emerald-800",children:["✓ Assinado em ",c(O.signedAt)]}),e.jsx(Hs,{children:e.jsx(n,{variant:"outline",onClick:()=>w(!1),children:"Fechar"})})]})}),x&&E&&e.jsx(qs,{open:x,onOpenChange:y,children:e.jsxs(Js,{className:"max-w-md",children:[e.jsx(Ws,{children:e.jsx(Gs,{children:"Confirmar Assinatura"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-900",children:["Ao assinar, a empresa ",e.jsx("strong",{children:_.name})," concorda com os termos e condições do documento:"]}),e.jsx("p",{className:"font-semibold text-blue-900 mt-2",children:E.name})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Esta ação será registrada para auditoria e não poderá ser desfeita."})]}),e.jsxs(Hs,{children:[e.jsx(n,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),e.jsx(n,{className:"bg-blue-600 hover:bg-blue-700",onClick:H,children:"Confirmar Assinatura"})]})]})})]})}const yt=[{id:1,name:"Hospedagem Florescer Idosos",client:"Florescer",clientCNPJ:"12.345.678/0001-90",agency:"Lamego Academy",consultant:"Equipe Lamego",consultantEmail:"contato@lamego.com.vc",type:"Marketing Digital",status:"awaiting-payment",progress:65,budget:15e3,spent:9750,createdDate:"19/02/2025",startDate:"2024-01-15",deadline:"2024-03-30",team:5,nomades:["Ana Santos","Carlos Lima"],bitrixSync:!1,portfolioPermission:!1,overdue:!1,value:15e3,fromLead:!0,companyId:1},{id:2,name:"Redesign Website Startup ABC",client:"Startup ABC",clientCNPJ:"98.765.432/0001-10",agency:"Design Studio",consultant:"Maria Designer",consultantEmail:"maria@designstudio.com",type:"Desenvolvimento Web",status:"in-progress",progress:45,budget:25e3,spent:11250,createdDate:"15/01/2025",startDate:"2024-02-01",deadline:"2024-05-15",team:3,nomades:["Maria Silva","João Dev"],bitrixSync:!0,portfolioPermission:!0,overdue:!1,value:25e3,fromLead:!1,companyId:1},{id:3,name:"Identidade Visual FoodCorp",client:"FoodCorp",clientCNPJ:"11.222.333/0001-44",agency:"Creative Partners",consultant:"Pedro Criativo",consultantEmail:"pedro@creative.com",type:"Design",status:"completed",progress:100,budget:8e3,spent:7800,createdDate:"10/12/2024",startDate:"2023-12-10",deadline:"2024-01-20",team:2,nomades:["Ana Santos"],bitrixSync:!0,portfolioPermission:!1,overdue:!1,value:8e3,fromLead:!0,companyId:1},{id:4,name:"Campanha Lançamento Produto XYZ",client:"Tech Innovations",clientCNPJ:"22.333.444/0001-55",agency:"Marketing Pro",consultant:"Lucas Marketing",consultantEmail:"lucas@marketingpro.com",type:"Marketing Digital",status:"negotiation",progress:20,budget:32e3,spent:6400,createdDate:"05/02/2025",startDate:"2024-03-01",deadline:"2024-06-30",team:4,nomades:["Carlos Lima","Ana Santos"],bitrixSync:!0,portfolioPermission:!0,overdue:!1,value:32e3,fromLead:!0,companyId:1},{id:5,name:"Desenvolvimento App Mobile E-commerce",client:"E-Shop Brasil",clientCNPJ:"55.666.777/0001-88",agency:"Tech Solutions",consultant:"Rafael Dev",consultantEmail:"rafael@techsolutions.com",type:"Desenvolvimento Mobile",status:"planning",progress:10,budget:45e3,spent:4500,createdDate:"25/01/2025",startDate:"2024-03-15",deadline:"2024-10-30",team:6,nomades:["João Dev","Maria Silva","Carlos Dev"],bitrixSync:!0,portfolioPermission:!0,overdue:!1,value:45e3,fromLead:!0,companyId:1},{id:6,name:"Consultoria Estratégica Digital Cancelada",client:"Old Corp",clientCNPJ:"33.444.555/0001-66",agency:"Consulting Plus",consultant:"Joana Consultora",consultantEmail:"joana@consulting.com",type:"Consultoria",status:"canceled",progress:30,budget:18e3,spent:5400,createdDate:"01/12/2024",startDate:"2024-01-10",deadline:"2024-04-10",team:2,nomades:["Ana Santos"],bitrixSync:!1,portfolioPermission:!1,overdue:!0,value:18e3,fromLead:!1,companyId:1}];function wt({company:_}){const[U,o]=l.useState(""),[V,q]=l.useState("all"),[w,O]=l.useState("all"),[f,x]=l.useState(1),[y,E]=l.useState(10),[P,T]=l.useState(null),[d,I]=l.useState(!1),[B,F]=l.useState("view"),H=l.useMemo(()=>yt.filter(t=>t.client.toLowerCase()===_.name.toLowerCase()||t.companyId===parseInt(_.id)),[_.id,_.name]),c=l.useMemo(()=>H.filter(t=>{const p=t.name.toLowerCase().includes(U.toLowerCase())||t.client.toLowerCase().includes(U.toLowerCase()),R=V==="all"||t.status===V,z=w==="all"||t.type===w;return p&&R&&z}),[H,U,V,w]),J=c.length,a=Math.ceil(J/y),S=(f-1)*y,k=S+y,A=c.slice(S,k),j=t=>{E(t),x(1)},D=t=>{switch(t){case"awaiting-payment":return e.jsx(v,{className:"bg-cyan-500 text-white text-[10px] px-2 py-0.5",children:"AGUARDANDO PAGAMENTO"});case"in-progress":return e.jsx(v,{className:"bg-blue-500 text-white text-[10px] px-2 py-0.5",children:"EM ANDAMENTO"});case"completed":return e.jsx(v,{className:"bg-green-500 text-white text-[10px] px-2 py-0.5",children:"CONCLUÍDO"});case"negotiation":return e.jsx(v,{className:"bg-gray-500 text-white text-[10px] px-2 py-0.5",children:"NEGOCIAÇÃO"});case"planning":return e.jsx(v,{className:"bg-orange-500 text-white text-[10px] px-2 py-0.5",children:"PLANEJAMENTO"});case"canceled":return e.jsx(v,{className:"bg-red-500 text-white text-[10px] px-2 py-0.5",children:"CANCELADO"});case"draft":return e.jsx(v,{className:"bg-slate-500 text-white text-[10px] px-2 py-0.5",children:"RASCUNHO"});default:return e.jsx(v,{className:"bg-gray-500 text-white text-[10px] px-2 py-0.5",children:t.toUpperCase()})}},ee=["Marketing Digital","Desenvolvimento Web","Design","Consultoria","E-commerce","Desenvolvimento Mobile"],X=[{value:"awaiting-payment",label:"Aguardando Pagamento"},{value:"in-progress",label:"Em Andamento"},{value:"completed",label:"Concluído"},{value:"negotiation",label:"Negociação"},{value:"planning",label:"Planejamento"},{value:"canceled",label:"Cancelado"}],se=t=>{T(t),F("view"),I(!0)},oe=t=>{T(t),F("edit"),I(!0)},h=t=>{console.log("Clonando projeto:",t.name)},$=t=>{console.log("Exportando proposta do projeto:",t.name)},he=t=>{console.log("Cancelando projeto:",t.name)},ie=t=>{T(t),F("view")};return e.jsxs("div",{className:"space-y-4",children:[J>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["Exibindo ",e.jsx("span",{className:"font-semibold",children:S+1})," a ",e.jsx("span",{className:"font-semibold",children:Math.min(k,J)})," de ",e.jsx("span",{className:"font-semibold",children:J})," projetos"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Itens por página:"}),e.jsxs(de,{value:y.toString(),onValueChange:t=>j(parseInt(t)),children:[e.jsx(ce,{className:"w-20 h-8",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"10",children:"10"}),e.jsx(u,{value:"25",children:"25"}),e.jsx(u,{value:"50",children:"50"}),e.jsx(u,{value:"100",children:"100"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 bg-white p-4 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-4 w-4 text-gray-400"}),e.jsx(m,{placeholder:"Buscar por nome do projeto...",value:U,onChange:t=>o(t.target.value),className:"flex-1 border-0 bg-transparent text-sm focus-visible:ring-0"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(de,{value:V,onValueChange:q,children:[e.jsx(ce,{className:"w-40",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos os Status"}),X.map(t=>e.jsx(u,{value:t.value,children:t.label},t.value))]})]}),e.jsxs(de,{value:w,onValueChange:O,children:[e.jsx(ce,{className:"w-40",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos os Tipos"}),ee.map(t=>e.jsx(u,{value:t,children:t},t))]})]})]})]}),A.length===0?e.jsx(C,{className:"p-8 text-center border-dashed",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhum projeto encontrado para esta empresa."})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(Be,{type:"multiple",className:"space-y-2",children:A.map(t=>e.jsxs(te,{value:`project-${t.id}`,className:"border rounded-lg bg-white",children:[e.jsx(le,{className:"px-4 py-3 hover:no-underline",children:e.jsxs("div",{className:"flex items-center justify-between w-full pr-2",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-left",children:t.name}),D(t.status),e.jsxs("span",{className:"text-xs text-gray-500",children:["Cliente: ",e.jsx("span",{className:"font-medium text-blue-600",children:t.client})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 mr-2",onClick:p=>p.stopPropagation(),children:[e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",title:"Visualizar Projeto",onClick:()=>se(t),children:e.jsx(Ee,{className:"h-3.5 w-3.5"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-blue-600 hover:text-blue-700 hover:bg-blue-50",title:"Clonar Projeto",onClick:()=>h(t),children:e.jsx(ba,{className:"h-3.5 w-3.5"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-green-600 hover:text-green-700 hover:bg-green-50",title:"Exportar Proposta",onClick:()=>$(t),children:e.jsx(Ue,{className:"h-3.5 w-3.5"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-purple-600 hover:text-purple-700 hover:bg-purple-50",title:"Editar Projeto",onClick:()=>oe(t),children:e.jsx(ga,{className:"h-3.5 w-3.5"})}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-gray-600",title:"Cancelar Projeto",onClick:()=>he(t),children:e.jsx(Ha,{className:"h-3.5 w-3.5"})})]})]})}),e.jsxs(re,{className:"px-4 pb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-x-6 gap-y-2 mb-3 text-xs pt-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Checkout Agência"}),e.jsx("div",{className:"mt-0.5",children:e.jsxs("a",{href:"#",className:"text-blue-600 hover:underline flex items-center gap-1",children:["Acessar Checkout Agência",e.jsx(Ps,{className:"h-3 w-3"})]})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Checkout Cliente"}),e.jsx("div",{className:"mt-0.5",children:e.jsxs("a",{href:"#",className:"text-blue-600 hover:underline flex items-center gap-1",children:["Acessar Checkout Cliente",e.jsx(Ps,{className:"h-3 w-3"})]})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"CNPJ"}),e.jsx("div",{className:"mt-0.5 font-medium",children:t.clientCNPJ})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Agência"}),e.jsx("div",{className:"mt-0.5",children:e.jsx("a",{href:"#",className:"text-blue-600 hover:underline font-medium",children:t.agency})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Consultor Responsável"}),e.jsx("div",{className:"mt-0.5 font-medium",children:t.consultant})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"E-mail do Consultor"}),e.jsx("div",{className:"mt-0.5 font-medium",children:t.consultantEmail})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Data de Criação"}),e.jsx("div",{className:"mt-0.5 font-medium",children:t.createdDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Sincronizado Bitrix"}),e.jsx("div",{className:"mt-0.5",children:e.jsx(v,{variant:t.bitrixSync?"default":"destructive",className:"text-[10px] px-2 py-0.5",children:t.bitrixSync?"SIM":"NÃO"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Portfólio"}),e.jsx("div",{className:"mt-0.5",children:e.jsx(v,{variant:t.portfolioPermission?"default":"destructive",className:"text-[10px] px-2 py-0.5",children:t.portfolioPermission?"SIM":"NÃO"})})]})]}),e.jsxs("div",{className:"grid gap-3 pt-3 border-t grid-cols-2 md:grid-cols-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Progresso"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all",style:{width:`${t.progress}%`}})}),e.jsxs("span",{className:"text-xs font-bold",children:[t.progress,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Orçamento"}),e.jsxs("p",{className:"text-sm font-bold mt-1",children:["R$ ",t.budget.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Gasto"}),e.jsxs("p",{className:"text-sm font-bold text-orange-600 mt-1",children:["R$ ",t.spent.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Início"}),e.jsx("p",{className:"text-sm font-bold mt-1",children:new Date(t.startDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Prazo"}),e.jsx("p",{className:"text-sm font-bold mt-1",children:new Date(t.deadline).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Equipe"}),e.jsxs("p",{className:"text-sm font-bold mt-1",children:[t.team," membros"]})]})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t",children:[e.jsx("span",{className:"text-[10px] text-gray-500 uppercase",children:"Nômades Alocados"}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1.5",children:t.nomades.map((p,R)=>e.jsx(v,{variant:"outline",className:"text-[10px] px-2 py-0.5",children:p},R))})]})]})]},t.id))}),e.jsx(ka,{currentPage:f,totalPages:a,totalItems:J,itemsPerPage:y,onPageChange:x,onItemsPerPageChange:j})]}),e.jsx(Xa,{project:P,open:d,onOpenChange:I,mode:B,onEdit:()=>oe(P),onClone:()=>h(P),onExport:()=>$(P),onSave:ie,onCancel:()=>he(P)})]})}const ta=[{id:"1",uniqueId:"5001",nome:"Design UI/UX",produtoNome:"App Mobile",executor:"Lucas Martins",lider:"Ana Oliveira",prazo:"20/02/2025",status:"Aprovada",projectId:1,projectName:"Hospedagem Florescer Idosos",dataInicio:"15/02/2025"},{id:"2",uniqueId:"5002",nome:"Desenvolvimento iOS",produtoNome:"App Mobile",executor:"Camila Ferreira",lider:"Lucas Martins",prazo:"05/03/2025",status:"Em Execução",projectId:1,projectName:"Hospedagem Florescer Idosos",dataInicio:"25/02/2025"},{id:"3",uniqueId:"5003",nome:"Desenvolvimento Android",produtoNome:"App Mobile",executor:"Rafael Gomes",lider:"Lucas Martins",prazo:"05/03/2025",status:"Em Execução",projectId:1,projectName:"Hospedagem Florescer Idosos",dataInicio:"25/02/2025"},{id:"4",uniqueId:"5004",nome:"Testes Beta",produtoNome:"App Mobile",executor:"Patricia Cunha",lider:"Camila Ferreira",prazo:"15/03/2025",status:"Entregue",projectId:1,projectName:"Hospedagem Florescer Idosos",dataInicio:"10/03/2025"},{id:"5",uniqueId:"5005",nome:"Setup Backend",produtoNome:"App Mobile",executor:"Carlos Lima",lider:"Rafael Gomes",prazo:"25/02/2025",status:"Aprovada",projectId:2,projectName:"Redesign Website Startup ABC",dataInicio:"18/02/2025"},{id:"6",uniqueId:"5006",nome:"API Integration",produtoNome:"App Mobile",executor:"Maria Santos",lider:"Carlos Lima",prazo:"01/03/2025",status:"Em Execução",projectId:2,projectName:"Redesign Website Startup ABC",dataInicio:"22/02/2025"},{id:"7",uniqueId:"5007",nome:"Push Notifications",produtoNome:"App Mobile",executor:"Pedro Costa",lider:"Maria Santos",prazo:"10/03/2025",status:"Aprovada",projectId:2,projectName:"Redesign Website Startup ABC",dataInicio:"05/03/2025"},{id:"8",uniqueId:"5008",nome:"Auth System",produtoNome:"App Mobile",executor:"João Silva",lider:"Carlos Lima",prazo:"08/03/2025",status:"Para Aprovação",projectId:2,projectName:"Redesign Website Startup ABC",dataInicio:"01/03/2025"},{id:"9",uniqueId:"5009",nome:"Logo Design",produtoNome:"Design",executor:"Ana Santos",lider:"Pedro Criativo",prazo:"15/02/2025",status:"Aprovada",projectId:3,projectName:"Identidade Visual FoodCorp",dataInicio:"08/02/2025"},{id:"10",uniqueId:"5010",nome:"Brand Guidelines",produtoNome:"Design",executor:"Maria Silva",lider:"Pedro Criativo",prazo:"20/02/2025",status:"Atrasada",projectId:3,projectName:"Identidade Visual FoodCorp",dataInicio:"16/02/2025"},{id:"11",uniqueId:"5011",nome:"Pesquisa de Mercado",produtoNome:"Marketing",executor:"Lucas Marketing",lider:"Ana Marketing",prazo:"28/02/2025",status:"Para Aprovação",projectId:4,projectName:"Campanha Lançamento Produto XYZ",dataInicio:"20/02/2025"},{id:"12",uniqueId:"5012",nome:"Criação de Conteúdo",produtoNome:"Marketing",executor:"Carolina Content",lider:"Lucas Marketing",prazo:"10/03/2025",status:"Em Execução",projectId:4,projectName:"Campanha Lançamento Produto XYZ",dataInicio:"01/03/2025"}];function Ct({company:_}){const[U,o]=l.useState(""),[V,q]=l.useState("all"),[w,O]=l.useState("all"),[f,x]=l.useState(""),[y,E]=l.useState(""),[P,T]=l.useState(1),[d,I]=l.useState(10),[B,F]=l.useState("list"),[H,c]=l.useState(!1),[J,a]=l.useState("projectName"),[S,k]=l.useState("asc"),A=l.useMemo(()=>{let t=ta;if(V!=="all"&&(t=t.filter(p=>p.projectId.toString()===V)),w!=="all"&&(t=t.filter(p=>p.status===w)),U){const p=U.toLowerCase();t=t.filter(R=>R.nome.toLowerCase().includes(p)||R.uniqueId.toLowerCase().includes(p))}return t.sort((p,R)=>{let z="",K="";switch(J){case"projectName":z=p.projectName,K=R.projectName;break;case"nome":z=p.nome,K=R.nome;break;case"status":z=p.status,K=R.status;break;case"prazo":z=p.prazo,K=R.prazo;break;case"executor":z=p.executor,K=R.executor;break;case"lider":z=p.lider,K=R.lider;break;default:z=p.projectName,K=R.projectName}return typeof z=="string"?S==="asc"?z.localeCompare(K):K.localeCompare(z):0}),t},[V,w,U,J,S]),j=A.length,D=Math.ceil(j/d),ee=(P-1)*d,X=ee+d,se=A.slice(ee,X),oe=t=>{I(t),T(1)},h=t=>({Aprovada:"bg-green-100 text-green-700 border-green-300","Em Execução":"bg-blue-100 text-blue-700 border-blue-300",Entregue:"bg-purple-100 text-purple-700 border-purple-300",Aguardando:"bg-yellow-100 text-yellow-700 border-yellow-300",Bloqueada:"bg-red-100 text-red-700 border-red-300"})[t]||"bg-gray-100 text-gray-700 border-gray-300",$=t=>({Aprovada:"#22c55e","Em Execução":"#3b82f6",Entregue:"#a855f7",Aguardando:"#eab308",Bloqueada:"#ef4444"})[t]||"#6b7280",he=l.useMemo(()=>Array.from(new Map(ta.map(p=>[p.projectId,p])).values()).map(p=>({id:p.projectId,name:p.projectName})).sort((p,R)=>p.name.localeCompare(R.name)),[]),ie=["Aprovada","Em Execução","Para Aprovação","Entregue","Atrasada"];return e.jsxs("div",{className:"space-y-4 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Tarefas da Empresa"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[A.length," tarefa(s) encontrada(s)."]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center border rounded-md",children:[e.jsxs(n,{size:"sm",variant:B==="list"?"default":"ghost",onClick:()=>F("list"),className:"h-8 rounded-r-none",children:[e.jsx(Ya,{className:"h-3.5 w-3.5 mr-1.5"}),"Lista"]}),e.jsxs(n,{size:"sm",variant:B==="kanban"?"default":"ghost",onClick:()=>F("kanban"),className:"h-8 rounded-l-none",children:[e.jsx(Ra,{className:"h-3.5 w-3.5 mr-1.5"}),"Kanban"]})]}),e.jsxs(n,{size:"sm",variant:"outline",onClick:()=>c(!H),className:"h-8",children:[e.jsx(Oe,{className:"h-3.5 w-3.5 mr-1.5"}),H?"Ocultar":"Filtros"]})]})]}),H&&e.jsxs(C,{className:"p-3 bg-gray-50 border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Projeto"}),e.jsxs(de,{value:V,onValueChange:q,children:[e.jsx(ce,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"Todos"})}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos os Projetos"}),he.map(t=>e.jsx(u,{value:t.id.toString(),children:t.name},t.id))]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Status"}),e.jsxs(de,{value:w,onValueChange:O,children:[e.jsx(ce,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"Todos"})}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos"}),ie.map(t=>e.jsx(u,{value:t,children:t},t))]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Ordenar por"}),e.jsxs("div",{className:"flex gap-1.5",children:[e.jsxs(de,{value:J,onValueChange:a,children:[e.jsx(ce,{className:"h-8 text-xs flex-1",children:e.jsx(me,{placeholder:"Campo"})}),e.jsxs(xe,{children:[e.jsx(u,{value:"projectName",children:"Projeto"}),e.jsx(u,{value:"nome",children:"Nome"}),e.jsx(u,{value:"status",children:"Status"}),e.jsx(u,{value:"prazo",children:"Prazo"}),e.jsx(u,{value:"executor",children:"Executor"}),e.jsx(u,{value:"lider",children:"Líder"})]})]}),e.jsx(n,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 bg-transparent",onClick:()=>k(S==="asc"?"desc":"asc"),children:S==="asc"?e.jsx(Ka,{className:"h-3.5 w-3.5"}):e.jsx(Qa,{className:"h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Buscar"}),e.jsx(m,{type:"text",placeholder:"Nome ou ID da tarefa...",value:U,onChange:t=>{o(t.target.value),T(1)},className:"h-8 text-xs"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["Exibindo ",e.jsx("span",{className:"font-semibold",children:ee+1})," a"," ",e.jsx("span",{className:"font-semibold",children:Math.min(X,j)})," de"," ",e.jsx("span",{className:"font-semibold",children:j})," tarefas"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Itens por página:"}),e.jsxs(de,{value:d.toString(),onValueChange:t=>oe(parseInt(t)),children:[e.jsx(ce,{className:"w-16 h-7 text-xs",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"10",children:"10"}),e.jsx(u,{value:"25",children:"25"}),e.jsx(u,{value:"50",children:"50"}),e.jsx(u,{value:"100",children:"100"})]})]})]})]})]}),j>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["Exibindo ",e.jsx("span",{className:"font-semibold",children:ee+1})," a"," ",e.jsx("span",{className:"font-semibold",children:Math.min(X,j)})," de"," ",e.jsx("span",{className:"font-semibold",children:j})," tarefas"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Itens por página:"}),e.jsxs(de,{value:d.toString(),onValueChange:t=>oe(parseInt(t)),children:[e.jsx(ce,{className:"w-20 h-8",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"10",children:"10"}),e.jsx(u,{value:"25",children:"25"}),e.jsx(u,{value:"50",children:"50"}),e.jsx(u,{value:"100",children:"100"})]})]})]})]}),B==="list"?e.jsx("div",{className:"space-y-2",children:se.length>0?se.map(t=>e.jsx(C,{className:"p-3 hover:shadow-md transition-all border-l-4",style:{borderLeftColor:$(t.status)},children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center justify-center bg-blue-50 rounded px-2 py-0.5 shrink-0",children:e.jsxs("span",{className:"text-[11px] text-blue-600 font-bold",children:["#",t.uniqueId]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[e.jsx("h4",{className:"font-semibold text-xs text-gray-900",children:t.nome}),e.jsx(v,{variant:"outline",className:"text-[9px] px-1.5 py-0 border-gray-200 text-gray-600 shrink-0",children:t.produtoNome}),e.jsx(v,{variant:"outline",className:"text-[9px] px-1.5 py-0 border-blue-200 bg-blue-50 text-blue-600 shrink-0",title:`Projeto: ${t.projectName}`,children:t.projectName})]}),e.jsxs("div",{className:"flex items-center gap-2.5 text-[10px] text-muted-foreground flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xs,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium text-gray-700",children:t.executor})]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium text-gray-700",children:t.lider})]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(js,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium text-gray-700",children:t.prazo})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(v,{className:`text-xs px-3 py-1.5 border font-medium ${h(t.status)}`,children:t.status}),e.jsx(n,{size:"sm",variant:"outline",className:"h-6 w-6 p-0 bg-transparent",title:"Visualizar Tarefa",children:e.jsx(Ee,{className:"h-3 w-3"})})]})]})},t.id)):e.jsx(C,{className:"p-6 text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma tarefa encontrada."})})}):e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:["Aprovada","Em Execução","Para Aprovação","Entregue","Atrasada"].map(t=>{const p=A.filter(z=>z.status===t),R=$(t);return e.jsxs("div",{className:"flex-shrink-0 w-64",children:[e.jsx("div",{className:"rounded-t-lg p-2 mb-2",style:{background:`linear-gradient(135deg, ${R}15, ${R}30)`,borderBottom:`3px solid ${R}`},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-xs",style:{color:R},children:t}),e.jsx(v,{variant:"outline",className:"text-[9px] px-1.5 py-0",style:{borderColor:R,color:R},children:p.length})]})}),e.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto pr-1",children:p.length>0?p.map(z=>e.jsx(C,{className:"p-2 hover:shadow-md transition-all border-l-4 bg-white",style:{borderLeftColor:R},children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsx("div",{className:"flex items-center justify-center bg-blue-50 rounded px-1.5 py-0.5",children:e.jsxs("span",{className:"text-[9px] text-blue-600 font-bold",children:["#",z.uniqueId]})}),e.jsx(n,{size:"sm",variant:"outline",className:"h-5 w-5 p-0 bg-transparent",title:"Visualizar Tarefa",children:e.jsx(Ee,{className:"h-2.5 w-2.5"})})]}),e.jsx("h4",{className:"font-semibold text-xs text-gray-900 line-clamp-2",children:z.nome}),e.jsx(v,{variant:"outline",className:"text-[9px] px-1.5 py-0 border-gray-200 text-gray-600 w-full justify-center",children:z.produtoNome}),e.jsxs("div",{className:"space-y-0.5 text-[9px] text-muted-foreground pt-1 border-t",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xs,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium text-gray-700",children:z.executor})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium text-gray-700",children:z.lider})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(js,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium text-gray-700",children:z.prazo})]})]}),e.jsx(v,{variant:"outline",className:"text-[9px] px-1.5 py-0 border-blue-200 bg-blue-50 text-blue-600 w-full justify-center mt-1",title:`Projeto: ${z.projectName}`,children:z.projectName})]})},z.uniqueId)):e.jsx("div",{className:"flex items-center justify-center h-20 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Vazio"})})})]},t)})}),j>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["Página ",e.jsx("span",{className:"font-semibold",children:P})," de"," ",e.jsx("span",{className:"font-semibold",children:D||1})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{size:"sm",variant:"outline",className:"h-8 text-xs",disabled:P===1,onClick:()=>T(P-1),children:"Anterior"}),Array.from({length:Math.min(5,D)},(t,p)=>{const R=p+1;return e.jsx(n,{size:"sm",variant:P===R?"default":"outline",className:"h-8 w-8 p-0 text-xs",onClick:()=>T(R),children:R},R)}),e.jsx(n,{size:"sm",variant:"outline",className:"h-8 text-xs",disabled:P===D,onClick:()=>T(P+1),children:"Próxima"})]})]})]})}const kt=[{id:"1",timestamp:"2025-02-05 14:32:18",type:"Usuários",action:"Usuário criado",user:"Admin Sistema",role:"Admin",origin:"Web",status:"Sucesso",description:"Novo usuário João da Silva criado com permissões de Editor",ip:"192.168.1.102",ids:{usuarioId:"USR-001",empresaId:"EMP-001"}},{id:"2",timestamp:"2025-02-05 13:45:22",type:"Projetos",action:"Projeto criado",user:"Admin Sistema",role:"Admin",origin:"Web",status:"Sucesso",description:"Projeto 'Redesign Website Startup ABC' criado com orçamento de R$ 25.000",ip:"192.168.1.102",ids:{projetoId:"PRJ-002",empresaId:"EMP-001"}},{id:"3",timestamp:"2025-02-05 12:15:45",type:"Tarefas",action:"Tarefa aprovada",user:"Maria Santos",role:"Usuário da empresa",origin:"Web",status:"Sucesso",description:"Tarefa #5001 'Design UI/UX' foi aprovada",ip:"192.168.1.105",ids:{tarefaId:"TRF-5001",projetoId:"PRJ-001",empresaId:"EMP-001"}},{id:"4",timestamp:"2025-02-05 11:20:30",type:"Financeiro",action:"Pagamento confirmado",user:"Sistema",role:"Sistema",origin:"API",status:"Sucesso",description:"Pagamento de R$ 9.750 confirmado para Projeto 'Hospedagem Florescer Idosos'",ids:{projetoId:"PRJ-001",empresaId:"EMP-001"}},{id:"5",timestamp:"2025-02-05 10:05:12",type:"Termos",action:"Termo assinado",user:"Carlos Lima",role:"Usuário da empresa",origin:"Web",status:"Sucesso",description:"Termos de Uso v2.1 assinados pela empresa",ip:"192.168.1.108",ids:{empresaId:"EMP-001"}},{id:"6",timestamp:"2025-02-04 16:30:45",type:"Usuários",action:"Permissões alteradas",user:"Admin Sistema",role:"Admin",origin:"Web",status:"Sucesso",description:"Permissões do usuário Ana Santos alteradas: Leitor → Editor",dataAnterior:{permissao:"Leitor"},dadosNovos:{permissao:"Editor"},ip:"192.168.1.102",ids:{usuarioId:"USR-003",empresaId:"EMP-001"}},{id:"7",timestamp:"2025-02-04 14:12:00",type:"Segurança",action:"Tentativa de acesso",user:"Sistema",role:"Sistema",origin:"Sistema",status:"Alerta",description:"Tentativa de acesso com credenciais inválidas detectada",ip:"203.0.113.45",ids:{empresaId:"EMP-001"}},{id:"8",timestamp:"2025-02-04 11:45:30",type:"Projetos",action:"Projeto editado",user:"Admin Sistema",role:"Admin",origin:"Web",status:"Sucesso",description:"Status do Projeto 'Identidade Visual FoodCorp' alterado para Concluído",dataAnterior:{status:"Em Andamento"},dadosNovos:{status:"Concluído"},ip:"192.168.1.102",ids:{projetoId:"PRJ-003",empresaId:"EMP-001"}},{id:"9",timestamp:"2025-02-03 15:22:18",type:"Tarefas",action:"Tarefa atrasada",user:"Sistema",role:"Sistema",origin:"Sistema",status:"Alerta",description:"Tarefa #5010 'Brand Guidelines' foi marcada como atrasada",ids:{tarefaId:"TRF-5010",projetoId:"PRJ-003",empresaId:"EMP-001"}},{id:"10",timestamp:"2025-02-03 10:00:00",type:"Plano",action:"Alteração de plano de crédito",user:"Admin Sistema",role:"Admin",origin:"Web",status:"Sucesso",description:"Plano de crédito alterado de Basic para Premium (500 créditos)",dataAnterior:{plano:"Basic",creditos:100},dadosNovos:{plano:"Premium",creditos:500},ip:"192.168.1.102",ids:{empresaId:"EMP-001"}},{id:"11",timestamp:"2025-02-02 09:30:45",type:"Usuários",action:"Usuário bloqueado",user:"Admin Sistema",role:"Admin",origin:"Web",status:"Sucesso",description:"Usuário Pedro Costa foi bloqueado por inatividade prolongada",ip:"192.168.1.102",ids:{usuarioId:"USR-005",empresaId:"EMP-001"}},{id:"12",timestamp:"2025-02-02 08:15:22",type:"Financeiro",action:"Pagamento recusado",user:"Sistema",role:"Sistema",origin:"API",status:"Erro",description:"Pagamento de R$ 5.000 recusado - Cartão expirado",ids:{projetoId:"PRJ-004",empresaId:"EMP-001"}}];function St({company:_}){const[U,o]=l.useState(""),[V,q]=l.useState("all"),[w,O]=l.useState("all"),[f,x]=l.useState("all"),[y,E]=l.useState(""),[P,T]=l.useState(""),[d,I]=l.useState(1),[B,F]=l.useState(10),[H,c]=l.useState(null),J=l.useMemo(()=>kt.filter(h=>{const $=h.action.toLowerCase().includes(U.toLowerCase())||h.user.toLowerCase().includes(U.toLowerCase())||h.description.toLowerCase().includes(U.toLowerCase()),he=V==="all"||h.type===V,ie=w==="all"||h.role===w,t=f==="all"||h.status===f,p=h.timestamp.split(" ")[0],R=!y||p>=y,z=!P||p<=P;return $&&he&&ie&&t&&R&&z}).sort((h,$)=>new Date($.timestamp).getTime()-new Date(h.timestamp).getTime()),[U,V,w,f,y,P]),a=J.length,S=(d-1)*B,k=S+B,A=J.slice(S,k),j=Math.ceil(a/B),D=h=>{I(Math.max(1,Math.min(h,j)))},ee=h=>{F(h),I(1)},X=h=>({Usuários:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200"},Projetos:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200"},Tarefas:{bg:"bg-green-50",text:"text-green-700",border:"border-green-200"},Financeiro:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200"},Plano:{bg:"bg-indigo-50",text:"text-indigo-700",border:"border-indigo-200"},Termos:{bg:"bg-cyan-50",text:"text-cyan-700",border:"border-cyan-200"},Segurança:{bg:"bg-red-50",text:"text-red-700",border:"border-red-200"},Sistema:{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"}})[h]||{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200"},se=h=>({Sucesso:{bg:"bg-emerald-100",text:"text-emerald-700"},Erro:{bg:"bg-red-100",text:"text-red-700"},Alerta:{bg:"bg-amber-100",text:"text-amber-700"}})[h]||{bg:"bg-gray-100",text:"text-gray-700"},oe=h=>({Admin:"bg-purple-100 text-purple-700","Usuário da empresa":"bg-blue-100 text-blue-700",Sistema:"bg-gray-100 text-gray-700"})[h]||"bg-gray-100 text-gray-700";return e.jsxs("div",{className:"space-y-4 p-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Filtros"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(cs,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx(m,{placeholder:"Buscar ação, usuário ou descrição...",value:U,onChange:h=>{o(h.target.value),I(1)},className:"pl-9 h-8 text-xs"})]}),e.jsxs(de,{value:V,onValueChange:h=>{q(h),I(1)},children:[e.jsx(ce,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"Todos os Tipos"})}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos os Tipos"}),e.jsx(u,{value:"Usuários",children:"Usuários"}),e.jsx(u,{value:"Projetos",children:"Projetos"}),e.jsx(u,{value:"Tarefas",children:"Tarefas"}),e.jsx(u,{value:"Financeiro",children:"Financeiro"}),e.jsx(u,{value:"Plano",children:"Plano"}),e.jsx(u,{value:"Termos",children:"Termos"}),e.jsx(u,{value:"Segurança",children:"Segurança"}),e.jsx(u,{value:"Sistema",children:"Sistema"})]})]}),e.jsxs(de,{value:w,onValueChange:h=>{O(h),I(1)},children:[e.jsx(ce,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"Todos os Papéis"})}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos os Papéis"}),e.jsx(u,{value:"Admin",children:"Admin"}),e.jsx(u,{value:"Usuário da empresa",children:"Usuário da empresa"}),e.jsx(u,{value:"Sistema",children:"Sistema"})]})]}),e.jsxs(de,{value:f,onValueChange:h=>{x(h),I(1)},children:[e.jsx(ce,{className:"h-8 text-xs",children:e.jsx(me,{placeholder:"Todos os Status"})}),e.jsxs(xe,{children:[e.jsx(u,{value:"all",children:"Todos os Status"}),e.jsx(u,{value:"Sucesso",children:"Sucesso"}),e.jsx(u,{value:"Erro",children:"Erro"}),e.jsx(u,{value:"Alerta",children:"Alerta"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx(m,{type:"date",value:y,onChange:h=>{E(h.target.value),I(1)},placeholder:"Data inicial",className:"pl-9 h-8 text-xs"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx(m,{type:"date",value:P,onChange:h=>{T(h.target.value),I(1)},placeholder:"Data final",className:"pl-9 h-8 text-xs"})]})]})]}),a>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:["Exibindo ",e.jsx("span",{className:"font-semibold",children:S+1})," a"," ",e.jsx("span",{className:"font-semibold",children:Math.min(k,a)})," de"," ",e.jsx("span",{className:"font-semibold",children:a})," logs"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Itens por página:"}),e.jsxs(de,{value:B.toString(),onValueChange:h=>ee(parseInt(h)),children:[e.jsx(ce,{className:"w-20 h-8 text-xs",children:e.jsx(me,{})}),e.jsxs(xe,{children:[e.jsx(u,{value:"10",children:"10"}),e.jsx(u,{value:"25",children:"25"}),e.jsx(u,{value:"50",children:"50"}),e.jsx(u,{value:"100",children:"100"})]})]})]})]}),A.length>0?e.jsx("div",{className:"space-y-2",children:A.map(h=>{const $=X(h.type),he=se(h.status),ie=oe(h.role),t=H===h.id;return e.jsx(C,{className:"p-3 hover:shadow-md transition-all border-l-4",style:{borderLeftColor:$.text.split("-")[1]==="blue"?"#3b82f6":$.text.split("-")[1]==="purple"?"#a855f7":$.text.split("-")[1]==="green"?"#10b981":$.text.split("-")[1]==="amber"?"#f59e0b":$.text.split("-")[1]==="indigo"?"#6366f1":$.text.split("-")[1]==="cyan"?"#06b6d4":$.text.split("-")[1]==="red"?"#ef4444":"#6b7280"},children:e.jsxs("div",{className:"cursor-pointer",onClick:()=>c(t?null:h.id),children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:h.timestamp}),e.jsx(v,{className:`text-[10px] ${$.bg} ${$.text} border-0`,children:h.type}),e.jsx(v,{className:`text-[10px] ${he.bg} ${he.text} border-0`,children:h.status})]}),e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:h.action}),e.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:h.description}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap pt-1",children:[e.jsx(v,{variant:"outline",className:`text-[9px] px-2 py-0.5 ${ie}`,children:h.user}),e.jsx(v,{variant:"outline",className:"text-[9px] px-2 py-0.5 bg-gray-100 text-gray-700",children:h.origin}),h.ip&&e.jsx(v,{variant:"outline",className:"text-[9px] px-2 py-0.5 bg-gray-50 text-gray-600",children:h.ip})]})]}),e.jsx(n,{variant:"outline",size:"sm",className:"h-6 w-6 p-0 shrink-0",title:t?"Fechar":"Expandir",children:t?e.jsx(Ua,{className:"h-3 w-3"}):e.jsx(Ba,{className:"h-3 w-3"})})]}),t&&e.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[h.dataAnterior&&h.dadosNovos&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Dados Anteriores:"}),e.jsx("pre",{className:"bg-gray-50 p-2 rounded text-[9px] overflow-x-auto",children:JSON.stringify(h.dataAnterior,null,2)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1",children:"Dados Novos:"}),e.jsx("pre",{className:"bg-gray-50 p-2 rounded text-[9px] overflow-x-auto",children:JSON.stringify(h.dadosNovos,null,2)})]})]}),h.ids&&e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-700 mb-1 text-xs",children:"IDs Relacionados:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(h.ids).map(([p,R])=>R&&e.jsxs(v,{variant:"outline",className:"text-[9px] px-2 py-0.5",children:[p,": ",R]},p))})]})]})]})},h.id)})}):e.jsx(C,{className:"p-6 text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum log encontrado com os filtros aplicados."})}),a>0&&e.jsx(ka,{currentPage:d,totalPages:j,onPageChange:D,itemsPerPage:B,onItemsPerPageChange:ee})]})}function Pt({open:_,onClose:U,company:o,onCompanyUpdate:V}){if(!o)return null;const{sidebarCollapsed:q}=Ds(),{toast:w}=As(),[O,f]=l.useState("visao-geral"),[x,y]=l.useState(!1),[E,P]=l.useState("confirm"),[T,d]=l.useState(o?.avatar||null),[I,B]=l.useState(!1),[F,H]=l.useState(!1),[c,J]=l.useState(!1),[a,S]=l.useState({}),[k,A]=l.useState(!1),[j,D]=l.useState("pix"),[ee,X]=l.useState([{id:"1",brand:"Visa",lastFour:"4242",expiry:"12/25",holderName:"John Doe"}]),[se,oe]=l.useState(!1),[h,$]=l.useState({number:"",expiry:"",cvv:"",holderName:""}),[he,ie]=l.useState(null),[t,p]=l.useState({creditPlan:o.partner_level||"basic",accountType:o.type||"company",chargeDate:"",paymentDate:"",dueDate:""}),[R,z]=l.useState([{id:"1",date:"2024-01-15",amount:1500,method:"pix",status:"Pago",type:"nf"},{id:"2",date:"2024-01-10",amount:2e3,method:"boleto",status:"Pago",type:"nf"},{id:"3",date:"2024-01-05",amount:500,method:"allkoins",status:"Pago",type:"comprovante"},{id:"4",date:"2023-12-20",amount:1500,method:"cartao",status:"Pendente",type:"nf"}]),[K,pe]=l.useState(5e3),[b,ue]=l.useState([{id:"stmt_1",date:new Date().toISOString(),type:"credit",amount:1e3,reason:"Recarga inicial",balanceAfter:5e3},{id:"stmt_2",date:new Date(Date.now()-10080*60*1e3).toISOString(),type:"debit",amount:200,reason:"Pagamento de serviço",balanceAfter:4e3}]),[Y,ve]=l.useState(!1),[be,r]=l.useState("add"),[N,fe]=l.useState(""),[ne,Pe]=l.useState(""),[ms,Ye]=l.useState(!1),[Ve,qe]=l.useState(!1);if(l.useEffect(()=>{o&&d(o.avatar||null)},[o]),!o)return null;const Ke=s=>({company:"Empresa",agency:"Agência",nomad:"Nômade"})[s],Qe=s=>({active:"default",inactive:"secondary",pending:"outline"})[s],we=s=>({active:"Ativo",inactive:"Inativo",pending:"Pendente"})[s],Ae=s=>{D(s)},xs=()=>{if(h.number&&h.expiry&&h.cvv&&h.holderName){const s=h.number.slice(-4),M={id:Math.random().toString(),brand:h.number.startsWith("4")?"Visa":"Mastercard",lastFour:s,expiry:h.expiry,holderName:h.holderName};X([...ee,M]),$({number:"",expiry:"",cvv:"",holderName:""}),oe(!1)}},hs=s=>{X(ee.filter(M=>M.id!==s))},Ce=s=>{ee.length>0&&D(`card-${s}`)},Ze=s=>{r(s),fe(""),Pe(""),ve(!0)},Me=()=>{if(!N||parseFloat(N)<=0){w({title:"Erro",description:"Digite um valor válido",variant:"destructive"});return}if(!ne.trim()){w({title:"Erro",description:"Informe o motivo da operação",variant:"destructive"});return}Ye(!0)},Je=()=>{qe(!0);const s=parseFloat(N),M=K;let Z=M;if(be==="add")Z=M+s;else{if(M<s){w({title:"Erro",description:"Saldo não pode ser negativo",variant:"destructive"}),qe(!1);return}Z=M-s}const Ne={id:`stmt_${Date.now()}`,date:new Date().toISOString(),type:be==="add"?"credit":"debit",amount:s,reason:ne,balanceAfter:Z};pe(Z),ue(ze=>[Ne,...ze]),w({title:"Sucesso!",description:`Saldo atualizado para R$ ${Z.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),ve(!1),Ye(!1),qe(!1)},Te=s=>{ie(s)},We=()=>{console.log("[v0] Admin action confirmed:",he,t),ie(null)},De=()=>{console.log("[v0] Boleto gerado"),ie(null)},Ie=()=>{console.log("[v0] Moving to Partner Leader invitation step for:",o.name),P("leader")},_e=()=>{console.log("[v0] Sending Partner Leader invitation to:",o.name),y(!1),P("confirm")},es=()=>{console.log("[v0] Migrating to Partner without Leader invitation for:",o.name),y(!1),P("confirm")},Le=()=>{console.log("[v0] Closing migration modal"),y(!1),P("confirm")},g=s=>c&&s in a?a[s]:o?.[{legal_name:"legal_name",trade_name:"name",document:"document",ie:"ie",status:"status",email:"email",phone:"phone",phone_secondary:"phone_secondary",whatsapp:"whatsapp",website:"website",zip_code:"zip_code",street:"street",number:"number",complement:"complement",neighborhood:"neighborhood",city:"city",state:"state",country:"country",pix_key:"pix_key",pix_type:"pix_type",bank_name:"bank_name",bank_agency:"bank_agency",bank_account:"bank_account",bank_account_type:"bank_account_type",admin_notes:"admin_notes",internal_notes:"internal_notes"}[s]]||"",Q=(s,M)=>{S(Z=>({...Z,[s]:M}))},Fe=()=>{J(!0)},ss=()=>{J(!1),S({})},Ge=()=>{const s=g("legal_name")||g("trade_name"),M=g("email"),Z=g("phone"),Ne=g("zip_code");if(!s||typeof s!="string"||!s.trim()){w({title:"Erro",description:"Nome / Razão Social é obrigat��rio",variant:"destructive"});return}if(!M||typeof M!="string"||!M.includes("@")){w({title:"Erro",description:"Email válido é obrigatório",variant:"destructive"});return}if(!Z||typeof Z!="string"||Z.trim().length<10){w({title:"Erro",description:"Telefone principal é obrigatório (mínimo 10 caracteres)",variant:"destructive"});return}if(Ne&&typeof Ne=="string"&&Ne.trim().length>0&&Ne.trim().length<8){w({title:"Erro",description:"CEP deve ter no mínimo 8 caracteres",variant:"destructive"});return}i()},i=async()=>{if(!o?.id){w({title:"Erro",description:"ID da empresa não encontrado",variant:"destructive"});return}A(!0);try{const s={name:g("trade_name")||o.name,legal_name:g("legal_name")||o.name,email:g("email"),phone:g("phone"),phone_secondary:g("phone_secondary")||void 0,whatsapp:g("whatsapp")||void 0,website:g("website")||void 0,ie:g("ie")||void 0,zip_code:g("zip_code")||void 0,street:g("street")||void 0,number:g("number")||void 0,complement:g("complement")||void 0,neighborhood:g("neighborhood")||void 0,city:g("city")||void 0,state:g("state")||void 0,country:g("country")||"Brasil",pix_key:g("pix_key")||void 0,pix_type:g("pix_type")||void 0,bank_name:g("bank_name")||void 0,bank_agency:g("bank_agency")||void 0,bank_account:g("bank_account")||void 0,bank_account_type:g("bank_account_type")||void 0,admin_notes:g("admin_notes")||void 0,internal_notes:g("internal_notes")||void 0,status:g("status")||o.status},M=await fetch(`/api/admin/companies/${o.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),Z=await M.json();if(Z.success||M.ok){const Ne={...o,name:s.name,legal_name:s.legal_name,email:s.email,phone:s.phone,phone_secondary:s.phone_secondary,whatsapp:s.whatsapp,website:s.website,ie:s.ie,zip_code:s.zip_code,street:s.street,number:s.number,complement:s.complement,neighborhood:s.neighborhood,city:s.city,state:s.state,country:s.country,pix_key:s.pix_key,pix_type:s.pix_type,bank_name:s.bank_name,bank_agency:s.bank_agency,bank_account:s.bank_account,bank_account_type:s.bank_account_type,admin_notes:s.admin_notes,internal_notes:s.internal_notes,status:s.status};V?.(Ne),w({title:"Sucesso!",description:"Dados da empresa atualizados com sucesso"}),J(!1),S({})}else w({title:"Erro",description:Z.message||"Falha ao salvar dados",variant:"destructive"})}catch{w({title:"Erro",description:"Falha ao salvar dados da empresa",variant:"destructive"})}finally{A(!1)}},L=[{nome:"Vendas",uso:1200},{nome:"Financeiro",uso:980},{nome:"Relatórios",uso:850},{nome:"RH",uso:720},{nome:"Operações",uso:650}],G=[{id:1,name:"Ana Silva",avatar:"AS",time:"Há 2 horas"},{id:2,name:"Carlos Santos",avatar:"CS",time:"Há 4 horas"},{id:3,name:"Marina Costa",avatar:"MC",time:"Ontem"},{id:4,name:"Paulo Oliveira",avatar:"PO",time:"2 dias atrás"},{id:5,name:"Rita Alves",avatar:"RA",time:"3 dias atrás"}];return e.jsxs(e.Fragment,{children:[e.jsx(ua,{open:_&&!x,onOpenChange:U,children:e.jsxs(pa,{side:"right",hideOverlay:!0,className:`left-64 ${q?"left-0":"left-64"} w-[calc(100vw-16rem)] sm:max-w-[calc(100vw-16rem)] p-0 flex flex-col gap-0`,children:[e.jsx(Ls,{title:o.name,right:e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsx(v,{variant:"default",className:"text-xs",children:we(o.status)}),o.account_type&&e.jsx(v,{variant:"secondary",className:"text-xs",children:o.account_type}),e.jsxs("div",{onClick:()=>H(!F),className:"flex cursor-pointer items-center gap-2 bg-gradient-to-r from-blue-900/40 to-cyan-900/40 px-4 py-2 rounded-lg border border-blue-700/50 flex-shrink-0 hover:border-blue-600/75 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-blue-300 text-xs font-semibold uppercase tracking-wide",children:"ALLKOIN"}),e.jsx("p",{className:"text-white font-bold text-sm",children:F?"0.00":"•••••"})]}),e.jsx(Ee,{className:"h-4 w-4 text-blue-200"})]})]}),left:e.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0 relative",children:e.jsxs("div",{className:"relative",children:[e.jsxs(os,{className:"h-16 w-16 border-2 border-white/20",children:[e.jsx(Ss,{src:T||void 0}),e.jsx(ds,{className:"bg-gradient-to-br from-blue-600 to-cyan-500 text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()})]}),e.jsx("button",{onClick:()=>B(!0),className:"absolute -bottom-1 -right-1 bg-blue-600 hover:bg-blue-700 p-1.5 rounded-full border border-white shadow transition",title:"Alterar imagem",children:e.jsx(Za,{className:"h-3 w-3 text-white"})})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-white font-bold text-lg truncate",children:o.name}),e.jsx("p",{className:"text-blue-300 text-xs truncate",children:o.email}),e.jsx("p",{className:"text-blue-200 text-xs mt-1",children:Ke(o.type)})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto app-brand-soft",children:[I&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-4 max-w-xs w-full mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-semibold text-sm",children:"Alterar imagem"}),e.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700",title:"Fechar",children:e.jsx(ye,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-6 text-center hover:border-gray-400 transition-colors",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Arraste uma imagem ou clique para escolher"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>B(!1),className:"flex-1 rounded border border-gray-300 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),e.jsx("button",{className:"flex-1 rounded bg-blue-600 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors",children:"Salvar"})]})]})}),e.jsxs(xa,{value:O,onValueChange:f,className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"sticky top-0 z-40 flex-shrink-0 border-b border-slate-200 bg-white px-6 py-3 overflow-x-auto",children:e.jsxs(ha,{className:"grid w-max grid-cols-9 gap-1 bg-transparent p-0 h-auto",children:[e.jsx(ge,{value:"visao-geral",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Visão Geral"}),e.jsx(ge,{value:"dados",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Dados"}),e.jsx(ge,{value:"usuarios",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Usuários"}),e.jsx(ge,{value:"redes-sociais",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Redes Sociais"}),e.jsx(ge,{value:"plano",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Plano"}),e.jsx(ge,{value:"termos",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Termos"}),e.jsx(ge,{value:"projetos",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Projetos"}),e.jsx(ge,{value:"tarefas",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Tarefas"}),e.jsx(ge,{value:"log",className:"px-4 py-2 text-xs font-medium rounded-lg border border-transparent data-[state=active]:bg-blue-100 data-[state=active]:text-blue-700 data-[state=active]:border-blue-300 hover:bg-slate-100",children:"Log"})]})}),e.jsx(je,{value:"visao-geral",className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Total de tarefas contratadas"}),e.jsx("div",{className:"text-3xl font-bold text-slate-900 mt-2",children:"1.247"}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Tarefas vinculadas à empresa"})]}),e.jsx("div",{className:"p-3 bg-white rounded-lg border border-blue-200",children:e.jsx(Cs,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Pontuação total das tarefas"}),e.jsx("div",{className:"text-3xl font-bold text-slate-900 mt-2",children:"8.430 pts"}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Soma da pontuação dos projetos"})]}),e.jsx("div",{className:"p-3 bg-white rounded-lg border border-purple-200",children:e.jsx(Ys,{className:"h-6 w-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Economia gerada"}),e.jsx("div",{className:"text-3xl font-bold text-slate-900 mt-2",children:"R$ 124.500,00"}),e.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Economia acumulada dos projetos"})]}),e.jsx("div",{className:"p-3 bg-white rounded-lg border border-green-200",children:e.jsx(us,{className:"h-6 w-6 text-green-600"})})]})})]}),e.jsx(Be,{type:"single",collapsible:!0,defaultValue:"estatisticas",className:"space-y-0",children:e.jsxs(te,{value:"estatisticas",className:"border border-0",children:[e.jsx(le,{className:"bg-slate-50 hover:bg-slate-100 dark:bg-slate-900/30 dark:hover:bg-slate-900/50 rounded-lg px-3 py-2 transition-colors text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oa,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-300",children:"Estatísticas"})]})}),e.jsx(re,{className:"pt-2 pb-0",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsxs(C,{className:"p-2 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-950/20 dark:to-emerald-900/10 border-emerald-200/50 dark:border-emerald-800/30 shadow-none",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx(Cs,{className:"h-3.5 w-3.5 text-emerald-600 dark:text-emerald-400"}),e.jsx("span",{className:"text-xs font-medium text-emerald-900 dark:text-emerald-300",children:"Taxa de Crescimento"})]}),e.jsx("p",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-300",children:"12.5%"})]}),e.jsxs(C,{className:"p-2 bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/20 dark:to-blue-900/10 border-blue-200/50 dark:border-blue-800/30 shadow-none",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx(Xe,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-xs font-medium text-blue-900 dark:text-blue-300",children:"Total de Usuários"})]}),e.jsx("p",{className:"text-lg font-bold text-blue-700 dark:text-blue-300",children:o.users_online||0})]}),e.jsxs(C,{className:"p-2 bg-gradient-to-br from-violet-50 to-violet-100/50 dark:from-violet-950/20 dark:to-violet-900/10 border-violet-200/50 dark:border-violet-800/30 shadow-none",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx(ns,{className:"h-3.5 w-3.5 text-violet-600 dark:text-violet-400"}),e.jsx("span",{className:"text-xs font-medium text-violet-900 dark:text-violet-300",children:"Ativos 90d"})]}),e.jsx("p",{className:"text-lg font-bold text-violet-700 dark:text-violet-300",children:"45"})]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Últimos usuários que acessaram"}),e.jsx("div",{className:"space-y-3",children:G.length>0?G.map(s=>e.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-slate-100 last:border-0 last:pb-0",children:[e.jsxs(os,{className:"h-8 w-8",children:[e.jsx(Ss,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.avatar}`}),e.jsx(ds,{children:s.avatar})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:s.name}),e.jsx("p",{className:"text-xs text-slate-500",children:s.time})]})]},s.id)):e.jsx("p",{className:"text-sm text-slate-500",children:"Nenhum acesso recente"})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200 flex flex-col items-center justify-center",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-4 w-full",children:"Usuários online agora"}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[e.jsx("div",{className:"text-5xl font-bold text-blue-600",children:o.users_online}),e.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Usuários ativos no momento"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-slate-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-4",children:"Módulos mais usados"}),e.jsx(ja,{width:"100%",height:200,children:e.jsxs(va,{data:L,layout:"vertical",margin:{top:0,right:30,left:80,bottom:0},children:[e.jsx(fa,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),e.jsx(Na,{type:"number",tick:{fontSize:10}}),e.jsx(ya,{dataKey:"nome",type:"category",tick:{fontSize:9},width:75}),e.jsx(wa,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"4px",color:"#fff",fontSize:"11px"}}),e.jsx(Ca,{dataKey:"uso",fill:"#3b82f6",radius:2})]})})]}),e.jsx(Be,{type:"multiple",defaultValue:["info-principais"],className:"space-y-3",children:e.jsxs(te,{value:"info-principais",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Informações Principais"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600",children:"ID:"}),e.jsx("code",{className:"bg-slate-100 px-2 py-1 rounded text-xs font-mono",children:o.id})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600",children:"Tipo:"}),e.jsx(v,{className:"bg-blue-600",children:Ke(o.type)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600",children:"Status:"}),e.jsx(v,{variant:Qe(o.status),children:we(o.status)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-slate-600",children:"Data de Cadastro:"}),e.jsx("span",{className:"text-xs font-medium text-slate-900",children:new Date(o.created_at).toLocaleDateString("pt-BR")})]})]})})]})})]})}),e.jsxs(je,{value:"dados",className:"space-y-4 mt-0 px-6 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-white z-10 pb-4 -mx-6 px-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Dados da Empresa"}),e.jsx("div",{className:"flex items-center gap-2",children:c?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{onClick:Ge,size:"sm",disabled:k,className:"bg-emerald-600 hover:bg-emerald-700",children:[k?e.jsx(Ns,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Ts,{className:"h-4 w-4 mr-2"}),k?"Salvando...":"Salvar"]}),e.jsxs(n,{onClick:ss,size:"sm",variant:"outline",children:[e.jsx(et,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]}):e.jsxs(n,{onClick:Fe,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Editar"]})})]}),e.jsxs(Be,{type:"multiple",defaultValue:["cadastrais"],className:"space-y-3",children:[e.jsxs(te,{value:"cadastrais",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Dados Cadastrais"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Razão Social"}),c?e.jsx(m,{value:g("legal_name"),onChange:s=>Q("legal_name",s.target.value),className:"border-slate-300",placeholder:"Digite a razão social"}):e.jsx("div",{className:"font-medium text-slate-900",children:g("legal_name")||o.name||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Nome Fantasia"}),c?e.jsx(m,{value:g("trade_name")||"",onChange:s=>Q("trade_name",s.target.value),className:"border-slate-300",placeholder:"Digite o nome fantasia"}):e.jsx("div",{className:"font-medium text-slate-900",children:g("trade_name")||o.name||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"CNPJ"}),c?e.jsx(m,{value:g("document")||"",onChange:s=>Q("document",s.target.value),className:"border-slate-300 font-mono",placeholder:"00.000.000/0000-00",disabled:!0}):e.jsx("code",{className:"bg-slate-100 px-3 py-2 rounded text-sm font-mono font-bold text-slate-900",children:o.document||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Inscrição Estadual"}),c?e.jsx(m,{value:g("ie")||"",onChange:s=>Q("ie",s.target.value),className:"border-slate-300",placeholder:"IE"}):e.jsx("div",{className:"font-medium text-slate-900",children:g("ie")||"—"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Status da Empresa"}),c?e.jsx(Fs,{value:g("status")||"active",onChange:s=>Q("status",s),showLabel:!1}):e.jsx(v,{variant:Qe(o.status),children:we(o.status)})]})]})})]}),e.jsxs(te,{value:"contato",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5 text-amber-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Contato"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Email Principal"}),c?e.jsx(m,{type:"email",value:g("email"),onChange:s=>Q("email",s.target.value),className:"border-slate-300",placeholder:"email@example.com"}):e.jsx("div",{className:"font-medium text-slate-900",children:g("email")||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Telefone Principal"}),c?e.jsx(m,{type:"tel",value:g("phone")||"",onChange:s=>Q("phone",s.target.value),className:"border-slate-300",placeholder:"(00) 0000-0000"}):e.jsx("div",{className:"font-medium text-slate-900",children:g("phone")||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Telefone Secundário"}),c?e.jsx(m,{type:"tel",value:g("phone_secondary")||"",onChange:s=>Q("phone_secondary",s.target.value),className:"border-slate-300",placeholder:"(00) 0000-0000"}):e.jsx("div",{className:"font-medium text-slate-900",children:g("phone_secondary")||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"WhatsApp"}),c?e.jsx(m,{type:"tel",value:g("whatsapp")||"",onChange:s=>Q("whatsapp",s.target.value),className:"border-slate-300",placeholder:"(00) 00000-0000"}):e.jsx("div",{className:"font-medium text-slate-900",children:g("whatsapp")||"—"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Site"}),c?e.jsx(m,{type:"url",value:g("website")||"",onChange:s=>Q("website",s.target.value),className:"border-slate-300",placeholder:"https://exemplo.com.br"}):e.jsx("div",{className:"font-medium text-slate-900",children:g("website")||"—"})]})]})})]}),e.jsxs(te,{value:"endereco",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Endereço"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"CEP"}),c?e.jsx(m,{value:g("zip_code")||"",onChange:s=>Q("zip_code",s.target.value),className:"border-slate-300 font-mono",placeholder:"00000-000"}):e.jsx("code",{className:"bg-slate-100 px-3 py-2 rounded text-sm font-mono font-bold text-slate-900",children:o.zip_code||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Rua"}),c?e.jsx(m,{value:g("street")||"",onChange:s=>Q("street",s.target.value),className:"border-slate-300",placeholder:"Nome da rua"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.street||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Número"}),c?e.jsx(m,{value:g("number")||"",onChange:s=>Q("number",s.target.value),className:"border-slate-300",placeholder:"123"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.number||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Complemento"}),c?e.jsx(m,{value:g("complement")||"",onChange:s=>Q("complement",s.target.value),className:"border-slate-300",placeholder:"Apto 123, Bloco A"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.complement||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Bairro"}),c?e.jsx(m,{value:g("neighborhood")||"",onChange:s=>Q("neighborhood",s.target.value),className:"border-slate-300",placeholder:"Nome do bairro"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.neighborhood||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Cidade"}),c?e.jsx(m,{value:g("city")||"",onChange:s=>Q("city",s.target.value),className:"border-slate-300",placeholder:"São Paulo"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.city||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Estado"}),c?e.jsx(m,{value:g("state")||"",onChange:s=>Q("state",s.target.value.toUpperCase()),className:"border-slate-300",placeholder:"SP",maxLength:2}):e.jsx("div",{className:"font-medium text-slate-900",children:o.state||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"País"}),c?e.jsx(m,{value:g("country")||"Brasil",onChange:s=>Q("country",s.target.value),className:"border-slate-300",placeholder:"Brasil"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.country||"Brasil"})]})]})})]}),e.jsxs(te,{value:"financeiro",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-5 w-5 text-red-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Financeiro"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Chave PIX"}),c?e.jsx(m,{value:g("pix_key")||"",onChange:s=>Q("pix_key",s.target.value),className:"border-slate-300",placeholder:"Chave PIX"}):e.jsx("code",{className:"bg-slate-100 px-3 py-2 rounded text-sm font-mono font-bold text-slate-900",children:o.pix_key||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Tipo de Chave PIX"}),c?e.jsxs("select",{value:g("pix_type")||"",onChange:s=>Q("pix_type",s.target.value),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-medium",children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"cpf",children:"CPF"}),e.jsx("option",{value:"cnpj",children:"CNPJ"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"phone",children:"Telefone"}),e.jsx("option",{value:"random",children:"Aleatória"})]}):e.jsx("div",{className:"font-medium text-slate-900",children:o.pix_type||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Banco"}),c?e.jsx(m,{value:g("bank_name")||"",onChange:s=>Q("bank_name",s.target.value),className:"border-slate-300",placeholder:"Nome do banco"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.bank_name||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Agência"}),c?e.jsx(m,{value:g("bank_agency")||"",onChange:s=>Q("bank_agency",s.target.value),className:"border-slate-300",placeholder:"0000"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.bank_agency||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Conta"}),c?e.jsx(m,{value:g("bank_account")||"",onChange:s=>Q("bank_account",s.target.value),className:"border-slate-300",placeholder:"000000-0"}):e.jsx("div",{className:"font-medium text-slate-900",children:o.bank_account||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Tipo de Conta"}),c?e.jsxs("select",{value:g("bank_account_type")||"",onChange:s=>Q("bank_account_type",s.target.value),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-medium",children:[e.jsx("option",{value:"",children:"Selecione"}),e.jsx("option",{value:"corrente",children:"Corrente"}),e.jsx("option",{value:"poupanca",children:"Poupança"})]}):e.jsx("div",{className:"font-medium text-slate-900",children:o.bank_account_type||"—"})]})]})})]}),e.jsxs(te,{value:"adicionais",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Informações Adicionais"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Observações Administrativas"}),c?e.jsx("textarea",{value:g("admin_notes")||"",onChange:s=>Q("admin_notes",s.target.value),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-medium min-h-20",placeholder:"Notas visíveis para admin"}):e.jsx("div",{className:"font-medium text-slate-900 whitespace-pre-wrap",children:o.admin_notes||"—"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Notas Internas (Visíveis apenas para admin)"}),c?e.jsx("textarea",{value:g("internal_notes")||"",onChange:s=>Q("internal_notes",s.target.value),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-medium min-h-20",placeholder:"Notas internas do sistema"}):e.jsx("div",{className:"font-medium text-slate-900 whitespace-pre-wrap",children:o.internal_notes||"—"})]})]})})]})]})]}),e.jsx(je,{value:"usuarios",className:"flex-1 overflow-y-auto p-0",children:e.jsx(vt,{companyId:o.id,companyName:o.name})}),e.jsx(je,{value:"redes-sociais",className:"flex-1 overflow-y-auto px-6 py-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Redes Sociais da Empresa"}),c?e.jsx(Pa,{socialLinks:g("social_links")||[],onChange:s=>Q("social_links",s),isEditMode:!0}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(n,{onClick:Fe,className:"gap-2",size:"sm",children:[e.jsx(Ms,{className:"h-4 w-4"}),"Editar"]})}),o.social_links&&o.social_links.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.social_links.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 border border-slate-200 rounded-lg hover:border-slate-300 transition-colors",children:[e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-blue-600 hover:underline text-sm truncate font-medium",children:s.platform}),e.jsx(v,{variant:"outline",className:"text-xs flex-shrink-0",children:"Ativo"})]},s.id))}):e.jsx(C,{className:"border border-dashed border-slate-300 bg-slate-50/50",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx($a,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),e.jsx("p",{className:"text-slate-500 font-medium mb-2",children:"Nenhuma rede social adicionada"}),e.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"Adicione redes sociais para aumentar a visibilidade da sua empresa"}),e.jsxs(n,{onClick:Fe,size:"sm",className:"gap-2",children:[e.jsx(rs,{className:"h-4 w-4"}),"Adicionar Redes Sociais"]})]})})]})]}),c&&e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-slate-200",children:[e.jsx(n,{variant:"outline",onClick:ss,disabled:k,children:"Cancelar"}),e.jsxs(n,{onClick:Ge,disabled:k,className:"gap-2",children:[k&&e.jsx(Ns,{className:"h-4 w-4 animate-spin"}),"Salvar"]})]})]})}),e.jsxs(je,{value:"plano",className:"flex-1 overflow-y-auto px-6 py-6",children:[e.jsxs(Be,{type:"multiple",defaultValue:["admin","credito","account","pagamento","carteira","nf"],className:"space-y-3",children:[e.jsxs(te,{value:"admin",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"h-5 w-5 text-amber-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Ações Administrativas"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(n,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>Te("edit-plan"),children:"Editar Plano"}),e.jsx(n,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>Te("change-account"),children:"Alterar Tipo Conta"}),e.jsx(n,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>Te("force-charge"),children:"Forçar Cobrança"}),e.jsx(n,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>Te("generate-boleto"),children:"Gerar Boleto"})]})})]}),e.jsxs(te,{value:"credito",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Plano de Crédito"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsxs(C,{className:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950/30 dark:to-blue-900/30 border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Plano Atual"}),e.jsx("p",{className:"text-xl font-bold text-blue-600 capitalize",children:o.partner_level||"Não definido"})]}),e.jsxs(v,{className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400 text-xs",children:[e.jsx(ps,{className:"h-2.5 w-2.5 mr-1"}),"Ativo"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4 pt-4 border-t border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Créditos Disponíveis"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:"10,000"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Créditos Utilizados"}),e.jsx("p",{className:"text-lg font-bold text-orange-600",children:"3,200"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Créditos Restantes"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:"6,800"})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Uso do Plano"}),e.jsx("span",{className:"text-xs font-semibold text-blue-600",children:"32%"})]}),e.jsx(Wa,{value:32,className:"h-2"})]})]})})]}),e.jsxs(te,{value:"account",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Tipo de Conta"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Company Dependente","Company Independente","Agency","Partner"].map(s=>{const M=o.type==="company"&&o.account_type==="independent"?s==="Company Independente":o.type==="company"&&o.account_type!=="independent"?s==="Company Dependente":o.type==="agency"?s==="Agency":o.type==="nomad"?s==="Partner":!1;return e.jsx(C,{className:`p-3 cursor-pointer transition-all border-2 ${M?"border-blue-600 bg-blue-50 dark:bg-blue-950/30":"border-slate-200 dark:border-slate-800 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold",children:s}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s==="Company Dependente"&&"Empresa vinculada a outra entidade",s==="Company Independente"&&"Empresa operacional independente",s==="Agency"&&"Agência de serviços",s==="Partner"&&"Parceiro da plataforma"]})]}),M&&e.jsx(ps,{className:"h-4 w-4 text-blue-600 flex-shrink-0"})]})},s)})})})]}),e.jsxs(te,{value:"pagamento",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-5 w-5 text-emerald-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Métodos de Pagamento"})]})}),e.jsxs(re,{className:"px-4 py-4 border-t border-slate-100 space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(C,{className:`p-3 cursor-pointer transition-all border-2 ${j==="pix"?"border-blue-600 bg-blue-50 dark:bg-blue-950/30":"border-slate-200 dark:border-slate-800 hover:border-slate-300"}`,onClick:()=>Ae("pix"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:e.jsx(us,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Pix"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Transferência instantânea"})]})]}),j==="pix"&&e.jsx(v,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:"Padrão"})]})}),e.jsx(C,{className:`p-3 cursor-pointer transition-all border-2 ${j==="boleto"?"border-blue-600 bg-blue-50 dark:bg-blue-950/30":"border-slate-200 dark:border-slate-800 hover:border-slate-300"}`,onClick:()=>Ae("boleto"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:e.jsx(zs,{className:"h-4 w-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Boleto"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Até 3 dias úteis"})]})]}),j==="boleto"&&e.jsx(v,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:"Padrão"})]})}),e.jsx(C,{className:`p-3 cursor-pointer transition-all border-2 ${j==="allkoins"?"border-blue-600 bg-blue-50 dark:bg-blue-950/30":"border-slate-200 dark:border-slate-800 hover:border-slate-300"}`,onClick:()=>Ae("allkoins"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:e.jsx(aa,{className:"h-4 w-4 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Allkoins"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Saldo em créditos"})]})]}),j==="allkoins"&&e.jsx(v,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:"Padrão"})]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600",children:"Cartões de Crédito/Débito"}),e.jsxs(n,{onClick:()=>oe(!0),size:"sm",className:"h-8 gap-1 bg-blue-600 hover:bg-blue-700",children:[e.jsx(rs,{className:"h-4 w-4"}),"Novo Cartão"]})]}),ee.length===0?e.jsxs("div",{className:"text-center py-8 bg-slate-50 rounded-lg border border-dashed border-slate-300",children:[e.jsx(Is,{className:"h-8 w-8 text-slate-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum cartão cadastrado"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ee.map(s=>e.jsxs("div",{className:`relative h-56 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group ${j===`card-${s.id}`?"ring-2 ring-blue-500":""}`,style:{background:j===`card-${s.id}`?"linear-gradient(135deg, #3b82f6 0%, #1e40af 100%)":"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white rounded-full blur-3xl"})}),e.jsxs("div",{className:"relative h-full p-6 flex flex-col justify-between text-white",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest",children:"BANCO"}),e.jsx("div",{className:"text-lg font-bold",children:s.brand})]}),j===`card-${s.id}`&&e.jsx("div",{className:"bg-white bg-opacity-20 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold",children:"Padrão"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest mb-2",children:"Número"}),e.jsxs("div",{className:"text-2xl font-mono font-bold tracking-widest",children:["•••• •••• •••• ",s.lastFour]})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest",children:"Titular"}),e.jsx("div",{className:"text-sm font-bold",children:s.holderName})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs font-semibold opacity-75 uppercase tracking-widest",children:"Validade"}),e.jsx("div",{className:"text-sm font-bold",children:s.expiry})]})]})]}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex items-end justify-center pb-4 opacity-0 group-hover:opacity-100",children:e.jsxs("div",{className:"flex gap-2",children:[j!==`card-${s.id}`&&e.jsx(n,{onClick:()=>Ce(s.id),size:"sm",className:"bg-white text-slate-900 hover:bg-blue-100 font-semibold h-9 px-4",children:"Definir Padrão"}),e.jsx(n,{onClick:()=>hs(s.id),size:"sm",variant:"outline",className:"bg-white text-slate-900 hover:bg-red-100 h-9 px-3",children:e.jsx($e,{className:"h-4 w-4"})})]})})]},s.id))})]})]})]}),e.jsxs(te,{value:"carteira",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-5 w-5 text-cyan-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Carteira da Empresa"})]})}),e.jsxs(re,{className:"px-4 py-4 border-t border-slate-100 space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 via-cyan-500 to-teal-500 p-6 rounded-xl border border-blue-300 shadow-lg text-white",children:[e.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide block mb-2 opacity-90",children:"Saldo Disponível"}),e.jsxs("div",{className:"text-3xl font-bold mb-1",children:["R$ ",K.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs opacity-75",children:"Pronto para usar"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(n,{onClick:()=>Ze("add"),className:"bg-emerald-600 hover:bg-emerald-700 text-white font-semibold gap-2",children:[e.jsx(rs,{className:"h-4 w-4"}),"Adicionar Saldo"]}),e.jsxs(n,{onClick:()=>Ze("remove"),className:"bg-red-600 hover:bg-red-700 text-white font-semibold gap-2",children:[e.jsx($e,{className:"h-4 w-4"}),"Reduzir Saldo"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase tracking-wide",children:"Últimas Movimentações"}),e.jsxs("div",{className:"space-y-2 bg-slate-50 p-3 rounded border border-slate-200 max-h-48 overflow-y-auto",children:[b.slice(0,5).map(s=>e.jsxs("div",{className:"flex justify-between items-center text-xs border-b border-slate-200 pb-2 last:border-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-900",children:s.reason}),e.jsx("div",{className:"text-slate-500 text-xs",children:new Date(s.date).toLocaleString("pt-BR")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`font-bold ${s.type==="credit"?"text-emerald-600":"text-red-600"}`,children:[s.type==="credit"?"+":"-"," R$ ",s.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"text-slate-500 text-xs",children:["Saldo: R$ ",s.balanceAfter.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]},s.id)),b.length===0&&e.jsx("div",{className:"text-center py-4 text-slate-500 text-xs",children:"Nenhuma movimentação"})]})]})]})]}),e.jsxs(te,{value:"nf",className:"border border-slate-200 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"px-4 py-3 hover:bg-slate-50 [&[data-state=open]]:bg-slate-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-indigo-600"}),e.jsx("span",{className:"font-semibold text-slate-900",children:"Notas Fiscais e Comprovantes"})]})}),e.jsx(re,{className:"px-4 py-4 border-t border-slate-100",children:e.jsx("div",{className:"space-y-2",children:R.map(s=>{const M={pix:"Pix",boleto:"Boleto",cartao:"Cartão",allkoins:"Allkoins"}[s.method],Z={pix:"bg-purple-50 dark:bg-purple-950/20 border-purple-200",boleto:"bg-orange-50 dark:bg-orange-950/20 border-orange-200",cartao:"bg-blue-50 dark:bg-blue-950/20 border-blue-200",allkoins:"bg-yellow-50 dark:bg-yellow-950/20 border-yellow-200"}[s.method],Ne={Pago:"bg-green-100 text-green-800",Pendente:"bg-yellow-100 text-yellow-800",Cancelado:"bg-red-100 text-red-800"}[s.status];return e.jsxs(C,{className:`p-3 border-2 ${Z}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[s.type==="nf"?e.jsx(Ue,{className:"h-4 w-4 text-indigo-600"}):e.jsx(ys,{className:"h-4 w-4 text-green-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold",children:[s.type==="nf"?"Nota Fiscal":"Comprovante"," - ",M]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(s.date).toLocaleDateString("pt-BR")," • R$ ",s.amount.toLocaleString("pt-BR")]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:Ne,children:s.status}),s.type==="nf"&&e.jsxs(e.Fragment,{children:[e.jsx(n,{size:"sm",variant:"outline",className:"h-7 w-7 p-0",title:"Visualizar",children:e.jsx(Ee,{className:"h-3.5 w-3.5"})}),e.jsx(n,{size:"sm",variant:"outline",className:"h-7 w-7 p-0",title:"Baixar",children:e.jsx(zs,{className:"h-3.5 w-3.5"})})]}),s.type==="comprovante"&&e.jsx(n,{size:"sm",variant:"outline",className:"h-7 w-7 p-0",title:"Comprovante",children:e.jsx(ys,{className:"h-3.5 w-3.5"})})]})]}),s.type==="comprovante"&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2 italic",children:"Pagamentos com Allkoins não geram nota fiscal."})]},s.id)})})})]})]}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:be==="add"?"Adicionar Saldo":"Reduzir Saldo"}),e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase",children:"Valor (R$)"}),e.jsx(m,{type:"number",placeholder:"0.00",value:N,onChange:s=>fe(s.target.value),className:"border-slate-300",step:"0.01",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-600 block mb-2 uppercase",children:"Motivo (obrigatório)"}),e.jsx(m,{placeholder:"Descreva o motivo da operação",value:ne,onChange:s=>Pe(s.target.value),className:"border-slate-300"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",onClick:()=>ve(!1),className:"flex-1",children:"Cancelar"}),e.jsx(n,{onClick:Me,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Próximo"})]})]})})}),ms&&Y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Confirmar Movimentação"}),e.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg space-y-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Tipo:"}),e.jsx("span",{className:"font-semibold",children:be==="add"?"Crédito":"Débito"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Valor:"}),e.jsxs("span",{className:`font-semibold ${be==="add"?"text-emerald-600":"text-red-600"}`,children:[be==="add"?"+":"-"," R$ ",parseFloat(N).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600",children:"Motivo:"}),e.jsx("span",{className:"font-semibold",children:ne})]}),e.jsxs("div",{className:"border-t border-slate-200 pt-2 mt-2 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Saldo após:"}),e.jsxs("span",{className:"text-blue-600 font-bold",children:["R$ ",(be==="add"?K+parseFloat(N):K-parseFloat(N)).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",onClick:()=>Ye(!1),className:"flex-1",children:"Voltar"}),e.jsx(n,{onClick:Je,disabled:Ve,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white",children:Ve?e.jsxs(e.Fragment,{children:[e.jsx(Ns,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Confirmar"})]})]})})}),he==="edit-plan"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Editar Plano de Crédito"}),e.jsx("div",{className:"space-y-3 mb-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold mb-1 block",children:"Novo Plano"}),e.jsxs("select",{value:t.creditPlan,onChange:s=>p({...t,creditPlan:s.target.value}),className:"w-full px-3 py-2 border rounded text-sm",children:[e.jsx("option",{value:"basic",children:"Básico"}),e.jsx("option",{value:"pro",children:"Pro"}),e.jsx("option",{value:"enterprise",children:"Enterprise"})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",onClick:()=>ie(null),className:"flex-1",children:"Cancelar"}),e.jsx(n,{onClick:We,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Confirmar"})]})]})})}),he==="change-account"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Alterar Tipo de Conta"}),e.jsx("div",{className:"space-y-2 mb-4",children:["Company Dependente","Company Independente","Agency","Partner"].map(s=>e.jsxs("label",{className:"flex items-center gap-3 p-2 border rounded cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"account-type",checked:t.accountType===s,onChange:()=>p({...t,accountType:s}),className:"cursor-pointer"}),e.jsx("span",{className:"text-sm font-medium",children:s})]},s))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",onClick:()=>ie(null),className:"flex-1",children:"Cancelar"}),e.jsx(n,{onClick:We,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Confirmar"})]})]})})}),he==="force-charge"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Forçar Cobrança"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Tem certeza que deseja forçar a cobrança agora? Esta ação é irreversível."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",onClick:()=>ie(null),className:"flex-1",children:"Cancelar"}),e.jsx(n,{onClick:We,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:"Confirmar Cobrança"})]})]})})}),he==="generate-boleto"&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Gerar Boleto"}),e.jsx("div",{className:"space-y-3 mb-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold mb-1 block",children:"Data de Vencimento"}),e.jsx(m,{type:"date",value:t.dueDate,onChange:s=>p({...t,dueDate:s.target.value}),className:"text-sm"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",onClick:()=>ie(null),className:"flex-1",children:"Cancelar"}),e.jsx(n,{onClick:De,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Gerar Boleto"})]})]})})}),se&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsx(C,{className:"w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Adicionar Cartão"}),e.jsx("button",{onClick:()=>oe(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ye,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 block mb-1",children:"Número do Cartão"}),e.jsx(m,{value:h.number,onChange:s=>$({...h,number:s.target.value.slice(0,16)}),placeholder:"1234 5678 9012 3456",className:"text-sm h-8"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 block mb-1",children:"Validade"}),e.jsx(m,{value:h.expiry,onChange:s=>$({...h,expiry:s.target.value.slice(0,5)}),placeholder:"MM/YY",className:"text-sm h-8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 block mb-1",children:"CVV"}),e.jsx(m,{value:h.cvv,onChange:s=>$({...h,cvv:s.target.value.slice(0,4)}),placeholder:"123",className:"text-sm h-8",type:"password"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 block mb-1",children:"Nome do Titular"}),e.jsx(m,{value:h.holderName,onChange:s=>$({...h,holderName:s.target.value}),placeholder:"João da Silva",className:"text-sm h-8"})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[e.jsx(n,{variant:"outline",onClick:()=>oe(!1),className:"flex-1 text-sm h-8",children:"Cancelar"}),e.jsx(n,{onClick:xs,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm h-8",children:"Adicionar"})]})]})]})})})]}),e.jsx(je,{value:"termos",className:"flex-1 overflow-y-auto px-6 py-6",children:e.jsx(Nt,{company:o})}),e.jsx(je,{value:"projetos",className:"flex-1 overflow-y-auto px-6 py-6",children:e.jsx(wt,{company:o})}),e.jsx(je,{value:"tarefas",className:"flex-1 overflow-y-auto",children:e.jsx(Ct,{company:o})}),e.jsx(je,{value:"log",className:"flex-1 overflow-y-auto",children:e.jsx(St,{company:o})})]})]})]})}),x&&E==="confirm"&&e.jsx("div",{className:"z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm fixed inset-0",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full mx-4 shadow-2xl p-8 text-center space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-100 to-blue-50 flex items-center justify-center shadow-lg",children:e.jsx(st,{className:"h-10 w-10 text-blue-600"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Migrar para Partner"}),e.jsxs("p",{className:"text-gray-600 leading-relaxed text-base",children:["Deseja realmente migrar ",e.jsx("strong",{className:"text-gray-900",children:o?.name})," para o tipo de conta ",e.jsx("strong",{className:"text-gray-900",children:"Partner"}),"?"]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 p-5 rounded-xl",children:e.jsx("p",{className:"text-sm text-blue-900 leading-relaxed font-medium",children:"Esta ação irá desbloquear funcionalidades exclusivas para parceiros da plataforma."})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(n,{className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold h-12 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",onClick:Le,children:"Cancelar"}),e.jsx(n,{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold h-12 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg",onClick:Ie,children:"Sim, migrar!"})]})]})}),x&&E==="leader"&&e.jsx("div",{className:"z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm fixed inset-0",children:e.jsx("div",{className:"bg-white rounded-3xl max-w-md w-full mx-4 shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ys,{className:"h-6 w-6 text-blue-600 fill-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-blue-600",children:"Convidar para Partner Leader"})]}),e.jsx("button",{onClick:Le,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ye,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900 leading-relaxed",children:["Deseja também convidar ",e.jsx("strong",{children:o?.name})," para fazer parte do ",e.jsx("strong",{children:"Programa Partner Leaders"}),"?"]})}),e.jsxs("div",{className:"border-l-4 border-blue-600 pl-4 space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(aa,{className:"h-5 w-5 text-blue-600"}),"Benefícios como Partner Leader:"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ps,{className:"h-5 w-5 text-green-500 mt-0.5 shrink-0"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Receber ",e.jsx("strong",{className:"text-blue-600",children:"comissão"})," por cada venda de uma ",e.jsx("strong",{children:"Agência liderada"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ps,{className:"h-5 w-5 text-green-500 mt-0.5 shrink-0"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Fazer parte do ",e.jsx("strong",{className:"text-blue-600",children:"time de elite"})," da plataforma"]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg flex items-start gap-3",children:[e.jsx(gs,{className:"h-5 w-5 text-blue-600 mt-0.5 shrink-0"}),e.jsxs("p",{className:"text-sm text-blue-900",children:["A agência receberá um ",e.jsx("strong",{children:"convite por e-mail"})," e ",e.jsx("strong",{children:"notificação no sistema"})]})]}),e.jsxs("div",{className:"space-y-3 pt-4",children:[e.jsxs(n,{className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold h-12 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg text-base",onClick:_e,children:[e.jsx(ps,{className:"h-5 w-5 mr-2"}),"Sim, convidar!"]}),e.jsxs(n,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold h-12 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg text-base",onClick:es,children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Não, apenas migrar"]}),e.jsx(n,{className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold h-12 rounded-xl border-0 transition-all duration-200 shadow-md hover:shadow-lg text-base",onClick:Le,children:"Cancelar"})]})]})})})]})}const At=[{id:1,name:"Acme Corporation",type:"company",email:"contact@acme.com",phone:"+1 234 567 8900",document:"12.345.678/0001-90",location:"São Paulo, SP",account_type:"Premium",partner_level:"Gold",status:"active",users_count:45,users_online:12,projects_count:23,created_at:"2023-01-15",mau:890,dau:245,bitrix_id:"BT123456",asaas_id:"AS789012"},{id:2,name:"Tech Solutions",type:"agency",email:"info@techsolutions.com",phone:"+1 234 567 8901",document:"98.765.432/0001-10",location:"Rio de Janeiro, RJ",account_type:"Standard",status:"active",users_count:28,users_online:8,projects_count:15,created_at:"2023-02-20",mau:560,dau:180}];function ll(){const[_,U]=l.useState(At),[o,V]=l.useState(_),[q,w]=l.useState(""),[O,f]=l.useState(!1),[x,y]=l.useState(!1),[E,P]=l.useState(!1),[T,d]=l.useState(null),[I,B]=l.useState(10),[F,H]=l.useState(1),[c,J]=l.useState(!1),[a,S]=l.useState({name:"",cnpj:"",email:"",phone:"",whatsapp:"",types:[],statuses:[],registrationDateFrom:"",registrationDateTo:"",lastAccessDateFrom:"",lastAccessDateTo:""}),[k,A]=l.useState([]),[j,D]=l.useState(null),[ee,X]=l.useState(!1),[se,oe]=l.useState(""),[h,$]=l.useState(!1),[he,ie]=l.useState(!1),[t,p]=l.useState(!1);l.useEffect(()=>{let r=_;q&&(r=r.filter(N=>N.name.toLowerCase().includes(q.toLowerCase())||N.email.toLowerCase().includes(q.toLowerCase())||N.document.includes(q))),a.name&&(r=r.filter(N=>N.name.toLowerCase().includes(a.name.toLowerCase()))),a.cnpj&&(r=r.filter(N=>N.document.includes(a.cnpj))),a.email&&(r=r.filter(N=>N.email.toLowerCase().includes(a.email.toLowerCase()))),a.phone&&(r=r.filter(N=>N.phone.includes(a.phone))),a.types.length>0&&(r=r.filter(N=>a.types.includes(N.type))),a.statuses.length>0&&(r=r.filter(N=>a.statuses.includes(N.status))),a.registrationDateFrom&&(r=r.filter(N=>new Date(N.created_at)>=new Date(a.registrationDateFrom))),a.registrationDateTo&&(r=r.filter(N=>new Date(N.created_at)<=new Date(a.registrationDateTo))),V(r),H(1)},[q,_,a]);const R=o.slice((F-1)*I,F*I),z=Math.ceil(o.length/I),K=()=>{const r=[],fe=Math.floor(2.5);if(z<=5)for(let ne=1;ne<=z;ne++)r.push(ne);else if(F<=fe+1){for(let ne=1;ne<=5;ne++)r.push(ne);z>5&&r.push("...")}else if(F>=z-fe){r.push("...");for(let ne=z-5+1;ne<=z;ne++)r.push(ne)}else{r.push("...");for(let ne=F-fe;ne<=F+fe;ne++)r.push(ne);r.push("...")}return r},pe={total:_.length,active:_.filter(r=>r.status==="active").length,totalUsers:_.reduce((r,N)=>r+N.users_count,0),totalProjects:_.reduce((r,N)=>r+N.projects_count,0)},b=r=>{console.log("Creating company:",r),f(!1)},ue=r=>{d(r),P(!0)},Y=r=>{console.log("Saving company:",r),y(!1),d(null)},ve=r=>{confirm("Tem certeza que deseja excluir esta empresa?")&&U(_.filter(N=>N.id!==r))},be=r=>({all:"Todos",company:"Empresa",agency:"Agência",nomad:"Nômade"})[r];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(at,{title:e.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Empresas"}),description:"Gerencie todas as empresas cadastradas na plataforma"}),e.jsxs(n,{onClick:()=>f(!0),className:"h-9 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(rs,{className:"h-4 w-4 mr-1"}),"Nova Empresa"]})]}),e.jsx(Be,{type:"single",collapsible:!0,className:"mb-1",children:e.jsxs(te,{value:"stats",className:"border-none",children:[e.jsx(le,{className:"bg-blue-50 hover:bg-blue-100 rounded-lg px-4 py-3 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-blue-900",children:"Estatísticas e Métricas"})]})}),e.jsx(re,{className:"pt-3",children:e.jsxs("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(C,{className:"p-3 bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Se,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-xs font-medium text-blue-900",children:"Total de Empresas"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:pe.total})]}),e.jsxs(C,{className:"p-3 bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Cs,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-xs font-medium text-green-900",children:"Empresas Ativas"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-700",children:pe.active})]}),e.jsxs(C,{className:"p-3 bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Xe,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-purple-900",children:"Total de Usuários"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-700",children:pe.totalUsers})]}),e.jsxs(C,{className:"p-3 bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Se,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-xs font-medium text-orange-900",children:"Total de Projetos"})]}),e.jsx("p",{className:"text-2xl font-bold text-orange-700",children:pe.totalProjects})]})]})})]})}),e.jsx(C,{className:"border border-slate-200/60 dark:border-slate-700/60 shadow-sm hover:shadow-md transition-shadow",children:e.jsx(Va,{className:"pt-4 pb-4 px-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 h-10",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),e.jsx(m,{placeholder:"Buscar por nome ou email...",value:q,onChange:r=>w(r.target.value),className:"pl-10 h-10 text-sm rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700"})]})}),e.jsx(ea,{value:I.toString(),onValueChange:r=>{B(Number(r)),H(1)},variant:"top"}),e.jsxs(n,{onClick:()=>J(!0),variant:"outline",size:"sm",className:"h-9 gap-2 px-3 text-xs text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-700",children:[e.jsx(Oe,{className:"h-4 w-4"}),"Filtros"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>H(Math.max(1,F-1)),disabled:F===1,className:"h-9 w-8 p-0",children:e.jsx(Ks,{className:"h-3.5 w-3.5"})}),e.jsx("div",{className:"flex items-center gap-0.5",children:K().map((r,N)=>e.jsx("div",{children:r==="..."?e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 px-1.5",children:"..."}):e.jsx(n,{onClick:()=>H(Number(r)),variant:r===F?"default":"outline",size:"sm",className:`h-9 w-8 p-0 text-xs font-semibold ${r===F?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600 dark:border-blue-600":"text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-700"}`,children:r})},N))}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>H(Math.min(z,F+1)),disabled:F===z,className:"h-9 w-8 p-0",children:e.jsx(Qs,{className:"h-3.5 w-3.5"})})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"border-b border-slate-200/60 dark:border-slate-700/60 bg-slate-50/50 dark:bg-slate-900/20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2.5 font-semibold text-xs text-slate-700 dark:text-slate-300",children:"Empresa"}),e.jsx("th",{className:"px-4 py-2.5 font-semibold text-xs text-slate-700 dark:text-slate-300",children:"Contato"}),e.jsx("th",{className:"px-4 py-2.5 font-semibold text-xs text-slate-700 dark:text-slate-300",children:"Dados"}),e.jsx("th",{className:"px-4 py-2.5 font-semibold text-xs text-slate-700 dark:text-slate-300",children:"Status"}),e.jsx("th",{className:"px-4 py-2.5 font-semibold text-xs text-slate-700 dark:text-slate-300",children:"Tipo"}),e.jsx("th",{className:"px-4 py-2.5 font-semibold text-xs text-slate-700 dark:text-slate-300",children:"Ações"})]})}),e.jsx("tbody",{children:R.map(r=>e.jsxs("tr",{className:"border-b border-slate-200/40 dark:border-slate-700/40 hover:bg-slate-50/50 dark:hover:bg-slate-900/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 flex items-center justify-center flex-shrink-0",children:e.jsx(Se,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-xs text-slate-900 dark:text-slate-100 truncate",children:r.name}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:r.location})]})]})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-xs text-slate-900 dark:text-slate-100",children:r.email}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r.phone})]})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-xs font-medium text-slate-900 dark:text-slate-100",children:"CNPJ:"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 font-mono",children:r.document}),e.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[e.jsx(Xe,{className:"inline h-3 w-3 mr-1"}),r.users_count," usuários"]})]})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(v,{className:r.status==="active"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 text-xs px-2 py-0.5":r.status==="inactive"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300 text-xs px-2 py-0.5":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300 text-xs px-2 py-0.5",children:r.status==="active"?"Ativo":r.status==="inactive"?"Inativo":"Pendente"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(v,{variant:"outline",className:"text-xs px-2 py-0.5",children:be(r.type)})}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(Zs,{children:e.jsxs(as,{children:[e.jsx(ts,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>ue(r),className:"h-7 w-7 p-0 hover:bg-blue-100 hover:text-blue-700 dark:hover:bg-blue-900/30 dark:hover:text-blue-300 rounded",children:e.jsx(Ee,{className:"h-4 w-4"})})}),e.jsx(ls,{className:"text-xs",children:"Ver Detalhes"})]})}),e.jsx(Zs,{children:e.jsxs(as,{children:[e.jsx(ts,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>ve(r.id),className:"h-7 w-7 p-0 hover:bg-red-100 hover:text-red-700 dark:hover:bg-red-900/30 dark:hover:text-red-300 rounded",children:e.jsx($e,{className:"h-4 w-4"})})}),e.jsx(ls,{className:"text-xs",children:"Excluir"})]})})]})})]},r.id))})]})}),R.length===0&&e.jsxs("div",{className:"text-center py-6 text-slate-500",children:[e.jsx(Se,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),e.jsx("p",{className:"text-xs",children:"Nenhuma empresa encontrada"})]}),o.length>0&&e.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200/60 dark:border-slate-700/60 pt-3 pb-2",children:[e.jsx(ea,{value:I.toString(),onValueChange:r=>{B(Number(r)),H(1)},variant:"bottom"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>H(Math.max(1,F-1)),disabled:F===1,className:"h-7 w-7 p-0",children:e.jsx(Ks,{className:"h-3.5 w-3.5"})}),e.jsx("div",{className:"flex items-center gap-1",children:K().map((r,N)=>e.jsx("div",{children:r==="..."?e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400 px-2",children:"..."}):e.jsx(n,{onClick:()=>H(Number(r)),variant:r===F?"default":"outline",size:"sm",className:`h-7 w-7 p-0 text-xs font-medium ${r===F?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600 dark:border-blue-600":"text-slate-700 dark:text-slate-300"}`,children:r})},N))}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>H(Math.min(z,F+1)),disabled:F===z,className:"h-7 w-7 p-0",children:e.jsx(Qs,{className:"h-3.5 w-3.5"})})]})]})]})})}),c&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:()=>{t&&!window.confirm("Você tem alterações não salvas. Deseja sair?")||(J(!1),D(null),X(!1),p(!1))}}),e.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-5xl mx-4 max-h-[85vh] border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in duration-300 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-8 py-5 border-b border-slate-200 dark:border-slate-700 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Filtros Avançados de Empresas"}),e.jsxs("p",{className:"text-xs text-blue-100 mt-0.5",children:[j&&!ee?"Filtro carregado":ee?"Editando filtro":"Configure filtros detalhados",t&&" • Alterações não salvas"]})]}),e.jsx("button",{onClick:()=>{t&&!window.confirm("Você tem alterações não salvas. Deseja sair?")||(J(!1),D(null),X(!1),p(!1))},className:"text-white hover:bg-white/20 rounded-lg p-1.5 transition-colors flex-shrink-0",children:e.jsx(ye,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-1/3 border-r border-slate-200 dark:border-slate-700 p-5 overflow-y-auto flex-shrink-0 bg-slate-50/30 dark:bg-slate-900/20",children:[e.jsxs("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),"Filtros Salvos"]}),k.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-slate-300 dark:text-slate-600 mb-3",children:e.jsx(Oe,{className:"h-8 w-8 mx-auto opacity-40"})}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Você ainda não possui filtros salvos"})]}):e.jsx("div",{className:"space-y-2",children:k.map(r=>e.jsxs("div",{className:`p-3 rounded-lg border transition-all group cursor-pointer ${j===r.id?"bg-blue-50 dark:bg-blue-950/30 border-blue-300 dark:border-blue-700":"bg-white dark:bg-slate-700/40 hover:bg-blue-50 dark:hover:bg-slate-700/60 border-slate-200 dark:border-slate-600/50"}`,children:[e.jsx("div",{className:"flex items-center justify-between gap-2 mb-2",children:e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate flex-1",children:r.name})}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{S(r.filters),D(r.id),X(!1),p(!1)},className:"flex-1 px-2 py-1.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",title:"Carregar",children:"Carregar"}),e.jsx("button",{onClick:()=>{S(r.filters),D(null),X(!1),ie(!0),oe(`${r.name} (Cópia)`),$(!0)},className:"p-1.5 rounded hover:bg-emerald-100 dark:hover:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 transition-colors",title:"Duplicar",children:e.jsx(ba,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{A(k.filter(N=>N.id!==r.id)),j===r.id&&(D(null),X(!1))},className:"p-1.5 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-colors",title:"Excluir",children:e.jsx($e,{className:"h-4 w-4"})})]})]},r.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 pb-32",children:e.jsxs(Be,{type:"multiple",defaultValue:["identificacao","tipo-status"],className:"space-y-3",children:[e.jsxs(te,{value:"identificacao",className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"bg-slate-50 dark:bg-slate-700/40 hover:bg-slate-100 dark:hover:bg-slate-700/60 px-4 py-3 transition-colors",children:e.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Identificação"})}),e.jsxs(re,{className:"p-4 space-y-3 bg-white dark:bg-slate-800/50",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(m,{placeholder:"Nome da Empresa",value:a.name,onChange:r=>{S({...a,name:r.target.value}),j&&p(!0)},className:"h-8 text-sm"}),e.jsx(m,{placeholder:"CNPJ",value:a.cnpj,onChange:r=>{S({...a,cnpj:r.target.value}),j&&p(!0)},className:"h-8 text-sm"}),e.jsx(m,{placeholder:"E-mail",value:a.email,onChange:r=>{S({...a,email:r.target.value}),j&&p(!0)},className:"h-8 text-sm"}),e.jsx(m,{placeholder:"Telefone",value:a.phone,onChange:r=>{S({...a,phone:r.target.value}),j&&p(!0)},className:"h-8 text-sm"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 items-end",children:e.jsx(m,{placeholder:"WhatsApp",value:a.whatsapp,onChange:r=>{S({...a,whatsapp:r.target.value}),j&&p(!0)},className:"h-8 text-sm"})})]})]}),e.jsxs(te,{value:"tipo-status",className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"bg-slate-50 dark:bg-slate-700/40 hover:bg-slate-100 dark:hover:bg-slate-700/60 px-4 py-3 transition-colors",children:e.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Tipo de Empresa e Status"})}),e.jsxs(re,{className:"p-4 space-y-3 bg-white dark:bg-slate-800/50",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-2 block",children:"Tipo de Empresa"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["company","agency","nomad"].map(r=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.types.includes(r),onChange:N=>{S({...a,types:N.target.checked?[...a.types,r]:a.types.filter(fe=>fe!==r)}),j&&p(!0)},className:"rounded border-slate-300 dark:border-slate-600"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300 capitalize",children:r==="company"?"Empresa":r==="agency"?"Agência":"Nômade"})]},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-2 block",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["active","inactive","pending"].map(r=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.statuses.includes(r),onChange:N=>{S({...a,statuses:N.target.checked?[...a.statuses,r]:a.statuses.filter(fe=>fe!==r)}),j&&p(!0)},className:"rounded border-slate-300 dark:border-slate-600"}),e.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:r==="active"?"Ativo":r==="inactive"?"Inativo":"Pendente"})]},r))})]})]})]}),e.jsxs(te,{value:"datas",className:"border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden",children:[e.jsx(le,{className:"bg-slate-50 dark:bg-slate-700/40 hover:bg-slate-100 dark:hover:bg-slate-700/60 px-4 py-3 transition-colors",children:e.jsx("span",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Período de Datas"})}),e.jsxs(re,{className:"p-4 space-y-3 bg-white dark:bg-slate-800/50",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-2 block",children:"Data de Cadastro"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{type:"date",value:a.registrationDateFrom,onChange:r=>{S({...a,registrationDateFrom:r.target.value}),j&&p(!0)},className:"h-8 text-sm flex-1"}),e.jsx(m,{type:"date",value:a.registrationDateTo,onChange:r=>{S({...a,registrationDateTo:r.target.value}),j&&p(!0)},className:"h-8 text-sm flex-1"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-2 block",children:"Último Acesso"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{type:"date",value:a.lastAccessDateFrom,onChange:r=>{S({...a,lastAccessDateFrom:r.target.value}),j&&p(!0)},className:"h-8 text-sm flex-1"}),e.jsx(m,{type:"date",value:a.lastAccessDateTo,onChange:r=>{S({...a,lastAccessDateTo:r.target.value}),j&&p(!0)},className:"h-8 text-sm flex-1"})]})]})]})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-5 border-t border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/30 flex-shrink-0",children:[e.jsx(n,{onClick:()=>{S({name:"",cnpj:"",email:"",phone:"",whatsapp:"",types:[],statuses:[],registrationDateFrom:"",registrationDateTo:"",lastAccessDateFrom:"",lastAccessDateTo:""}),p(!0)},variant:"outline",size:"sm",className:"px-4 py-2 text-sm rounded-lg",children:"Limpar"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[t&&j&&e.jsx(n,{onClick:()=>{const r={id:j,name:k.find(N=>N.id===j)?.name||"",filters:a};A(k.map(N=>N.id===j?r:N)),p(!1)},size:"sm",className:"px-4 py-2 text-sm rounded-lg bg-amber-600 hover:bg-amber-700 text-white",children:"Salvar Alterações"}),!j||t?e.jsx(n,{onClick:()=>{if(!se&&!j){const r=`filter-${Date.now()}`,N=prompt("Nome do filtro:",`Filtro ${k.length+1}`);N&&(A([...k,{id:r,name:N,filters:a}]),D(r),p(!1))}},size:"sm",className:"px-4 py-2 text-sm rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white",children:"Salvar Filtro"}):null,e.jsx(n,{onClick:()=>{t&&!window.confirm("Você tem alterações não salvas. Deseja sair?")||(J(!1),D(null),X(!1),p(!1))},variant:"outline",size:"sm",className:"px-4 py-2 text-sm rounded-lg",children:"Cancelar"}),e.jsx(n,{onClick:()=>J(!1),size:"sm",className:"px-4 py-2 text-sm rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:"Aplicar Filtros"})]})]})]})]}),e.jsx(pt,{open:O,onOpenChange:f,onCreate:b}),T&&e.jsxs(e.Fragment,{children:[e.jsx(Pt,{open:E,onClose:()=>{P(!1),d(null)},company:T,onCompanyUpdate:r=>{U(_.map(N=>N.id===r.id?r:N)),d(r)}}),e.jsx(bt,{open:x,onClose:()=>{y(!1),d(null)},company:T,onSave:Y})]})]})}export{ll as default};
