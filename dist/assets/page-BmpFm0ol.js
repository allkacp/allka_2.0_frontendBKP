import{bU as M,bM as I,r as i,j as e,f as l,bW as O,B as r,l as V,p as H,m as X,a2 as C,C as m,a as o,d as u,g as h,n as p,T as Q,h as W,i as b,k as N,F as Y,bh as f,D as Z,v as _,w as G,x as J,af as D,ag as K,a1 as ee,aR as se,ah as ae,ao as k}from"./index-D2dOrPZ8.js";import{D as te}from"./download--rFCaPFG.js";import{C as S}from"./circle-x-D0uMI9ez.js";import{T as le}from"./triangle-alert-Cjhkzg0C.js";import{P as re}from"./paperclip-DZJYHyoe.js";import{M as ie}from"./message-square-Bm6iE3sR.js";function pe(){const T=M(),E=I();T.id;const q="bg-gray-50",[a]=i.useState({taskId:"T19572",title:"Copywriting - Landing Page",category:"Copywriting",client:"StartupXYZ",project:"Campanha Q4 2025",payment:312,bonus:25,status:"in-progress",createdAt:new Date("2025-10-01T10:00:00"),deadline:new Date("2025-10-10T23:59:00"),rating:4.8,stages:[{id:"stage-1",number:1,title:"Pesquisa e Briefing",status:"completed",deliveryDeadline:new Date("2025-10-03T23:59:00"),payment:100,description:"Realizar pesquisa de mercado e criar briefing detalhado",requirements:["Análise de concorrentes","Definição de público-alvo","Tom de voz"],deliverables:[{id:"d1",name:"Briefing Completo.pdf",uploaded:!0,fileUrl:"#"},{id:"d2",name:"Pesquisa de Mercado.pdf",uploaded:!0,fileUrl:"#"}],feedback:[{id:"f1",author:"Maria Silva",content:"Excelente trabalho! O briefing está muito completo e bem estruturado.",timestamp:new Date("2025-10-04T10:30:00")}]},{id:"stage-2",number:2,title:"Criação de Copy",status:"in-progress",deliveryDeadline:new Date("2025-10-07T23:59:00"),payment:212,description:"Desenvolver textos persuasivos para landing page",requirements:["Headline impactante","CTAs claros","Benefícios destacados","Prova social"],deliverables:[{id:"d3",name:"Copy Landing Page V1.docx",uploaded:!1},{id:"d4",name:"Variações de Headlines.docx",uploaded:!1}]}]}),[j,P]=i.useState(new Set(["stage-2"])),[A,d]=i.useState(!1),[ne,R]=i.useState(null),[n,g]=i.useState([]),[v,y]=i.useState(""),c=s=>s.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),w=s=>s<new Date,B=s=>{const t=new Set(j);t.has(s)?t.delete(s):t.add(s),P(t)},z=s=>{switch(s){case"completed":return e.jsx(p,{className:"h-5 w-5 text-green-500"});case"in-progress":return e.jsx(k,{className:"h-5 w-5 text-blue-500"});case"rejected":return e.jsx(S,{className:"h-5 w-5 text-red-500"});default:return e.jsx(k,{className:"h-5 w-5 text-gray-400"})}},U=s=>{switch(s){case"completed":return e.jsx(r,{className:"bg-green-500 text-white text-xs",children:"CONCLUÍDA"});case"in-progress":return e.jsx(r,{className:"bg-blue-500 text-white text-xs",children:"EM ANDAMENTO"});case"rejected":return e.jsx(r,{className:"bg-red-500 text-white text-xs",children:"REPROVADA"});default:return e.jsx(r,{className:"bg-gray-500 text-white text-xs",children:"PENDENTE"})}},F=s=>{s.target.files&&g(Array.from(s.target.files))},$=()=>{console.log("Submitting delivery:",{uploadFiles:n,uploadComment:v}),d(!1),g([]),y("")};return e.jsxs("div",{className:`min-h-screen ${q}`,children:[e.jsx("div",{className:"bg-white/95 backdrop-blur-sm border-b sticky top-0 z-10 shadow-sm",children:e.jsxs("div",{className:"container mx-auto pt-2 px-6 pb-2",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1.5",children:e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>E(-1),className:"text-xs h-7",children:[e.jsx(O,{className:"h-3 w-3 mr-1"}),"Voltar"]})}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0 flex-wrap",children:[e.jsxs("h1",{className:"text-sm font-semibold text-gray-700 truncate",children:["[",a.taskId,"] ",a.title]}),e.jsx(r,{variant:"outline",className:"text-xs px-1.5 py-0",children:a.category}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"h-3 w-3"}),a.project]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-3 w-3"}),a.client]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"h-3 w-3"}),c(a.deadline)]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1 text-green-600 font-medium",children:[e.jsx(C,{className:"h-3 w-3"}),"R$ ",a.payment," (+",a.bonus,"%)"]})]})]}),e.jsxs(l,{variant:"outline",size:"sm",className:"text-xs h-7 bg-transparent flex-shrink-0",children:[e.jsx(te,{className:"h-3 w-3 mr-1"}),"Exportar"]})]})]})}),e.jsxs("div",{className:"container mx-auto pt-6 px-6 pb-12",children:[e.jsxs(m,{className:"shadow-lg border-0 bg-white/95 backdrop-blur-sm mb-6",children:[e.jsx(o,{children:e.jsx(u,{className:"text-base",children:"Progresso das Etapas"})}),e.jsx(h,{children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-6 left-0 right-0 h-1 bg-gray-200",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${a.stages.filter(s=>s.status==="completed").length/a.stages.length*100}%`}})}),e.jsx("div",{className:"relative flex justify-between",children:a.stages.map(s=>e.jsxs("div",{className:"flex flex-col items-center",style:{width:`${100/a.stages.length}%`},children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center border-4 bg-white transition-all duration-300 ${s.status==="completed"?"border-green-500 text-green-500":s.status==="in-progress"?"border-blue-500 text-blue-500 ring-4 ring-blue-100":s.status==="rejected"?"border-red-500 text-red-500":"border-gray-300 text-gray-400"}`,children:s.status==="completed"?e.jsx(p,{className:"h-6 w-6"}):s.status==="rejected"?e.jsx(S,{className:"h-6 w-6"}):e.jsx("span",{className:"font-bold text-sm",children:s.number})}),e.jsxs("div",{className:"mt-3 text-center",children:[e.jsxs("p",{className:`text-xs font-medium ${s.status==="in-progress"?"text-blue-600":"text-gray-600"}`,children:["Etapa ",s.number]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-[120px]",children:s.title}),s.status==="in-progress"&&e.jsx(r,{className:"mt-2 bg-blue-500 text-white text-xs",children:"Atual"})]})]},s.id))})]})})]}),e.jsxs(Q,{defaultValue:"stages",className:"w-full",children:[e.jsxs(W,{className:"grid w-full grid-cols-3 mb-6 text-xs",children:[e.jsxs(b,{value:"stages",className:"text-xs",children:["Etapas (",a.stages.length,")"]}),e.jsx(b,{value:"requirements",className:"text-xs",children:"Requisitos"}),e.jsx(b,{value:"info",className:"text-xs",children:"Informações"})]}),e.jsx(N,{value:"stages",className:"space-y-4",children:a.stages.map(s=>e.jsxs(m,{className:"shadow-lg border-0 bg-white/95 backdrop-blur-sm",children:[e.jsx(o,{className:"cursor-pointer hover:bg-gray-50/50 transition-all",onClick:()=>B(s.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[z(s.status),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"text-base font-semibold",children:["Etapa ",s.number,": ",s.title]}),U(s.status)]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"h-3 w-3"}),"R$ ",s.payment]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:w(s.deliveryDeadline)?"text-red-600 font-medium flex items-center gap-1":"",children:[w(s.deliveryDeadline)&&e.jsx(le,{className:"h-3 w-3"}),"Prazo: ",c(s.deliveryDeadline)]})]})]})]}),e.jsx(l,{variant:"ghost",size:"sm",className:"text-xs",children:j.has(s.id)?"Recolher":"Expandir"})]})}),j.has(s.id)&&e.jsxs(h,{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Descrição"}),e.jsx("p",{className:"text-xs text-gray-700",children:s.description})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4"}),"Requisitos"]}),e.jsx("ul",{className:"space-y-1.5",children:s.requirements.map((t,x)=>e.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[e.jsx(p,{className:"h-3.5 w-3.5 text-green-500 mt-0.5 flex-shrink-0"}),t]},x))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"Entregas"]}),e.jsx("div",{className:"space-y-2",children:s.deliverables.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-xs font-medium",children:t.name})]}),t.uploaded?e.jsx(r,{className:"bg-green-500 text-white text-xs",children:"Enviado"}):e.jsxs(l,{size:"sm",variant:"outline",className:"text-xs bg-transparent",onClick:()=>{R(s.id),d(!0)},children:[e.jsx(f,{className:"h-3 w-3 mr-1"}),"Enviar"]})]},t.id))})]}),s.feedback&&s.feedback.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Feedback do Cliente"]}),e.jsx("div",{className:"space-y-2",children:s.feedback.map(t=>e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[e.jsx("p",{className:"font-semibold text-xs",children:t.author}),e.jsx("p",{className:"text-xs text-gray-500",children:c(t.timestamp)})]}),e.jsx("p",{className:"text-xs text-gray-700",children:t.content})]},t.id))})]})]})]},s.id))}),e.jsx(N,{value:"requirements",className:"space-y-4",children:e.jsxs(m,{className:"shadow-lg border-0 bg-white/95 backdrop-blur-sm",children:[e.jsx(o,{children:e.jsx(u,{className:"text-base",children:"Todos os Requisitos"})}),e.jsx(h,{children:a.stages.map(s=>e.jsxs("div",{className:"mb-5 last:mb-0",children:[e.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["Etapa ",s.number,": ",s.title]}),e.jsx("ul",{className:"space-y-1.5",children:s.requirements.map((t,x)=>e.jsxs("li",{className:"flex items-start gap-2 text-xs text-gray-700",children:[e.jsx(p,{className:"h-3.5 w-3.5 text-green-500 mt-0.5 flex-shrink-0"}),t]},x))})]},s.id))})]})}),e.jsx(N,{value:"info",className:"space-y-4",children:e.jsxs(m,{className:"shadow-lg border-0 bg-white/95 backdrop-blur-sm",children:[e.jsx(o,{children:e.jsx(u,{className:"text-base",children:"Informações da Tarefa"})}),e.jsx(h,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"ID da Tarefa"}),e.jsx("p",{className:"font-semibold",children:a.taskId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Categoria"}),e.jsx("p",{className:"font-semibold",children:a.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Cliente"}),e.jsx("p",{className:"font-semibold",children:a.client})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Projeto"}),e.jsx("p",{className:"font-semibold",children:a.project})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Pagamento Total"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",a.payment]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Bônus"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["+",a.bonus,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Criada em"}),e.jsx("p",{className:"font-semibold",children:c(a.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Prazo Final"}),e.jsx("p",{className:"font-semibold",children:c(a.deadline)})]})]})})]})})]})]}),e.jsx(Z,{open:A,onOpenChange:d,children:e.jsxs(_,{className:"max-w-2xl",children:[e.jsx(G,{children:e.jsx(J,{className:"text-base",children:"Enviar Entrega"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-sm",children:"Arquivos *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition-colors",children:[e.jsx(K,{type:"file",multiple:!0,onChange:F,className:"hidden",id:"upload-files"}),e.jsxs("label",{htmlFor:"upload-files",className:"cursor-pointer",children:[e.jsx(f,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clique para selecionar arquivos"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ou arraste e solte aqui"})]})]}),n.length>0&&e.jsx("div",{className:"mt-3 space-y-2",children:n.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[e.jsx("span",{children:s.name}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>g(n.filter((x,L)=>L!==t)),children:e.jsx(ee,{className:"h-3 w-3"})})]},t))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{className:"text-sm",children:"Comentário (opcional)"}),e.jsx(se,{placeholder:"Adicione observações sobre a entrega...",value:v,onChange:s=>y(s.target.value),rows:4,className:"resize-none text-xs"})]})]}),e.jsxs(ae,{children:[e.jsx(l,{variant:"outline",onClick:()=>d(!1),className:"text-xs",children:"Cancelar"}),e.jsx(l,{className:"bg-blue-600 hover:bg-blue-700 text-white text-xs",onClick:$,disabled:n.length===0,children:"Enviar Entrega"})]})]})})]})}export{pe as default};
