const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-CkvBrDcy.js","assets/index-D2dOrPZ8.js","assets/index-CZvJU_cT.css"])))=>i.map(i=>d[i]);
import{c as ja,r as c,s as Na,t as ya,j as e,D as Ze,v as es,w as ss,x as ts,y as A,z as wa,E as ka,H as Da,I as Ca,J as Sa,K as He,f as u,_ as bt,L as Pa,M as Ra,q as Je,N as l,C as k,g as D,m as Ee,O as gs,Q as ps,R as fs,V as vs,W as ae,X as ke,G as Qs,U as X,Y as Ma,Z as bs,F as xe,$,a0 as Oa,P as Ye,a1 as jt,B as C,a2 as ue,a3 as $e,a4 as Xs,l as ze,a5 as Zs,a6 as be,o as js,a7 as Nt,a8 as Ke,a9 as Aa,aa as Te,S as et,ab as st,ac as Ea,ad as $a,ae as Ns,af as Qe,ag as ys,ah as ws,ai as tt,aj as Le,a as P,d as R,ak as je,al as G,am as at,an as rt,ao as za,ap as Ie,aq as Ta,ar as La,as as Ia,at as Fa,au as _a,av as he,aw as Wa}from"./index-D2dOrPZ8.js";import{A as Va,a as Ua}from"./alert-CVKN-O4u.js";import{D as re}from"./download--rFCaPFG.js";import{r as yt,a as Ba,S as qa,b as Ga,u as Ha,s as Ja,c as Ya,d as Ka,e as Qa,f as Xa,g as Za,h as wt,i as er,j as it,k as sr,R as tr,C as nt,X as ot,Y as lt,T as dt,B as ar,l as rr}from"./BarChart-B1piY--Q.js";import{L as ir,a as nr}from"./LineChart-58X4XD1O.js";import ct from"./html2canvas.esm-DXEQVQnt.js";import{A as or,a as lr,b as dr,c as cr}from"./accordion-C2wU0TCh.js";import{T as as}from"./triangle-alert-Cjhkzg0C.js";import{M as mr}from"./message-square-Bm6iE3sR.js";import{C as kt}from"./circle-x-D0uMI9ez.js";import{P as xr}from"./pencil-CsIdgWsW.js";import{E as Fe}from"./eye-off-99P7biTF.js";import{T as mt}from"./trophy-Cn3Olz3o.js";import{T as ge}from"./trending-down-DG-mIJr0.js";import{E as ks}from"./external-link-CC_JdT4J.js";import{A as Ds,a as ur}from"./arrow-up-DskKQPw8.js";import{A as hr}from"./arrow-up-right-BzGpF1u-.js";import{K as gr}from"./key-DrOyWj5p.js";import{P as xt}from"./pen-D9tnGfMD.js";import{a as pr,b as fr,f as ne,s as ut,e as vr}from"./format-Dp_GGtXD.js";const br=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],ht=ja("file-down",br);function Xe(r,o,i){return pr(r,-o,i)}function gt(r,o,i){return fr(r,-1,i)}function rs(){return rs=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var m in i)({}).hasOwnProperty.call(i,m)&&(r[m]=i[m])}return r},rs.apply(null,arguments)}function pt(r,o){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(r);o&&(m=m.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),i.push.apply(i,m)}return i}function jr(r){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?pt(Object(i),!0).forEach(function(m){Nr(r,m,i[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):pt(Object(i)).forEach(function(m){Object.defineProperty(r,m,Object.getOwnPropertyDescriptor(i,m))})}return r}function Nr(r,o,i){return(o=yr(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r}function yr(r){var o=wr(r,"string");return typeof o=="symbol"?o:o+""}function wr(r,o){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var m=i.call(r,o);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}var Z=32,kr={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Dr(r){var{data:o,iconType:i,inactiveColor:m}=r,f=Z/2,v=Z/6,g=Z/3,y=o.inactive?m:o.color,b=i??o.type;if(b==="none")return null;if(b==="plainline"){var M;return c.createElement("line",{strokeWidth:4,fill:"none",stroke:y,strokeDasharray:(M=o.payload)===null||M===void 0?void 0:M.strokeDasharray,x1:0,y1:f,x2:Z,y2:f,className:"recharts-legend-icon"})}if(b==="line")return c.createElement("path",{strokeWidth:4,fill:"none",stroke:y,d:"M0,".concat(f,"h").concat(g,`
            A`).concat(v,",").concat(v,",0,1,1,").concat(2*g,",").concat(f,`
            H`).concat(Z,"M").concat(2*g,",").concat(f,`
            A`).concat(v,",").concat(v,",0,1,1,").concat(g,",").concat(f),className:"recharts-legend-icon"});if(b==="rect")return c.createElement("path",{stroke:"none",fill:y,d:"M0,".concat(Z/8,"h").concat(Z,"v").concat(Z*3/4,"h").concat(-Z,"z"),className:"recharts-legend-icon"});if(c.isValidElement(o.legendIcon)){var w=jr({},o);return delete w.legendIcon,c.cloneElement(o.legendIcon,w)}return c.createElement(Ga,{fill:y,cx:f,cy:f,size:Z,sizeType:"diameter",type:b})}function Cr(r){var{payload:o,iconSize:i,layout:m,formatter:f,inactiveColor:v,iconType:g}=r,y={x:0,y:0,width:Z,height:Z},b={display:m==="horizontal"?"inline-block":"block",marginRight:10},M={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map((w,B)=>{var E=w.formatter||f,H=Na({"recharts-legend-item":!0,["legend-item-".concat(B)]:!0,inactive:w.inactive});if(w.type==="none")return null;var q=w.inactive?v:w.color,ce=E?E(w.value,w,B):w.value;return c.createElement("li",rs({className:H,style:b,key:"legend-item-".concat(B)},Ba(r,w,B)),c.createElement(qa,{width:i,height:i,viewBox:y,style:M,"aria-label":"".concat(ce," legend icon")},c.createElement(Dr,{data:w,iconType:g,inactiveColor:v})),c.createElement("span",{className:"recharts-legend-item-text",style:{color:q}},ce))})}var Sr=r=>{var o=yt(r,kr),{payload:i,layout:m,align:f}=o;if(!i||!i.length)return null;var v={padding:0,margin:0,textAlign:m==="horizontal"?f:"left"};return c.createElement("ul",{className:"recharts-default-legend",style:v},c.createElement(Cr,rs({},o,{payload:i})))};function Pr(){return Ha(Ja)}var Rr=["contextPayload"];function Cs(){return Cs=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var m in i)({}).hasOwnProperty.call(i,m)&&(r[m]=i[m])}return r},Cs.apply(null,arguments)}function ft(r,o){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(r);o&&(m=m.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),i.push.apply(i,m)}return i}function De(r){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?ft(Object(i),!0).forEach(function(m){Mr(r,m,i[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ft(Object(i)).forEach(function(m){Object.defineProperty(r,m,Object.getOwnPropertyDescriptor(i,m))})}return r}function Mr(r,o,i){return(o=Or(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r}function Or(r){var o=Ar(r,"string");return typeof o=="symbol"?o:o+""}function Ar(r,o){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var m=i.call(r,o);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}function Er(r,o){if(r==null)return{};var i,m,f=$r(r,o);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(r);for(m=0;m<v.length;m++)i=v[m],o.indexOf(i)===-1&&{}.propertyIsEnumerable.call(r,i)&&(f[i]=r[i])}return f}function $r(r,o){if(r==null)return{};var i={};for(var m in r)if({}.hasOwnProperty.call(r,m)){if(o.indexOf(m)!==-1)continue;i[m]=r[m]}return i}function zr(r){return r.value}function Tr(r){var{contextPayload:o}=r,i=Er(r,Rr),m=sr(o,r.payloadUniqBy,zr),f=De(De({},i),{},{payload:m});return c.isValidElement(r.content)?c.cloneElement(r.content,f):typeof r.content=="function"?c.createElement(r.content,f):c.createElement(Sr,f)}function Lr(r,o,i,m,f,v){var{layout:g,align:y,verticalAlign:b}=o,M,w;return(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))&&(y==="center"&&g==="vertical"?M={left:((m||0)-v.width)/2}:M=y==="right"?{right:i&&i.right||0}:{left:i&&i.left||0}),(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))&&(b==="middle"?w={top:((f||0)-v.height)/2}:w=b==="bottom"?{bottom:i&&i.bottom||0}:{top:i&&i.top||0}),De(De({},M),w)}function Ir(r){var o=wt();return c.useEffect(()=>{o(er(r))},[o,r]),null}function Fr(r){var o=wt();return c.useEffect(()=>(o(it(r)),()=>{o(it({width:0,height:0}))}),[o,r]),null}function _r(r,o,i,m){return r==="vertical"&&o!=null?{height:o}:r==="horizontal"?{width:i||m}:null}var Wr={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ss(r){var o=yt(r,Wr),i=Pr(),m=Ya(),f=Ka(),{width:v,height:g,wrapperStyle:y,portal:b}=o,[M,w]=Qa([i]),B=Xa(),E=Za();if(B==null||E==null)return null;var H=B-(f?.left||0)-(f?.right||0),q=_r(o.layout,g,v,H),ce=b?y:De(De({position:"absolute",width:q?.width||v||"auto",height:q?.height||g||"auto"},Lr(y,o,f,B,E,M)),y),_e=b??m;if(_e==null||i==null)return null;var Ps=c.createElement("div",{className:"recharts-legend-wrapper",style:ce,ref:w},c.createElement(Ir,{layout:o.layout,align:o.align,verticalAlign:o.verticalAlign,itemSorter:o.itemSorter}),!b&&c.createElement(Fr,{width:M.width,height:M.height}),c.createElement(Tr,Cs({},o,q,{margin:f,chartWidth:B,chartHeight:E,contextPayload:i})));return ya.createPortal(Ps,_e)}Ss.displayName="Legend";function Vr({open:r,onOpenChange:o,metricKey:i,metricTitle:m,chartType:f="line",data:v,dataKeys:g=["value"],colors:y=["#3b82f6"]}){const[b,M]=c.useState("30"),w=c.useRef(null),B=async()=>{if(w.current)try{const E=(await bt(async()=>{const{default:ce}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:ce}},[])).default,H=await E(w.current,{backgroundColor:"#ffffff",scale:2}),q=document.createElement("a");q.download=`${i}-grafico-${new Date().toISOString().split("T")[0]}.png`,q.href=H.toDataURL(),q.click()}catch(E){console.error("Erro ao baixar gráfico:",E)}};return e.jsx(Ze,{open:r,onOpenChange:o,children:e.jsxs(es,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(ss,{children:e.jsxs(ts,{className:"flex items-center gap-2 text-2xl",children:[f==="line"?e.jsx(A,{className:"h-6 w-6"}):e.jsx(wa,{className:"h-6 w-6"}),m]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Período:"}),e.jsxs(ka,{value:b,onValueChange:M,children:[e.jsx(Da,{className:"w-[180px]",children:e.jsx(Ca,{})}),e.jsxs(Sa,{children:[e.jsx(He,{value:"7",children:"Últimos 7 dias"}),e.jsx(He,{value:"30",children:"Últimos 30 dias"}),e.jsx(He,{value:"90",children:"Últimos 90 dias"}),e.jsx(He,{value:"365",children:"Último ano"})]})]})]}),e.jsxs(u,{onClick:B,variant:"outline",className:"gap-2 bg-transparent",children:[e.jsx(re,{className:"h-4 w-4"}),"Baixar Gráfico"]})]}),e.jsxs("div",{ref:w,className:"bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Período: Últimos ",b," dias"]})]}),e.jsx(tr,{width:"100%",height:400,children:f==="line"?e.jsxs(ir,{data:v,children:[e.jsx(nt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ot,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),e.jsx(lt,{stroke:"#6b7280",style:{fontSize:"12px"}}),e.jsx(dt,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(Ss,{}),g.map((E,H)=>e.jsx(nr,{type:"monotone",dataKey:E,stroke:y[H]||y[0],strokeWidth:2,dot:{fill:y[H]||y[0],r:4},activeDot:{r:6}},E))]}):e.jsxs(ar,{data:v,children:[e.jsx(nt,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(ot,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),e.jsx(lt,{stroke:"#6b7280",style:{fontSize:"12px"}}),e.jsx(dt,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(Ss,{}),g.map((E,H)=>e.jsx(rr,{dataKey:E,fill:y[H]||y[0],radius:[8,8,0,0]},E))]})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Atual"}),e.jsx("p",{className:"text-2xl font-bold",children:v[v.length-1]?.value.toLocaleString()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Média do Período"}),e.jsx("p",{className:"text-2xl font-bold",children:(v.reduce((E,H)=>E+H.value,0)/v.length).toLocaleString(void 0,{maximumFractionDigits:0})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Variação"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+",((v[v.length-1]?.value-v[0]?.value)/v[0]?.value*100).toFixed(1),"%"]})]})]})]})]})})}const Ur=[{id:"tarefas_atrasadas",type:"tarefas",severity:"high",title:"Tarefas atrasadas",description:"12 tarefas estão com prazo vencido e precisam de atenção imediata.",count:12,link:"/admin/tasks?filter=atrasadas",icon:as},{id:"mensagens_sem_resposta",type:"mensagens",severity:"medium",title:"Mensagens sem resposta",description:"7 mensagens aguardando resposta há mais de 24 horas.",count:7,link:"/admin/messages?filter=sem_resposta",icon:mr},{id:"projetos_inadimplentes",type:"financeiro",severity:"high",title:"Projetos inadimplentes",description:"3 projetos com pagamento atrasado.",count:3,link:"/admin/projects?filter=inadimplentes",icon:kt}],Br=({alerts:r})=>{const[o,i]=c.useState([]);if(r.length===0||o.length===r.length)return null;const m=r.filter(g=>!o.includes(g.id)),f=m.filter(g=>g.severity==="high").length,v=g=>{switch(g){case"high":return"text-red-700 bg-red-50 border-red-300";case"medium":return"text-amber-700 bg-amber-50 border-amber-300";case"low":return"text-blue-700 bg-blue-50 border-blue-300";default:return"text-blue-700 bg-blue-50 border-blue-300"}};return e.jsx(or,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(lr,{value:"alerts",className:"border-2 border-red-300 bg-red-50 rounded-xl shadow-sm",children:[e.jsx(dr,{className:"px-4 py-3 hover:no-underline hover:bg-red-100/50 rounded-t-xl transition-colors",children:e.jsxs("div",{className:"flex items-center gap-3 w-full",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:e.jsx(Nt,{className:"h-5 w-5 text-red-600"})}),e.jsx("div",{className:"flex items-center justify-between flex-1",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("h3",{className:"font-semibold text-red-800 flex items-center gap-2",children:["Alertas do Sistema",e.jsx(C,{className:"ml-2 bg-red-600 text-white hover:bg-red-700",children:m.length}),f>0&&e.jsxs("span",{className:"text-xs text-red-600 font-medium",children:["(",f," críticos)"]})]}),e.jsx("p",{className:"text-xs text-red-600/80 mt-1",children:"Itens que requerem sua atenção imediata"})]})})]})}),e.jsx(cr,{className:"px-4 pb-4",children:e.jsx("div",{className:"space-y-2 pt-2",children:m.map(g=>{const y=g.icon;return e.jsxs("div",{className:l("flex items-center justify-between p-3 rounded-lg border-2 transition-all shadow-sm hover:shadow-md",v(g.severity)),children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(y,{className:"h-4 w-4 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-sm",children:g.title}),e.jsx(C,{variant:"outline",className:"text-xs",children:g.count})]}),e.jsx("p",{className:"text-xs opacity-80 mt-0.5 line-clamp-1",children:g.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{to:g.link,children:e.jsxs(u,{size:"sm",variant:"ghost",className:"gap-1 text-xs",children:["Ver",e.jsx(je,{className:"h-3 w-3"})]})}),e.jsx(u,{size:"sm",variant:"ghost",onClick:()=>i([...o,g.id]),className:"h-7 w-7 p-0",children:e.jsx(jt,{className:"h-3 w-3"})})]})]},g.id)})})})]})})},vt=(r,o)=>{const i=M=>M.toString().padStart(2,"0"),m=i(r.getDate()),f=i(r.getMonth()+1),v=r.getFullYear(),g=i(r.getHours()),y=i(r.getMinutes());return{"dd/MM/yyyy 'às' HH:mm":`${m}/${f}/${v} às ${g}:${y}`,"yyyy-MM-dd-HHmm":`${v}-${f}-${m}-${g}${y}`,PPP:`${m} de ${["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"][r.getMonth()]} de ${v}`}[o]||`${m}/${f}/${v}`};function $i(){console.log("[v0] AdminDashboardPage component rendering");const{sidebarCollapsed:r}=Pa(),{toast:o}=Ra(),[i,m]=c.useState({type:"last_30_days",label:"Últimos 30 dias"}),[f,v]=c.useState(!1),[g,y]=c.useState(),[b,M]=c.useState(),[w,B]=c.useState([]);c.useEffect(()=>{const s=localStorage.getItem("dashboard_global_period");if(s)try{const a=JSON.parse(s);m({type:a.type,from:a.from?new Date(a.from):void 0,to:a.to?new Date(a.to):void 0,label:a.label})}catch(a){console.error("Failed to parse saved period:",a)}},[]),c.useEffect(()=>{localStorage.setItem("dashboard_global_period",JSON.stringify({type:i.type,from:i.from?.toISOString(),to:i.to?.toISOString(),label:i.label}))},[i]);const E=(s,a,n)=>{const t=new Date,d=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(s){case"today":return{from:d,to:d};case"yesterday":const p=new Date(d);return p.setDate(p.getDate()-1),{from:p,to:p};case"last_7_days":const x=new Date(d);return x.setDate(x.getDate()-7),{from:x,to:d};case"last_30_days":const N=new Date(d);return N.setDate(N.getDate()-30),{from:N,to:d};case"this_month":return{from:new Date(t.getFullYear(),t.getMonth(),1),to:d};case"last_month":const le=new Date(t.getFullYear(),t.getMonth()-1,1),de=new Date(t.getFullYear(),t.getMonth(),0);return{from:le,to:de};case"this_quarter":const te=Math.floor(t.getMonth()/3);return{from:new Date(t.getFullYear(),te*3,1),to:d};case"custom":return{from:d,to:d};default:return{from:N,to:d}}},H=[{type:"today",label:"Hoje"},{type:"yesterday",label:"Ontem"},{type:"last_7_days",label:"Últimos 7 dias"},{type:"last_30_days",label:"Últimos 30 dias"},{type:"this_month",label:"Este mês"},{type:"last_month",label:"Mês passado"},{type:"this_quarter",label:"Trimestre atual"},{type:"custom",label:"Intervalo personalizado"}],q=(s,a)=>{if(s==="custom")v(!0);else{const{from:n,to:t}=E(s);m({type:s,from:n,to:t,label:a}),v(!1)}},ce=()=>{g&&b&&(m({type:"custom",from:g,to:b,label:`${g.toLocaleDateString("pt-BR")} - ${b.toLocaleDateString("pt-BR")}`}),v(!1))},[_e,Ps]=c.useState("30d"),[qr,Gr]=c.useState({from:void 0,to:void 0}),[Hr,Jr]=c.useState(!1),[h,Dt]=c.useState(!1),[ee,is]=c.useState([{id:"totalUsers",order:0,visible:!0},{id:"activeUsers",order:1,visible:!0},{id:"companies",order:2,visible:!0},{id:"activeProjects",order:3,visible:!0},{id:"revenue",order:4,visible:!0},{id:"avgRating",order:5,visible:!0}]),[Ce,Se]=c.useState(null),[Ct,Ne]=c.useState(null),[oe,St]=c.useState(!1),[Yr,Kr]=c.useState(!1),[Qr,Pt]=c.useState(null),[Xr,Rt]=c.useState(""),[Pe,Rs]=c.useState("1"),[Zr,ei]=c.useState(!1),[si,ti]=c.useState("default"),[Mt,Ms]=c.useState(!1),[ns,os]=c.useState("30 dias"),[ai,ri]=c.useState("padrao"),[Ot,We]=c.useState(!1),[ii,ni]=c.useState(!1),[At,Et]=c.useState(!1),[Re,oi]=c.useState(null),Os=()=>{Dt(!h)},$t=s=>{const a=w.find(n=>n.widgetId===s);return a&&a.mode==="custom"&&a.customPeriod?{from:new Date(a.customPeriod.from),to:new Date(a.customPeriod.to),label:a.customPeriod.label}:{from:i.from||new Date(0),to:i.to||new Date,label:i.label}},me=(s,a)=>{const n=new Date;let t="",d=ne(n,"yyyy-MM-dd"),p=a;switch(a){case"global":B(x=>x.filter(N=>N.widgetId!==s));return;case"today":t=ne(n,"yyyy-MM-dd"),p="Hoje";break;case"7days":t=ne(Xe(n,7),"yyyy-MM-dd"),p="Últimos 7 dias";break;case"30days":t=ne(Xe(n,30),"yyyy-MM-dd"),p="Últimos 30 dias";break;case"thisMonth":t=ne(ut(n),"yyyy-MM-dd"),p="Este mês";break;case"lastMonth":t=ne(ut(gt(n)),"yyyy-MM-dd"),d=ne(vr(gt(n)),"yyyy-MM-dd"),p="Mês passado";break;case"90days":t=ne(Xe(n,90),"yyyy-MM-dd"),p="Últimos 90 dias";break;case"365days":t=ne(Xe(n,365),"yyyy-MM-dd"),p="Último ano";break;default:return}B(x=>[...x.filter(z=>z.widgetId!==s),{widgetId:s,mode:"custom",customPeriod:{from:t,to:d,label:p}}])},zt=async(s,a)=>{const n=document.querySelector(`[data-widget-id="${s}"]`);if(!n){o({title:"Erro ao exportar",description:"Widget não encontrado",variant:"destructive"});return}try{const t=n.querySelectorAll("[data-export-button]");t.forEach(z=>{z.style.display="none"});const d=await ct(n,{backgroundColor:null,scale:2,useCORS:!0,logging:!1});t.forEach(z=>{z.style.display=""});const p=document.createElement("a"),x=ne(new Date,"yyyy-MM-dd-HHmm"),N=a.replace(/[^a-zA-Z0-9]/g,"_");p.download=`widget_${N}_${x}.png`,p.href=d.toDataURL("image/png"),p.click(),o({title:"Widget exportado",description:`O widget "${a}" foi exportado como PNG`})}catch(t){console.error("[v0] Error exporting widget:",t),o({title:"Erro ao exportar",description:"Não foi possível exportar o widget",variant:"destructive"})}},se=({widgetId:s,widgetTitle:a})=>e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>zt(s,a),className:"h-7 w-7 p-0 hover:bg-primary/10",title:"Exportar widget como PNG","data-export-button":!0,children:e.jsx(re,{className:"h-3.5 w-3.5"})}),ls=({widgetId:s})=>{const a=w.find(d=>d.widgetId===s),n=a?.mode==="custom",t=n?a.customPeriod?.label:"Global";return e.jsxs(Ta,{children:[e.jsx(La,{asChild:!0,children:e.jsxs(u,{variant:"ghost",size:"sm",className:l("h-7 px-2 text-xs gap-1.5",n&&"bg-primary/10 text-primary hover:bg-primary/20"),children:[e.jsx(Ee,{className:"h-3 w-3"}),e.jsx("span",{className:"hidden sm:inline",children:"Período:"}),t,n&&e.jsx("span",{className:"text-[10px] opacity-70",children:"(custom)"}),e.jsx(fs,{className:"h-3 w-3 opacity-50"})]})}),e.jsxs(Ia,{align:"end",className:"w-56",children:[e.jsx(Fa,{className:"text-xs",children:"Período do Widget"}),e.jsx(_a,{}),e.jsxs(he,{onClick:()=>me(s,"global"),className:"text-xs",children:[e.jsx(ae,{className:l("mr-2 h-3 w-3",n?"opacity-0":"opacity-100")}),"Usar período global"]}),e.jsxs(he,{onClick:()=>me(s,"today"),className:"text-xs",children:[e.jsx(ae,{className:l("mr-2 h-3 w-3",a?.mode==="custom"&&a?.customPeriod?.label==="Hoje"?"opacity-100":"opacity-0")}),"Hoje"]}),e.jsxs(he,{onClick:()=>me(s,"7days"),className:"text-xs",children:[e.jsx(ae,{className:l("mr-2 h-3 w-3",a?.mode==="custom"&&a?.customPeriod?.label==="Últimos 7 dias"?"opacity-100":"opacity-0")}),"Últimos 7 dias"]}),e.jsxs(he,{onClick:()=>me(s,"30days"),className:"text-xs",children:[e.jsx(ae,{className:l("mr-2 h-3 w-3",a?.mode==="custom"&&a?.customPeriod?.label==="Últimos 30 dias"?"opacity-100":"opacity-0")}),"Últimos 30 dias"]}),e.jsxs(he,{onClick:()=>me(s,"thisMonth"),className:"text-xs",children:[e.jsx(ae,{className:l("mr-2 h-3 w-3",a?.mode==="custom"&&a?.customPeriod?.label==="Este mês"?"opacity-100":"opacity-0")}),"Este mês"]}),e.jsxs(he,{onClick:()=>me(s,"lastMonth"),className:"text-xs",children:[e.jsx(ae,{className:l("mr-2 h-3 w-3",a?.mode==="custom"&&a?.customPeriod?.label==="Mês passado"?"opacity-100":"opacity-0")}),"Mês passado"]}),e.jsxs(he,{onClick:()=>me(s,"90days"),className:"text-xs",children:[e.jsx(ae,{className:l("mr-2 h-3 w-3",a?.mode==="custom"&&a?.customPeriod?.label==="Últimos 90 dias"?"opacity-100":"opacity-0")}),"Últimos 90 dias"]}),e.jsxs(he,{onClick:()=>me(s,"365days"),className:"text-xs",children:[e.jsx(ae,{className:l("mr-2 h-3 w-3",a?.mode==="custom"&&a?.customPeriod?.label==="Último ano"?"opacity-100":"opacity-0")}),"Último ano"]})]})]})},[J,ie]=c.useState([{id:"metrics",type:"metrics",visible:!0,order:0},{id:"ltv",type:"ltv",visible:!0,order:1},{id:"mrr",type:"mrr",visible:!0,order:2},{id:"churn",type:"churn",visible:!0,order:3},{id:"revenue",type:"revenue",visible:!0,order:4},{id:"averageTicket",type:"averageTicket",visible:!0,order:5},{id:"activeProjectsWidget",type:"activeProjectsWidget",visible:!0,order:6},{id:"creditPlans",type:"creditPlans",visible:!0,order:7},{id:"accountsReceivable",type:"accountsReceivable",visible:!0,order:8},{id:"activity",type:"activity",visible:!0,order:9},{id:"alerts",type:"alerts",visible:!0,order:10},{id:"performers",type:"performers",visible:!0,order:11},{id:"quickActions",type:"quickActions",visible:!0,order:12},{id:"userDistribution",type:"userDistribution",visible:!0,order:13},{id:"activeUsers",type:"activeUsers",visible:!0,order:14},{id:"systemAlerts",type:"systemAlerts",visible:!0,order:15},{id:"adminProfiles",type:"adminProfiles",visible:!0,order:16},{id:"permissionMatrix",type:"permissionMatrix",visible:!0,order:17},{id:"managementTools",type:"managementTools",visible:!0,order:18},{id:"cmv",type:"cmv",visible:!0,order:19},{id:"nomadsIndicators",type:"nomadsIndicators",visible:!0,order:20},{id:"tasks",type:"tasks",visible:!0,order:21},{id:"platformActivities",type:"platformActivities",visible:!0,order:22},{id:"nomades",type:"nomades",visible:!0,order:23},{id:"nomadsRanking",type:"nomadsRanking",visible:!0,order:24},{id:"agenciesRanking",type:"agenciesRanking",visible:!0,order:25},{id:"statusOverview",type:"statusOverview",visible:!0,order:26}]),[j,Me]=c.useState(null),[T,ye]=c.useState(null),[li,di]=c.useState(!1),[ci,mi]=c.useState([]),[As,Es]=c.useState(!1),[L,Tt]=c.useState("standard"),[Q,Oe]=c.useState([]),[pe,Ae]=c.useState(null),[Lt,Ve]=c.useState(!1),[Ue,$s]=c.useState(""),[It,Ft]=c.useState(!1),[zs,_t]=c.useState(null),[Be,Ts]=c.useState(""),[Wt,ds]=c.useState(!1),[Vt,qe]=c.useState(!1),[Ls,Is]=c.useState(null),[Fs,cs]=c.useState(!1),[Ge,ms]=c.useState([]),[xs,_s]=c.useState(""),Ut=s=>{Is(s);const a=Q.find(n=>n.id===s);a&&(cs(a.isGlobal??!1),ms(a.sharedWith??[])),qe(!0)},Ws=()=>{if(!zs||!Be.trim())return;const s=Q.map(a=>a.id===zs?{...a,name:Be.trim(),updatedAt:new Date().toISOString()}:a);Oe(s),localStorage.setItem("saved-dashboards",JSON.stringify(s)),ds(!1),_t(null),Ts("")};c.useEffect(()=>{const s=localStorage.getItem("dashboard-widget-config");if(s)try{const x=JSON.parse(s);ie(x.map(N=>({...N,id:N.id||`${N.type}-${Math.random().toString(36).substr(2,9)}`})))}catch(x){console.error("[v0] Failed to parse saved widget config:",x)}const a=localStorage.getItem("dashboard-metric-cards");if(a)try{is(JSON.parse(a))}catch(x){console.error("[v0] Failed to parse saved metric cards:",x)}const n=localStorage.getItem("dashboard-column-layout");n&&Rs(n);const t=localStorage.getItem("dashboard-widget-size");t&&Tt(t);const d=localStorage.getItem("dashboard-widget-periods");if(d)try{B(JSON.parse(d))}catch(x){console.error("[v0] Failed to parse saved widget periods:",x)}const p=localStorage.getItem("saved-dashboards");if(p){const x=JSON.parse(p);Oe(x);const N=x.find(z=>z.id===localStorage.getItem("current-dashboard-id"));N&&(Ae(N.id),ie(N.widgets))}},[]),c.useEffect(()=>{localStorage.setItem("dashboard-widget-config",JSON.stringify(J.map(s=>({id:s.id,type:s.type,visible:s.visible,order:s.order,customTitle:s.customTitle})))),localStorage.setItem("dashboard-metric-cards",JSON.stringify(ee)),localStorage.setItem("dashboard-column-layout",Pe),localStorage.setItem("dashboard-widget-size",L),localStorage.setItem("dashboard-widget-periods",JSON.stringify(w)),localStorage.setItem("saved-dashboards",JSON.stringify(Q)),pe&&localStorage.setItem("current-dashboard-id",pe)},[J,ee,Pe,L,w,Q,pe]),c.useEffect(()=>{console.log("[v0] AdminDashboardPage mounted successfully"),console.log("[v0] Widgets count:",J.length),console.log("[v0] MetricCards count:",ee.length)},[]);const Bt=[{id:"metrics",name:"Cards de Métricas",description:"Principais métricas (Usuários, Empresas, Projetos, etc.)",icon:ke,color:"blue"},{id:"accountsReceivable",name:"À Receber",description:"Valores garantidos a receber por tipo (Planos, Pós-pagos, Outros)",icon:ue,color:"green"},{id:"platformActivities",name:"Atividades da Plataforma",description:"Agências ativas, tempo de uso, MAU e DAU com crescimento",icon:$e,color:"blue"},{id:"tasks",name:"Tarefas (Resumo)",description:"Tarefas executadas, em execução e contratadas com SLA",icon:Xs,color:"green"},{id:"nomads",name:"Nômades",description:"Total, ativos e inativos com variações percentuais",icon:X,color:"indigo"},{id:"nomadsIndicators",name:"Indicadores dos Nômades",description:"KPIs de desempenho, atividade e qualidade dos nômades",icon:X,color:"purple"},{id:"nomadsRanking",name:"Ranking de Nômades",description:"Top 10 nômades por avaliação e projetos concluídos",icon:mt,color:"yellow"},{id:"agenciesRanking",name:"Ranking de Agências",description:"Top 10 agências por projetos e contribuição",icon:ze,color:"cyan"},{id:"statusOverview",name:"Visão Geral por Status",description:"Quantidade de Projetos, Tarefas e Leads por status",icon:ke,color:"blue"},{id:"cmv",name:"CMV (Custo de Mercadoria Vendida)",description:"Custos diretos (nômades, impostos, comissões) vs faturamento",icon:Zs,color:"orange"},{id:"ltv",name:"LTV (Lifetime Value)",description:"Valor médio que um cliente gera durante todo o relacionamento",icon:A,color:"purple"},{id:"mrr",name:"MRR (Receita Recorrente)",description:"Monthly Recurring Revenue com New, Expansion, Contraction e Churn",icon:A,color:"red"},{id:"churn",name:"CHURN",description:"Inativações de contas por tipo e projetos cancelados",icon:ge,color:"red"},{id:"revenue",name:"Receita",description:"Receita total por tipo (Plano, Recorrente, Avulsa)",icon:ue,color:"emerald"},{id:"averageTicket",name:"Ticket Médio",description:"Ticket médio geral, por tipo de conta e por projeto",icon:ue,color:"teal"},{id:"activeProjectsWidget",name:"Projetos Ativos",description:"Projetos ativos por tipo (Agências e Lead Premium) com novos projetos",icon:be,color:"indigo"},{id:"creditPlans",name:"Planos de Crédito",description:"Entrada de receita por tipo de plano com novas contratações",icon:js,color:"slate"},{id:"activity",name:"Atividade Recente",description:"Últimas ações e eventos no sistema",icon:$e,color:"amber"},{id:"alerts",name:"Alertas Rápidos",description:"Notificações importantes que requerem atenção",icon:Nt,color:"orange"},{id:"performers",name:"Melhores Nômades",description:"Top performers baseado em avaliações e projetos",icon:Ke,color:"yellow"},{id:"quickActions",name:"Ações Rápidas",description:"Atalhos para tarefas administrativas comuns",icon:Aa,color:"sky"},{id:"userDistribution",name:"Distribuição de Usuários",description:"Breakdown por tipo de conta",icon:X,color:"blue"},{id:"activeUsers",name:"Usuários Ativos",description:"Usuários ativos por tipo de conta no período",icon:Te,color:"green"},{id:"systemAlerts",name:"Alertas do Sistema",description:"Avisos importantes sobre o sistema",icon:as,color:"red"},{id:"adminProfiles",name:"Perfis Admin",description:"Membros da equipe administrativa",icon:et,color:"purple"},{id:"permissionMatrix",name:"Matriz de Permissões",description:"Visualização das permissões por módulo e perfil",icon:st,color:"orange"},{id:"managementTools",name:"Ferramentas de Gestão",description:"Acesso rápido a ferramentas administrativas essenciais",icon:Je,color:"gray"}],qt={"7d":{totalUsers:{value:"2,847",change:8.5,trend:"up"},activeUsers:{value:"1,984",change:7.2,trend:"up"},companies:{value:"89",change:3.5,trend:"up"},activeProjects:{value:"378",change:-4.2,trend:"down"},revenue:{value:"R$ 94.9k",change:10.5,trend:"up",breakdown:{creditPlan:{value:"R$ 39.7k",change:14.2},recurring:{value:"R$ 33.1k",change:8.9},oneTime:{value:"R$ 22.1k",change:7.3}}},avgRating:{value:4.6,change:.1,trend:"up",breakdown:{nomades:{value:4.7,change:.2,trend:"up"},agencies:{value:4.5,change:-.1,trend:"down"},leadPremium:{value:4.3,change:.1,trend:"up"},support:{value:4.8,change:.3,trend:"up"},projects:{value:4.4,change:0,trend:"up"}}}},"30d":{totalUsers:{value:"2,847",change:12.5,trend:"up"},activeUsers:{value:"2,134",change:8.3,trend:"up"},companies:{value:"89",change:5.6,trend:"up"},activeProjects:{value:"456",change:-2.1,trend:"down"},revenue:{value:"R$ 284.7k",change:15.2,trend:"up",breakdown:{creditPlan:{value:"R$ 119.1k",change:18.7},recurring:{value:"R$ 99.1k",change:13.4},oneTime:{value:"R$ 66.5k",change:10.9}}},avgRating:{value:4.8,change:.3,trend:"up",breakdown:{nomades:{value:4.9,change:.4,trend:"up"},agencies:{value:4.7,change:.2,trend:"up"},leadPremium:{value:4.6,change:.3,trend:"up"},support:{value:4.9,change:.4,trend:"up"},projects:{value:4.7,change:.2,trend:"up"}}}},"90d":{totalUsers:{value:"2,847",change:28.7,trend:"up"},activeUsers:{value:"2,456",change:18.9,trend:"up"},companies:{value:"89",change:15.3,trend:"up"},activeProjects:{value:"512",change:7.8,trend:"up"},revenue:{value:"R$ 854.1k",change:32.4,trend:"up",breakdown:{creditPlan:{value:"R$ 357.2k",change:35.8},recurring:{value:"R$ 297.4k",change:31.2},oneTime:{value:"R$ 199.5k",change:28.9}}},avgRating:{value:4.9,change:.5,trend:"up",breakdown:{nomades:{value:5,change:.6,trend:"up"},agencies:{value:4.8,change:.4,trend:"up"},leadPremium:{value:4.7,change:.5,trend:"up"},support:{value:5,change:.6,trend:"up"},projects:{value:4.8,change:.4,trend:"up"}}}},custom:{totalUsers:{value:"2,847",change:10,trend:"up"},activeUsers:{value:"2,000",change:7.5,trend:"up"},companies:{value:"89",change:4.2,trend:"up"},activeProjects:{value:"440",change:1.5,trend:"up"},revenue:{value:"R$ 148.9k",change:12,trend:"up",breakdown:{creditPlan:{value:"R$ 62.3k",change:18},recurring:{value:"R$ 51.8k",change:9},oneTime:{value:"R$ 34.8k",change:4}}},avgRating:{value:4.6,change:.2,trend:"up",breakdown:{nomades:{value:4.7,change:.2,trend:"up"},agencies:{value:4.5,change:.1,trend:"up"},leadPremium:{value:4.3,change:0,trend:"up"},support:{value:4.8,change:.3,trend:"up"},projects:{value:4.4,change:.1,trend:"up"}}}}}[_e],Gt=[{id:1,type:"user_registered",title:"Novo usuário cadastrado",description:"Maria Silva se cadastrou como Nômade",time:"5 minutos atrás",icon:X,color:"text-success",bgColor:"bg-success/10"},{id:2,type:"project_created",title:"Novo projeto criado",description:"TechCorp criou o projeto 'Desenvolvimento Mobile'",time:"15 minutos atrás",icon:be,color:"text-info",bgColor:"bg-info/10"},{id:3,type:"user_updated",title:"Perfil atualizado",description:"João Costa atualizou suas informações",time:"1 hora atrás",icon:Te,color:"text-primary",bgColor:"bg-primary/10"},{id:4,type:"company_registered",title:"Nova empresa cadastrada",description:"InnovaTech se registrou na plataforma",time:"2 horas atrás",icon:ze,color:"text-chart-4",bgColor:"bg-chart-4/10"}],Vs=[{id:1,type:"warning",title:"Atualização de segurança disponível",description:"Recomendamos atualizar o sistema para a versão mais recente",priority:"high"},{id:2,type:"info",title:"Manutenção programada",description:"Manutenção agendada para domingo, 28/01 às 02:00",priority:"medium"},{id:3,type:"warning",title:"Espaço de armazenamento",description:"85% do espaço de armazenamento está sendo utilizado",priority:"medium"}],Us=[{id:1,name:"Ana Santos",rating:4.9,projects:45,badge:"gold"},{id:2,name:"Pedro Costa",rating:4.8,projects:38,badge:"silver"},{id:3,name:"Maria Oliveira",rating:4.7,projects:32,badge:"bronze"}],Ht=[{type:"Empresas",count:847,percentage:29.8,growth:"+15%",color:"from-info to-info-foreground"},{type:"Agências",count:623,percentage:21.9,growth:"+22%",color:"from-success to-success-foreground"},{type:"Nômades",count:1247,percentage:43.8,growth:"+8%",color:"from-chart-4 to-chart-4"},{type:"Admins",count:130,percentage:4.5,growth:"+3%",color:"from-warning to-warning-foreground"}],Jt=[{message:"Sistema de pagamentos funcionando normalmente",type:"success",time:"Agora"},{message:"Pico de tráfego detectado (+45%)",type:"info",time:"5 min atrás"},{message:"Backup automático concluído",type:"success",time:"1h atrás"},{message:"2 disputas pendentes de resolução",type:"warning",time:"3h atrás"}],Yt=[{name:"Master Admin",permissions:"Acesso Total",users:1,color:"from-destructive/10 to-destructive/20 dark:from-destructive/5 dark:to-destructive/10",description:"Controle completo da plataforma"},{name:"Gestão Financeira",permissions:"Financeiro",users:3,color:"from-success/10 to-success/20 dark:from-success/5 dark:to-success/10",description:"Relatórios, pagamentos e receitas"},{name:"Comercial",permissions:"Vendas & Marketing",users:5,color:"from-info/10 to-info/20 dark:from-info/5 dark:to-info/10",description:"Gestão de clientes e campanhas"},{name:"Gestão de Tarefas",permissions:"Operacional",users:4,color:"from-primary/10 to-primary/20 dark:from-primary/5 dark:to-primary/10",description:"Projetos, nômades e qualidade"}],Kt=[{module:"Usuários",master:!0,financeiro:!1,comercial:!0,operacional:!1},{module:"Financeiro",master:!0,financeiro:!0,comercial:!1,operacional:!1},{module:"Projetos",master:!0,financeiro:!1,comercial:!0,operacional:!0},{module:"Relatórios",master:!0,financeiro:!0,comercial:!0,operacional:!0},{module:"Configurações",master:!0,financeiro:!1,comercial:!1,operacional:!1},{module:"Disputas",master:!0,financeiro:!1,comercial:!1,operacional:!0}],Bs=s=>{switch(s){case"error":return e.jsx(kt,{className:"h-4 w-4"});case"warning":return e.jsx(Wa,{className:"h-4 w-4"});case"success":return e.jsx(Ie,{className:"h-4 w-4"});default:return e.jsx($e,{className:"h-4 w-4"})}},Qt=s=>{switch(s){case"error":return"text-destructive-foreground bg-destructive/10 border-destructive";case"warning":return"text-warning-foreground bg-warning-muted border-warning";case"success":return"text-success-foreground bg-success-muted border-success";default:return"text-info-foreground bg-info-muted border-info"}},qs=s=>{switch(s){case"gold":return"bg-warning/20 text-warning-foreground dark:bg-warning/10 dark:text-warning";case"silver":return"bg-muted text-muted-foreground dark:bg-muted/30 dark:text-muted-foreground";case"bronze":return"bg-orange-500/20 text-orange-500 dark:bg-orange-500/10 dark:text-orange-500";default:return"bg-muted text-muted-foreground dark:bg-muted/30 dark:text-muted-foreground"}},Gs=s=>{const a=window.getComputedStyle(s);["color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"].forEach(t=>{const d=a.getPropertyValue(t);if(d&&d.includes("oklch")){const p=document.createElement("div");p.style[t]=d,document.body.appendChild(p);const x=window.getComputedStyle(p).getPropertyValue(t);document.body.removeChild(p),s.style[t]=x}}),Array.from(s.children).forEach(t=>{Gs(t)})},Xt=async()=>{const s=J.filter(a=>a.visible).map(a=>a.type);if(s.length===0){console.log("[v0] No visible widgets to export");return}console.log("[v0] Starting PDF export with widgets:",s),Es(!0);try{const a=document.createElement("div");a.style.position="absolute",a.style.left="-9999px",a.style.top="0",a.style.width="1200px",a.style.backgroundColor="#f1f5f9",a.style.padding="40px",document.body.appendChild(a);const n=document.createElement("div");n.style.marginBottom="30px",n.innerHTML=`
        <h1 style="font-size: 32px; font-weight: bold; color: #1e293b; margin-bottom: 8px;">Painel de Administração - Allka</h1>
        <p style="font-size: 16px; color: #64748b;">Relatório gerado em ${vt(new Date,"dd/MM/yyyy 'às' HH:mm")}</p>
        <p style="font-size: 14px; color: #64748b; margin-top: 4px;">Período: ${i.label}</p>
      `,a.appendChild(n);for(const fe of s){const Y=document.querySelector(`[data-widget-id="${fe}"]`);if(Y){console.log("[v0] Cloning widget:",fe);const K=Y.cloneNode(!0);K.querySelectorAll("[data-customize-control]").forEach(O=>O.remove()),K.style.marginBottom="24px",Gs(K),a.appendChild(K)}}console.log("[v0] Generating canvas with html2canvas");const t=await ct(a,{scale:2,logging:!1,useCORS:!0,backgroundColor:"#f1f5f9"});document.body.removeChild(a);const d=t.toDataURL("image/png"),p=(await bt(async()=>{const{default:fe}=await import("./jspdf.es.min-CkvBrDcy.js").then(Y=>Y.j);return{default:fe}},__vite__mapDeps([0,1,2]))).default,x=new p({orientation:"portrait",unit:"mm",format:"a4"}),N=210,z=297,le=t.height*N/t.width;let de=le,te=0;for(x.addImage(d,"PNG",0,te,N,le),de-=z;de>0;)te=de-le,x.addPage(),x.addImage(d,"PNG",0,te,N,le),de-=z;const we=`dashboard-allka-${vt(new Date,"yyyy-MM-dd-HHmm")}.pdf`;console.log("[v0] Saving PDF:",we),x.save(we)}catch(a){console.error("[v0] Error exporting PDF:",a),alert("Erro ao gerar PDF. Por favor, tente novamente.")}finally{Es(!1)}},Zt=(s,a)=>{oe&&(s.stopPropagation(),Se(a),s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("text/plain",a))},ea=(s,a)=>{!oe||!Ce||(s.preventDefault(),s.stopPropagation(),s.dataTransfer.dropEffect="move",Ne(a))},sa=s=>{s.preventDefault(),s.stopPropagation(),Ne(null)},ta=(s,a)=>{if(s.preventDefault(),s.stopPropagation(),!Ce||Ce===a||!oe){Se(null),Ne(null);return}const n=ee.findIndex(x=>x.id===Ce),t=ee.findIndex(x=>x.id===a);if(n===-1||t===-1){Se(null),Ne(null);return}const d=[...ee],[p]=d.splice(n,1);d.splice(t,0,p),d.forEach((x,N)=>{x.order=N}),is(d),Se(null),Ne(null)},aa=s=>{s.preventDefault(),s.stopPropagation(),Se(null),Ne(null)},I=(s,a)=>{Me(a),s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("text/html",a)},F=(s,a)=>{s.preventDefault(),s.dataTransfer.dropEffect="move",ye(a)},_=()=>{ye(null)},W=(s,a)=>{if(s.preventDefault(),!j||j===a){Me(null),ye(null);return}const n=J.findIndex(x=>x.id===j),t=J.findIndex(x=>x.id===a);if(n===-1||t===-1){Me(null),ye(null);return}const d=[...J],[p]=d.splice(n,1);d.splice(t,0,p),d.forEach((x,N)=>{x.order=N}),ie(d),Me(null),ye(null)},V=()=>{Me(null),ye(null)},ra=s=>{ie(a=>a.map(n=>n.id===s?{...n,visible:!n.visible}:n))},us=s=>{is(a=>a.map(n=>n.id===s?{...n,visible:!n.visible}:n))},ia=s=>{if(J.find(n=>n.type===s))ie(n=>n.map(t=>t.type===s?{...t,visible:!0}:t));else{const n=Math.max(...J.map(t=>t.order),-1);ie(t=>[...t,{id:`${s}-${Math.random().toString(36).substr(2,9)}`,type:s,order:n+1,visible:!0,customTitle:""}])}},Hs=s=>{ia(s)},na=s=>{ie(a=>a.filter(n=>n.id!==s))},Js=s=>{ie(a=>a.filter(n=>n.id!==s))},oa=s=>{const a=J.find(n=>n.id===s);Rt(a?.customTitle||""),Pt(a?.type||null)},S=(s,a)=>({metrics:"Métricas Principais",activity:"Atividade Recente",alerts:"Alertas Rápidos",performers:"Melhores Nômades",quickActions:"Ações Rápidas",userDistribution:"Distribuição de Usuários",activeUsers:"Usuários Ativos",systemAlerts:"Alertas do Sistema",adminProfiles:"Perfis Administrativos",revenue:"Receita",activeProjectsWidget:"Projetos Ativos",creditPlans:"Planos de Crédito",mrr:"MRR (Receita Recorrente)",permissionMatrix:"Matriz de Permissões",managementTools:"Ferramentas de Gestão",churn:"CHURN",averageTicket:"Ticket Médio",ltv:"LTV (Lifetime Value)",cmv:"CMV (Custo de Mercadoria Vendida)",nomads:"Nômades",nomadsIndicators:"Indicadores dos Nômades",tasks:"Tarefas (Resumo)",platformActivities:"Atividades da Plataforma",nomadsRanking:"Ranking de Nômades",agenciesRanking:"Ranking de Agências",statusOverview:"Visão Geral por Status",accountsReceivable:"À Receber"})[s]||s,la=()=>{switch(Pe){case"1":return"grid-cols-1";case"2-equal":return"grid-cols-1 lg:grid-cols-2";case"2-33-66":return"grid-cols-1 lg:grid-cols-[33%_66%]";case"2-66-33":return"grid-cols-1 lg:grid-cols-[66%_33%]";case"3-equal":return"grid-cols-1 lg:grid-cols-3";case"3-25-50-25":return"grid-cols-1 lg:grid-cols-[25%_50%_25%]";default:return"grid-cols-1"}},da=[{id:"1",label:"100",description:"Uma coluna"},{id:"2-equal",label:"50 / 50",description:"Duas colunas iguais"},{id:"2-33-66",label:"33 / 66",description:"Duas colunas (1/3 - 2/3)"},{id:"2-66-33",label:"66 / 33",description:"Duas colunas (2/3 - 1/3)"},{id:"3-equal",label:"33 / 33 / 33",description:"Três colunas iguais"},{id:"3-25-50-25",label:"25 / 50 / 25",description:"Três colunas variadas"}],U=s=>T===s&&j!==s?"border-2 border-success shadow-lg shadow-success/50 scale-105 rounded-lg":"",ca={totalUsers:X,activeUsers:Te,companies:ze,activeProjects:be,revenue:ue,avgRating:Le},ma={totalUsers:"Total de Usuários",activeUsers:"Usuários Ativos",companies:"Empresas",activeProjects:"Projetos Ativos",revenue:"Receita",avgRating:"Avaliação Média"},Ys=s=>{const a=qt[s];if(!a||!ee.find(O=>O.id===s)?.visible)return null;const n=ca[s],t=ma[s],d=L==="compact"?"p-3":"p-5",p=L==="compact"?"text-xs":"text-sm",x=L==="compact"?"text-2xl":"text-3xl",N=L==="compact"?"h-5 w-5":"h-6 w-6",z="p-3",le=L==="compact"?"text-[10px]":"text-xs",de=L==="compact"?"space-y-1":"space-y-2",te=oe,we=Ce===s,fe=Ct===s;let Y,K;switch(s){case"totalUsers":Y="from-info to-info-foreground",K="from-info/5";break;case"activeUsers":Y="from-success to-success-foreground",K="from-success/5";break;case"companies":Y="from-chart-4 to-chart-4",K="from-chart-4/5";break;case"activeProjects":Y="from-warning to-warning-foreground",K="from-warning/5";break;case"revenue":Y="from-success to-success-foreground",K="from-success/5";break;case"avgRating":Y="from-warning to-warning-foreground",K="from-warning/5";break;default:Y="from-muted to-muted-foreground",K="from-muted/5"}const hs={draggable:te,onDragStart:O=>Zt(O,s),onDragOver:O=>ea(O,s),onDragLeave:sa,onDrop:O=>ta(O,s),onDragEnd:aa,className:l("group relative overflow-hidden border-0 shadow-md transition-all duration-200",te&&"cursor-grab active:cursor-grabbing",we&&"opacity-40 scale-95 shadow-xl",fe&&"ring-2 ring-primary ring-offset-2 scale-[1.02] shadow-lg",!we&&!fe&&!te&&"hover:shadow-lg hover:-translate-y-0.5")};return s==="revenue"?e.jsxs(k,{...hs,children:[te&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-2 left-2 z-10 bg-background/95 border rounded-md shadow-sm p-1 backdrop-blur-sm cursor-grab active:cursor-grabbing",children:e.jsx($,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-1 bg-background/95 border rounded-md shadow-sm p-0.5 backdrop-blur-sm",children:e.jsx(u,{variant:"ghost",size:"sm",onClick:O=>{O.stopPropagation(),O.preventDefault(),us(s)},onMouseDown:O=>O.stopPropagation(),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",title:"Ocultar métrica",children:e.jsx(Fe,{className:"h-3 w-3"})})})]}),e.jsx("div",{className:l("absolute inset-0 bg-gradient-to-br to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",K)}),e.jsx(D,{className:l(d,"relative"),children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:de,children:[e.jsx("p",{className:l(p,"font-medium text-muted-foreground"),children:t}),e.jsx("p",{className:l(x,"font-bold text-foreground"),children:a.value}),e.jsxs(C,{variant:"outline",className:l(le,"font-semibold backdrop-blur-sm",a.trend==="up"?"bg-success-muted/80 text-success-foreground border-success/50":"bg-destructive/10 text-destructive border-destructive/50"),children:[a.trend==="up"?e.jsx(A,{className:l(L==="compact"?"h-2.5 w-2.5":"h-3 w-3","mr-1")}):e.jsx(ge,{className:l(L==="compact"?"h-2.5 w-2.5":"h-3 w-3","mr-1")}),Math.abs(a.change),"%"]})]}),e.jsx("div",{className:l("inline-flex rounded-2xl bg-gradient-to-br shadow-lg transition-shadow duration-300",Y,z),children:e.jsx(n,{className:l(N,"text-white")})})]}),L!=="compact"&&a.breakdown&&e.jsxs("div",{className:"space-y-2 pt-2 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Plano de Crédito"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-semibold text-foreground",children:a.breakdown.creditPlan.value}),e.jsxs("span",{className:l("font-medium",a.breakdown.creditPlan.change>=0?"text-success":"text-destructive"),children:[a.breakdown.creditPlan.change>=0?"+":"",a.breakdown.creditPlan.change,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Compra Recorrente"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-semibold text-foreground",children:a.breakdown.recurring.value}),e.jsxs("span",{className:l("font-medium",a.breakdown.recurring.change>=0?"text-success":"text-destructive"),children:[a.breakdown.recurring.change>=0?"+":"",a.breakdown.recurring.change,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Compra Avulsa"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"font-semibold text-foreground",children:a.breakdown.oneTime.value}),e.jsxs("span",{className:l("font-medium",a.breakdown.oneTime.change>=0?"text-success":"text-destructive"),children:[a.breakdown.oneTime.change>=0?"+":"",a.breakdown.oneTime.change,"%"]})]})]})]})]})})})]},s):e.jsxs(k,{...hs,children:[te&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-2 left-2 z-10 bg-background/95 border rounded-md shadow-sm p-1 backdrop-blur-sm cursor-grab active:cursor-grabbing",children:e.jsx($,{className:"h-3.5 w-3.5 text-muted-foreground"})}),e.jsx("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-1 bg-background/95 border rounded-md shadow-sm p-0.5 backdrop-blur-sm",children:e.jsx(u,{variant:"ghost",size:"sm",onClick:O=>{O.stopPropagation(),O.preventDefault(),us(s)},onMouseDown:O=>O.stopPropagation(),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",title:"Ocultar métrica",children:e.jsx(Fe,{className:"h-3 w-3"})})})]}),e.jsx("div",{className:l("absolute inset-0 bg-gradient-to-br to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",K)}),e.jsxs(D,{className:l(d,"relative"),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:de,children:[e.jsx("p",{className:l(p,"font-medium text-muted-foreground"),children:t}),e.jsx("p",{className:l(x,"font-bold text-foreground"),children:typeof a.value=="number"?a.value.toLocaleString():a.value}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(C,{variant:"outline",className:l(le,"font-semibold backdrop-blur-sm",a.trend==="up"?"bg-success-muted/80 text-success-foreground border-success/50":"bg-destructive/10 text-destructive border-destructive/50"),children:[a.trend==="up"?e.jsx(A,{className:l(L==="compact"?"h-2.5 w-2.5":"h-3 w-3","mr-1")}):e.jsx(ge,{className:l(L==="compact"?"h-2.5 w-2.5":"h-3 w-3","mr-1")}),Math.abs(a.change),s==="avgRating"?" pts":"%"]}),e.jsx("span",{className:l(L==="compact"?"text-[10px]":"text-xs","text-muted-foreground"),children:s==="avgRating"?"de 5.0":"vs. período anterior"})]})]}),e.jsx("div",{className:l("inline-flex rounded-2xl bg-gradient-to-br shadow-lg transition-shadow duration-300",Y,z),children:e.jsx(n,{className:l(N,"text-white")})})]}),s==="avgRating"&&L!=="compact"&&a.breakdown&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50 space-y-2",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-3",children:"Por categoria:"}),Object.entries(a.breakdown).map(([O,ve])=>{const va={nomades:"Nômades",agencies:"Agências",leadPremium:"Lead Premium",support:"Atendimento",projects:"Projetos"}[O],ba=ve.value/5*100;return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"font-medium text-foreground",children:va}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-foreground",children:ve.value.toFixed(1)}),e.jsxs("span",{className:l("text-[10px] font-medium flex items-center gap-0.5",ve.trend==="up"?"text-success-foreground":"text-destructive"),children:[ve.trend==="up"?"↑":"↓",Math.abs(ve.change).toFixed(1)]})]})]}),e.jsx("div",{className:"h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:l("h-full rounded-full transition-all duration-500",ve.value>=4.5?"bg-gradient-to-r from-success to-success":ve.value>=4?"bg-gradient-to-r from-warning to-warning":"bg-gradient-to-r from-destructive to-destructive"),style:{width:`${ba}%`}})})]},O)})]})]})]},s)},xa=s=>{$t(s.id);const a=n=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-2 left-2 z-10 p-1.5 bg-background/95 rounded-lg backdrop-blur-sm shadow-md border cursor-grab active:cursor-grabbing","data-customize-control":!0,children:e.jsx($,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-1 bg-background/95 border rounded-lg shadow-lg p-1 backdrop-blur-sm","data-customize-control":!0,children:[e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>ra(n.id),className:"h-7 w-7 p-0 hover:bg-destructive/10 hover:text-destructive",title:"Ocultar widget",children:e.jsx(Fe,{className:"h-3.5 w-3.5"})}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>oa(n.id),className:"h-7 w-7 p-0 hover:bg-primary/10",title:"Editar widget",children:e.jsx(xt,{className:"h-3.5 w-3.5"})}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>na(n.id),className:"h-7 w-7 p-0 text-destructive hover:text-destructive hover:bg-destructive/10",title:"Remover widget",children:e.jsx(bs,{className:"h-3.5 w-3.5"})})]})]});switch(s.type){case"metrics":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(R,{className:"text-lg font-semibold",children:S(s.type)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)}),e.jsx(ls,{widgetId:s.id}),e.jsxs(u,{variant:oe?"default":"outline",size:"sm",onClick:()=>St(!oe),className:l("text-xs transition-all duration-300",oe&&"shadow-lg shadow-primary/30"),children:[e.jsx(xt,{className:"h-3 w-3 mr-1"}),oe?"Concluir Edição":"Editar Widgets"]})]})]})}),e.jsxs(D,{children:[oe&&ee.some(t=>!t.visible)&&e.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg border-2 border-dashed",children:[e.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Métricas Ocultas"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ee.filter(t=>!t.visible).map(t=>{const d={totalUsers:"Total de Usuários",activeUsers:"Usuários Ativos",companies:"Empresas",activeProjects:"Projetos Ativos",revenue:"Receita",avgRating:"Avaliação Média"};return e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>us(t.id),className:"text-xs",children:[e.jsx(Ye,{className:"h-3 w-3 mr-1"}),d[t.id]]},t.id)})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.filter(t=>t.visible).sort((t,d)=>t.order-d.order).map(t=>Ys(t.id))})]})]})]},s.id);case"userDistribution":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(R,{className:"text-lg font-semibold",children:S(s.type)})]}),e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)})]})}),e.jsx(D,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Ht.map((t,d)=>e.jsxs("div",{className:"group p-5 rounded-xl border-0 bg-gradient-to-br from-background to-background/50 shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-0.5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{className:l("text-xs font-semibold bg-gradient-to-r text-white shadow-sm",t.color),children:t.type}),e.jsx(C,{className:l("text-xs font-semibold",t.growth.startsWith("+")?"bg-success-muted/80 text-success-foreground border-success/50":"bg-destructive/10 text-destructive border-destructive/50"),children:t.growth})]}),e.jsx("p",{className:"text-3xl font-bold text-foreground",children:t.count.toLocaleString()}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.percentage,"% do total"]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden mt-2",children:e.jsx("div",{className:l("h-full rounded-full transition-all duration-500",t.color),style:{width:`${t.percentage}%`}})})]},d))})})]})]},s.id);case"systemAlerts":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5 text-destructive"}),S(s.type)]})]}),e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)})]})}),e.jsx(D,{className:"space-y-3",children:Jt.map((t,d)=>e.jsxs("div",{className:l("flex items-start space-x-3 p-3 rounded-xl border-2 shadow-sm hover:shadow-md transition-all duration-200",t.type==="success"&&"bg-success-muted border-success/20 dark:bg-success/5 dark:border-success/30",t.type==="warning"&&"bg-warning-muted border-warning/20 dark:bg-warning/5 dark:border-warning/30",t.type==="info"&&"bg-info-muted border-info/20 dark:bg-info/5 dark:border-info/30"),children:[e.jsx("div",{className:"mt-0.5",children:Bs(t.type)}),e.jsx("div",{className:"flex-1 space-y-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:t.message}),e.jsx(C,{variant:"outline",className:`text-xs backdrop-blur-sm ${t.type==="success"?"bg-success-muted border-success/50 text-success-foreground":t.type==="warning"?"bg-warning-muted border-warning/50 text-warning-foreground":"bg-info-muted border-info/50 text-info-foreground"}`,children:t.time})]})})]},d))})]})]},s.id);case"adminProfiles":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(et,{className:"h-5 w-5 text-chart-4"}),S(s.type)]})]}),e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)})]})}),e.jsx(D,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Yt.map((t,d)=>e.jsxs("div",{className:"group p-5 rounded-xl border-0 bg-gradient-to-br from-background to-background/50 shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-0.5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{className:l("text-xs font-semibold bg-gradient-to-r text-white shadow-sm",t.color),children:t.name}),e.jsxs("span",{className:"text-sm font-semibold text-muted-foreground",children:[t.users," usuário",t.users>1?"s":""]})]}),e.jsx("h4",{className:"font-semibold text-base text-foreground",children:t.permissions}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description}),e.jsx("div",{className:"pt-3 border-t",children:e.jsx(G,{to:"/admin/permissoes",children:e.jsxs("button",{className:"text-xs text-primary hover:text-primary/80 font-medium flex items-center gap-1 transition-colors",children:["Gerenciar Permissões",e.jsx(je,{className:"h-3 w-3"})]})})})]},d))})})]})]},s.id);case"permissionMatrix":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(st,{className:"h-5 w-5 text-warning"}),S(s.type)]})]}),e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)})]})}),e.jsxs(D,{children:[e.jsx("div",{className:"overflow-x-auto rounded-xl border",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Módulo"}),e.jsx("th",{className:"text-center py-4 px-4 font-semibold text-destructive",children:"Master"}),e.jsx("th",{className:"text-center py-4 px-4 font-semibold text-success",children:"Financeiro"}),e.jsx("th",{className:"text-center py-4 px-4 font-semibold text-info",children:"Comercial"}),e.jsx("th",{className:"text-center py-4 px-4 font-semibold text-chart-4",children:"Operacional"})]})}),e.jsx("tbody",{children:Kt.map((t,d)=>e.jsxs("tr",{className:"border-b hover:bg-muted/30 transition-colors",children:[e.jsx("td",{className:"py-4 px-4 font-medium",children:t.module}),e.jsx("td",{className:"text-center py-4 px-4",children:t.master?e.jsx(Ie,{className:"h-5 w-5 text-success mx-auto"}):e.jsx("span",{className:"text-muted-foreground/30",children:"—"})}),e.jsx("td",{className:"text-center py-4 px-4",children:t.financeiro?e.jsx(Ie,{className:"h-5 w-5 text-success mx-auto"}):e.jsx("span",{className:"text-muted-foreground/30",children:"—"})}),e.jsx("td",{className:"text-center py-4 px-4",children:t.comercial?e.jsx(Ie,{className:"h-5 w-5 text-success mx-auto"}):e.jsx("span",{className:"text-muted-foreground/30",children:"—"})}),e.jsx("td",{className:"text-center py-4 px-4",children:t.operacional?e.jsx(Ie,{className:"h-5 w-5 text-success mx-auto"}):e.jsx("span",{className:"text-muted-foreground/30",children:"—"})})]},d))})]})}),e.jsx("div",{className:"mt-4 p-4 bg-info-muted rounded-xl border-2 border-info/20",children:e.jsxs("p",{className:"text-sm text-info-foreground flex items-start gap-2",children:[e.jsx(gr,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Nota:"})," Apenas o usuário Master pode criar e gerenciar outros perfis administrativos. O sistema de permissões será detalhado em uma tela específica de gerenciamento."]})]})})]})]})]},s.id);case"managementTools":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold",children:[e.jsx(Je,{className:"h-5 w-5 text-muted-foreground"}),S(s.type)]})]}),e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)})]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsx(G,{to:"/admin/usuarios",children:e.jsxs("button",{className:l("w-full p-4 text-left rounded-xl border-0 shadow-md transition-all hover:shadow-lg","bg-gradient-to-br from-info/5 to-info/10 hover:from-info/10 hover:to-info/20 dark:from-info/10 dark:to-info/5 dark:hover:from-info/20 dark:hover:to-info/10"),children:[e.jsx("p",{className:l("font-semibold mb-1 text-info-foreground"),children:"Gerenciar Usuários"}),e.jsx("p",{className:l("text-sm text-info"),children:"Criar, editar e desativar contas"})]})}),e.jsx(G,{to:"/admin/permissoes",children:e.jsxs("button",{className:l("w-full p-4 text-left rounded-xl border-0 shadow-md transition-all hover:shadow-lg","bg-gradient-to-br from-destructive/5 to-destructive/10 hover:from-destructive/10 hover:to-destructive/20 dark:from-destructive/10 dark:to-destructive/5 dark:hover:from-destructive/20 dark:hover:to-destructive/10"),children:[e.jsx("p",{className:l("font-semibold mb-1 text-destructive-foreground"),children:"Gerenciar Permissões"}),e.jsx("p",{className:l("text-sm text-destructive"),children:"Criar e editar perfis administrativos"})]})}),e.jsx(G,{to:"/admin/relatorios",children:e.jsxs("button",{className:l("w-full p-4 text-left rounded-xl border-0 shadow-md transition-all hover:shadow-lg","bg-gradient-to-br from-success/5 to-success/10 hover:from-success/10 hover:to-success/20 dark:from-success/10 dark:to-success/5 dark:hover:from-success/20 dark:hover:to-success/10"),children:[e.jsx("p",{className:l("font-semibold mb-1 text-success-foreground"),children:"Relatórios Financeiros"}),e.jsx("p",{className:l("text-sm text-success"),children:"Visualizar receitas e pagamentos"})]})}),e.jsx(G,{to:"/admin/configuracoes",children:e.jsxs("button",{className:l("w-full p-4 text-left rounded-xl border-0 shadow-md transition-all hover:shadow-lg","bg-gradient-to-br from-chart-4/5 to-chart-4/10 hover:from-chart-4/10 hover:to-chart-4/20 dark:from-chart-4/10 dark:to-chart-4/5 dark:hover:from-chart-4/20 dark:hover:to-chart-4/10"),children:[e.jsx("p",{className:l("font-semibold mb-1 text-chart-4"),children:"Configurações da Plataforma"}),e.jsx("p",{className:l("text-sm text-chart-4"),children:"Ajustar parâmetros do sistema"})]})}),e.jsx(G,{to:"/admin/disputas",children:e.jsxs("button",{className:l("w-full p-4 text-left rounded-xl border-0 shadow-md transition-all hover:shadow-lg","bg-gradient-to-br from-warning/5 to-warning/10 hover:from-warning/10 hover:to-warning/20 dark:from-warning/10 dark:to-warning/5 dark:hover:from-warning/20 dark:hover:to-warning/10"),children:[e.jsx("p",{className:l("font-semibold mb-1 text-warning-foreground"),children:"Resolver Disputas"}),e.jsx("p",{className:l("text-sm text-warning"),children:"Mediar conflitos entre usuários"})]})}),e.jsx(G,{to:"/admin/logs",children:e.jsxs("button",{className:l("w-full p-4 text-left rounded-xl border-0 shadow-md transition-all hover:shadow-lg","bg-gradient-to-br from-muted/5 to-muted/10 hover:from-muted/10 hover:to-muted/20 dark:from-muted/10 dark:to-muted/5 dark:hover:from-muted/20 dark:hover:to-muted/10"),children:[e.jsx("p",{className:l("font-semibold mb-1 text-foreground"),children:"Logs do Sistema"}),e.jsx("p",{className:l("text-sm text-muted-foreground"),children:"Monitorar atividades e erros"})]})})]})})]})]},s.id);case"activity":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(R,{className:"text-lg font-semibold",children:S(s.type)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)}),e.jsx(G,{to:"/admin/activity",children:e.jsxs(u,{variant:"ghost",size:"sm",className:"text-xs hover:bg-primary/10",children:["Ver todas",e.jsx(je,{className:"h-3 w-3 ml-1"})]})})]})]})}),e.jsx(D,{className:"space-y-3",children:Gt.map(t=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-xl hover:bg-muted/50 transition-all duration-200 hover:shadow-md border border-transparent hover:border-border/50",children:[e.jsx("div",{className:`p-2 rounded-xl ${t.bgColor} shadow-sm`,children:e.jsx(t.icon,{className:`h-4 w-4 ${t.color}`})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:t.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[e.jsx(za,{className:"h-3 w-3"}),e.jsx("span",{children:t.time})]})]})]},t.id))})]})]},s.id);case"alerts":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(R,{className:"text-lg font-semibold",children:S(s.type)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)}),e.jsxs(C,{variant:"outline",className:"text-xs backdrop-blur-sm",children:[Vs.length," alertas"]})]})]})}),e.jsx(D,{className:"space-y-3",children:Vs.map(t=>e.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-xl border-2 shadow-sm hover:shadow-md transition-all duration-200 ${Qt(t.type)}`,children:[e.jsx("div",{className:"mt-0.5",children:Bs(t.type)}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:t.title}),e.jsx(C,{variant:"outline",className:`text-xs backdrop-blur-sm ${t.priority==="high"?"bg-destructive/10 text-destructive border-destructive/50":"bg-warning-muted text-warning-foreground border-warning/50"}`,children:t.priority==="high"?"Alta":"Média"})]}),e.jsx("p",{className:"text-xs opacity-90",children:t.description})]})]},t.id))})]})]},s.id);case"performers":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(R,{className:"text-lg font-semibold",children:S(s.type)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)}),e.jsx(G,{to:"/admin/nomades",children:e.jsxs(u,{variant:"ghost",size:"sm",className:"text-xs hover:bg-primary/10",children:["Ver todos",e.jsx(je,{className:"h-3 w-3 ml-1"})]})})]})]})}),e.jsx(D,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Us.map((t,d)=>e.jsxs("div",{className:"group flex items-center space-x-3 p-4 rounded-xl border-0 bg-gradient-to-br from-background to-background/50 shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-warning to-warning flex items-center justify-center text-white font-bold text-lg shadow-lg group-hover:shadow-warning/50 transition-shadow duration-300",children:d+1}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-background rounded-full p-0.5",children:e.jsx(Ke,{className:`h-5 w-5 ${d===0?"text-warning":d===1?"text-muted-foreground":"text-chart-5"}`})})]})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold leading-none",children:t.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"h-3 w-3 text-warning fill-warning"}),e.jsx("span",{className:"text-xs font-medium",children:t.rating})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"•"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.projects," projetos"]})]}),e.jsx(C,{className:`text-xs ${qs(t.badge)}`,children:t.badge==="gold"?"Ouro":t.badge==="silver"?"Prata":"Bronze"})]})]},t.id))})})]})]},s.id);case"quickActions":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/50",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(R,{className:"text-lg font-semibold",children:S(s.type)})]}),e.jsx(se,{widgetId:s.type,widgetTitle:S(s.type)})]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx(G,{to:"/admin/usuarios",children:e.jsxs(u,{variant:"outline",className:"w-full h-auto flex-col space-y-2 py-4 border-0 bg-gradient-to-br from-info/5 to-info/10 hover:from-info/10 hover:to-info/20 dark:from-info/10 dark:to-info/5 dark:hover:from-info/20 dark:hover:to-info/10",children:[e.jsx(X,{className:"h-5 w-5 text-info"}),e.jsx("span",{className:"text-xs font-medium text-info-foreground",children:"Gerenciar Usuários"})]})}),e.jsx(G,{to:"/admin/nomades",children:e.jsxs(u,{variant:"outline",className:"w-full h-auto flex-col space-y-2 py-4 border-0 bg-gradient-to-br from-success/5 to-success/10 hover:from-success/10 hover:to-success/20 dark:from-success/10 dark:to-success/5 dark:hover:from-success/20 dark:hover:to-success/10",children:[e.jsx(Te,{className:"h-5 w-5 text-success"}),e.jsx("span",{className:"text-xs font-medium text-success-foreground",children:"Gerenciar Nômades"})]})}),e.jsx(G,{to:"/admin/projetos",children:e.jsxs(u,{variant:"outline",className:"w-full h-auto flex-col space-y-2 py-4 border-0 bg-gradient-to-br from-chart-4/5 to-chart-4/10 hover:from-chart-4/10 hover:to-chart-4/20 dark:from-chart-4/10 dark:to-chart-4/5 dark:hover:from-chart-4/20 dark:hover:to-chart-4/10",children:[e.jsx(be,{className:"h-5 w-5 text-chart-4"}),e.jsx("span",{className:"text-xs font-medium text-chart-4",children:"Ver Projetos"})]})}),e.jsx(G,{to:"/admin/configuracoes",children:e.jsxs(u,{variant:"outline",className:"w-full h-auto flex-col space-y-2 py-4 border-0 bg-gradient-to-br from-warning/5 to-warning/10 hover:from-warning/10 hover:to-warning/20 dark:from-warning/10 dark:to-warning/5 dark:hover:from-warning/20 dark:hover:to-warning/10",children:[e.jsx($e,{className:"h-5 w-5 text-warning"}),e.jsx("span",{className:"text-xs font-medium text-warning-foreground",children:"Configurações"})]})})]})})]})]},s.id);case"revenue":return e.jsxs(k,{className:"overflow-hidden border-destructive/20","data-widget-id":s.type,children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-destructive/10",children:e.jsx(ue,{className:"h-5 w-5 text-destructive"})}),e.jsxs("div",{children:[e.jsx(R,{className:"text-lg",children:"Receita"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total e por tipo de plano"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{widgetId:s.type,widgetTitle:"Receita"}),e.jsx(C,{variant:"outline",className:"text-destructive border-destructive/30",children:i.label})]})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"pb-4 border-b",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-3xl font-bold",children:"R$ 284.7k"}),e.jsxs("span",{className:"flex items-center gap-1 text-sm text-success font-semibold",children:[e.jsx(A,{className:"h-3.5 w-3.5"}),"+15.2%"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Receita total no período"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-info-muted border border-info/50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-info"}),e.jsx("span",{className:"text-sm font-medium",children:"Plano de Crédito"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg font-semibold text-info-foreground",children:"R$ 119.1k"}),e.jsx("span",{className:"text-xs font-medium text-success",children:"+18.7%"})]})]}),e.jsxs("div",{className:"flex items-end gap-0.5 h-8",children:[e.jsx("div",{className:"w-1 bg-info/60 rounded-t",style:{height:"45%"}}),e.jsx("div",{className:"w-1 bg-info/70 rounded-t",style:{height:"60%"}}),e.jsx("div",{className:"w-1 bg-info/80 rounded-t",style:{height:"75%"}}),e.jsx("div",{className:"w-1 bg-info rounded-t",style:{height:"100%"}})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-chart-4/10 border border-chart-4/50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Compra Recorrente"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg font-semibold text-chart-4",children:"R$ 99.1k"}),e.jsx("span",{className:"text-xs font-medium text-success",children:"+13.4%"})]})]}),e.jsxs("div",{className:"flex items-end gap-0.5 h-8",children:[e.jsx("div",{className:"w-1 bg-chart-4/60 rounded-t",style:{height:"50%"}}),e.jsx("div",{className:"w-1 bg-chart-4/70 rounded-t",style:{height:"65%"}}),e.jsx("div",{className:"w-1 bg-chart-4/80 rounded-t",style:{height:"80%"}}),e.jsx("div",{className:"w-1 bg-chart-4 rounded-t",style:{height:"90%"}})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-success-muted border border-success/50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-success"}),e.jsx("span",{className:"text-sm font-medium",children:"Compra Avulsa"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg font-semibold text-success-foreground",children:"R$ 66.5k"}),e.jsx("span",{className:"text-xs font-medium text-success",children:"+10.9%"})]})]}),e.jsxs("div",{className:"flex items-end gap-0.5 h-8",children:[e.jsx("div",{className:"w-1 bg-success/60 rounded-t",style:{height:"40%"}}),e.jsx("div",{className:"w-1 bg-success/70 rounded-t",style:{height:"55%"}}),e.jsx("div",{className:"w-1 bg-success/80 rounded-t",style:{height:"65%"}}),e.jsx("div",{className:"w-1 bg-success rounded-t",style:{height:"70%"}})]})]})]}),e.jsx("div",{className:"mt-2 p-2 rounded-lg bg-muted/30 border border-border/50",children:e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Comparado ao mesmo período anterior"})})]})]},s.id);case"activeProjectsWidget":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5 text-primary"}),S(s.type)]})]}),e.jsx(C,{variant:"outline",className:"text-xs backdrop-blur-sm",children:i.label})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"pb-4 border-b",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-3xl font-bold",children:"312"}),e.jsxs("span",{className:"text-sm font-medium flex items-center gap-1 text-success",children:[e.jsx(A,{className:"h-3.5 w-3.5"}),"10%"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Projetos ativos no período"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-indigo-50 to-transparent dark:from-indigo-950/30 border border-indigo-200 dark:border-indigo-800",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-indigo-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Agências"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg font-semibold text-indigo-700 dark:text-indigo-300",children:"210"}),e.jsx("span",{className:"text-xs font-medium text-success",children:"+8%"})]})]}),e.jsxs("div",{className:"flex items-end gap-0.5 h-8",children:[e.jsx("div",{className:"w-1 bg-indigo-400/60 rounded-t",style:{height:"55%"}}),e.jsx("div",{className:"w-1 bg-indigo-400/70 rounded-t",style:{height:"70%"}}),e.jsx("div",{className:"w-1 bg-indigo-500/80 rounded-t",style:{height:"85%"}}),e.jsx("div",{className:"w-1 bg-indigo-600 rounded-t",style:{height:"100%"}})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-amber-50 to-transparent dark:from-amber-950/30 border border-amber-200 dark:border-amber-800",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Lead Premium"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-lg font-semibold text-amber-700 dark:text-amber-300",children:"102"}),e.jsx("span",{className:"text-xs font-medium text-success",children:"+15%"})]})]}),e.jsxs("div",{className:"flex items-end gap-0.5 h-8",children:[e.jsx("div",{className:"w-1 bg-amber-400/60 rounded-t",style:{height:"45%"}}),e.jsx("div",{className:"w-1 bg-amber-400/70 rounded-t",style:{height:"65%"}}),e.jsx("div",{className:"w-1 bg-amber-500/80 rounded-t",style:{height:"85%"}}),e.jsx("div",{className:"w-1 bg-amber-600 rounded-t",style:{height:"100%"}})]})]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-teal-50 to-transparent dark:from-teal-950/30 border border-teal-200/50 dark:border-teal-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"}),e.jsx("span",{className:"text-sm font-semibold text-teal-900 dark:text-teal-100",children:"Novos no período: 47"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-medium",children:"Agências:"})," 32"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:"Lead Premium:"})," 15"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-transparent",children:[e.jsx(xe,{className:"h-3.5 w-3.5 mr-1"}),"Ver detalhes"]}),e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 text-xs bg-transparent",children:[e.jsx(re,{className:"h-3.5 w-3.5 mr-1"}),"Exportar gráfico"]})]}),e.jsx("div",{className:"mt-2 p-2 rounded-lg bg-muted/30 border border-border/50",children:e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Comparado ao mesmo período anterior"})})]})]})]},s.id);case"creditPlans":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(js,{className:"h-5 w-5 text-primary"}),S(s.type)]})]}),e.jsx(C,{variant:"outline",className:"text-xs backdrop-blur-sm",children:i.label})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"pb-4 border-b",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-3xl font-bold",children:"R$ 123.450"}),e.jsxs("span",{className:"text-sm font-medium flex items-center gap-1 text-success",children:[e.jsx(A,{className:"h-3.5 w-3.5"}),"12%"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total de entrada no período"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Básico"}),e.jsx(C,{variant:"outline",className:"text-xs ml-auto mr-2",children:"Novos: 12"})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-foreground",children:"R$ 32.000"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs justify-end",children:[e.jsx(A,{className:"h-3 w-3 text-success"}),e.jsx("span",{className:"text-xs font-medium text-success",children:"+5%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Partner"}),e.jsx(C,{variant:"outline",className:"text-xs ml-auto mr-2",children:"Novos: 24"})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:"R$ 45.500"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs justify-end",children:[e.jsx(A,{className:"h-3 w-3 text-success"}),e.jsx("span",{className:"text-xs font-medium text-success",children:"+18%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Premium"}),e.jsx(C,{variant:"outline",className:"text-xs ml-auto mr-2",children:"Novos: 8"})]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:"R$ 45.950"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs justify-end",children:[e.jsx(ge,{className:"h-3 w-3 text-destructive"}),e.jsx("span",{className:"text-xs font-medium text-destructive",children:"-2%"})]})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 gap-1 bg-transparent",children:[e.jsx(xe,{className:"h-3.5 w-3.5 mr-1"}),"Ver contratos"]}),e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 gap-1 bg-transparent",children:[e.jsx(re,{className:"h-3.5 w-3.5 mr-1"}),"Exportar relatório"]})]}),e.jsx("div",{className:"mt-2 p-2 rounded-lg bg-muted/30 border border-border/50",children:e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Entrada = soma das primeiras cobranças no período"})})]})]})]},s.id);case"mrr":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"h-full border-0 shadow-lg",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-primary"}),S(s.type)]})]}),e.jsx(C,{variant:"outline",className:"text-xs backdrop-blur-sm",children:i.label})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(at,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-semibold text-blue-900",children:"O que é MRR?"}),e.jsx("p",{className:"text-xs text-blue-800 leading-relaxed",children:"MRR (Monthly Recurring Revenue) é a receita previsível gerada mensalmente. Inclui New (novos contratos), Expansion (aumentos), Base (receita existente), Contraction (reduções) e Churn (cancelamentos)."})]})]})}),e.jsx("div",{className:"pb-4 border-b",children:e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-3xl font-bold",children:"R$ 78.420"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-success",children:[e.jsx(hr,{className:"w-4 h-4"}),"+8%"]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"vs período anterior"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[e.jsxs("div",{className:"space-y-1 bg-green-50 p-2.5 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),e.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:["New",e.jsx("span",{className:"text-green-700",title:"Novos contratos adquiridos neste período",children:" (novos)"})]})]}),e.jsx("div",{className:"text-lg font-semibold text-success",children:"+R$ 9.000"})]}),e.jsxs("div",{className:"space-y-1 bg-blue-50 p-2.5 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-info rounded-full"}),e.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:["Expansion",e.jsx("span",{className:"text-blue-700",title:"Aumento de valor em contratos existentes",children:" (crescimento)"})]})]}),e.jsx("div",{className:"text-lg font-semibold text-info",children:"+R$ 4.200"})]}),e.jsxs("div",{className:"space-y-1 bg-amber-50 p-2.5 rounded-lg border border-amber-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-warning rounded-full"}),e.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:["Contraction",e.jsx("span",{className:"text-amber-700",title:"Redução de valor em contratos existentes",children:" (redução)"})]})]}),e.jsx("div",{className:"text-lg font-semibold text-warning",children:"-R$ 1.500"})]}),e.jsxs("div",{className:"space-y-1 bg-red-50 p-2.5 rounded-lg border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full"}),e.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:["Churn (R$)",e.jsx("span",{className:"text-red-700",title:"Contratos cancelados neste período",children:" (cancelado)"})]})]}),e.jsx("div",{className:"text-lg font-semibold text-destructive",children:"-R$ 3.800"})]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Churn Rate"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-base font-semibold text-destructive",children:"4.5%"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"(revenue churn)"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Contratações recorrentes"}),e.jsx("div",{className:"text-xl font-bold",children:"48"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"(novas no período)"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"ARR estimado"}),e.jsx("div",{className:"text-xl font-bold",children:"R$ 940.040"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"(MRR × 12)"})]})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Composição do MRR"}),e.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden bg-muted",children:[e.jsx("div",{className:"bg-success transition-all",style:{width:"11.5%"},title:"New: R$ 9.000"}),e.jsx("div",{className:"bg-info transition-all",style:{width:"5.3%"},title:"Expansion: R$ 4.200"}),e.jsx("div",{className:"bg-muted transition-all",style:{width:"78.4%"},title:"Base MRR: R$ 61.520"}),e.jsx("div",{className:"bg-warning transition-all",style:{width:"1.9%"},title:"Contraction: R$ 1.500"}),e.jsx("div",{className:"bg-destructive transition-all",style:{width:"4.8%"},title:"Churn: R$ 3.800"})]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-muted-foreground",children:[e.jsx("span",{children:"Base: R$ 61.520"}),e.jsx("span",{children:"Net Change: +R$ 7.920"})]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Tendência de MRR"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Últimos 6 meses - Crescimento consistente"})]}),e.jsxs(C,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 text-xs",children:[e.jsx(A,{className:"h-3 w-3 mr-1"}),"+20%"]})]}),e.jsx("div",{className:"flex items-end justify-between gap-1.5 h-20 bg-gradient-to-b from-blue-50 to-transparent p-3 rounded-lg border border-blue-100",children:[{value:65e3,month:"Jun"},{value:68e3,month:"Jul"},{value:7e4,month:"Ago"},{value:72500,month:"Set"},{value:75e3,month:"Out"},{value:78420,month:"Nov"}].map((t,d)=>{const x=t.value/78420*100,N=d===5;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group cursor-pointer",children:[e.jsx("div",{className:l("w-full rounded-t transition-all duration-300 group-hover:opacity-100",N?"bg-gradient-to-t from-blue-600 to-blue-400 opacity-100":"bg-gradient-to-t from-blue-400 to-blue-200 opacity-60 group-hover:opacity-80"),style:{height:`${x}%`}}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground group-hover:text-foreground transition-colors",children:t.month}),e.jsxs("span",{className:"text-xs font-semibold text-primary opacity-0 group-hover:opacity-100 transition-opacity absolute -top-6",children:["R$ ",(t.value/1e3).toFixed(0),"k"]})]},d)})}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:[e.jsx("p",{className:"text-muted-foreground",children:"Menor"}),e.jsx("p",{className:"font-semibold",children:"R$ 65k"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[e.jsx("p",{className:"text-muted-foreground",children:"Médio"}),e.jsx("p",{className:"font-semibold",children:"R$ 71.5k"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[e.jsx("p",{className:"text-muted-foreground",children:"Atual"}),e.jsx("p",{className:"font-semibold text-blue-600",children:"R$ 78.4k"})]})]})]})})]})]})]},s.id);case"churn":return e.jsxs(k,{className:"overflow-hidden border-destructive/20",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-destructive/10",children:e.jsx(ge,{className:"h-5 w-5 text-destructive"})}),e.jsxs("div",{children:[e.jsx(R,{className:"text-lg",children:"CHURN"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Perda de clientes e receita"})]})]}),e.jsx(C,{variant:"outline",className:"text-destructive border-destructive/30",children:i.label})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold text-lg",children:"Clientes Inativados"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:"24"}),e.jsxs(C,{variant:"destructive",className:"gap-1",children:[e.jsx(A,{className:"h-3 w-3"}),"+5%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 pl-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-muted/50",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Agências"}),e.jsx("span",{className:"font-semibold",children:"6"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-muted/50",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Lead Premium"}),e.jsx("span",{className:"font-semibold",children:"3"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-muted/50",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Nômades"}),e.jsx("span",{className:"font-semibold",children:"8"})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-muted/50",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Free"}),e.jsx("span",{className:"font-semibold",children:"7"})]})]})]}),e.jsx(rt,{}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold",children:"Projetos Cancelados"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold",children:"11"}),e.jsxs(C,{variant:"destructive",className:"gap-1",children:[e.jsx(A,{className:"h-3 w-3"}),"+10%"]})]})]})}),e.jsx(rt,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold",children:"Revenue Churn"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xl font-bold text-destructive",children:"R$ 14.200"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Churn Rate: ",e.jsx("span",{className:"font-semibold text-destructive",children:"3.2%"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Perda de MRR"}),e.jsx("span",{children:"3.2% do total"})]}),e.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-destructive",style:{width:"3.2%"}})})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",onClick:()=>{console.log("[v0] Ver detalhes de churn")},children:[e.jsx(xe,{className:"h-3 w-3"}),"Ver Detalhes"]}),e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",onClick:()=>{console.log("[v0] Exportar relatório de churn")},children:[e.jsx(re,{className:"h-3 w-3"}),"Exportar"]})]}),e.jsxs(Va,{variant:"destructive",className:"border-destructive/30",children:[e.jsx(as,{className:"h-4 w-4"}),e.jsx(Ua,{className:"text-sm",children:"Churn de clientes aumentou 5% vs período anterior. Considere ações de retenção."})]})]})]});case"averageTicket":return e.jsxs(k,{className:"overflow-hidden",children:[e.jsx(P,{className:"border-b bg-gradient-to-r from-success/10 to-chart-3/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-success/20 rounded-lg",children:e.jsx(ue,{className:"h-5 w-5 text-success"})}),e.jsxs("div",{children:[e.jsx(R,{className:"text-lg",children:"Ticket Médio"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor médio por cliente e projeto"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:"outline",size:"sm",children:[e.jsx(ht,{className:"h-4 w-4 mr-2"}),"Exportar"]}),e.jsxs(u,{variant:"outline",size:"sm",children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})]})]})}),e.jsxs(D,{className:"p-6",children:[e.jsx("div",{className:"mb-6 p-4 bg-success/10 rounded-lg border border-success/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Ticket Médio Geral"}),e.jsx("p",{className:"text-3xl font-bold text-success",children:"R$ 1.280"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-success",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{className:"text-lg font-semibold",children:"+4%"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Por Tipo de Conta"}),e.jsx("div",{className:"space-y-3",children:[{type:"Agências",value:"R$ 1.750",change:6,color:"info"},{type:"Lead Premium",value:"R$ 1.120",change:2,color:"chart_4"},{type:"Nômades",value:"R$ 680",change:1,color:"warning"},{type:"Free",value:"R$ 0",change:0,color:"muted"}].map(t=>{const d={info:"bg-info-muted border-info/20 text-info-foreground",chart_4:"bg-chart-4/10 border-chart-4/20 text-chart-4",warning:"bg-warning-muted border-warning/20 text-warning-foreground",muted:"bg-muted border-border text-muted-foreground"};return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${d[t.color]}`,children:[e.jsxs("div",{className:"flex-1 flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"min-w-[130px]",children:e.jsx("p",{className:"text-sm font-medium",children:t.type})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-lg font-bold",children:t.value})})]}),e.jsx("div",{className:"flex items-center gap-2",children:t.change>0?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4 text-success"}),e.jsxs("span",{className:"text-sm font-semibold text-success",children:["+",t.change,"%"]})]}):t.change===0?e.jsx("span",{className:"text-sm text-muted-foreground",children:"—"}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"h-4 w-4 text-destructive"}),e.jsxs("span",{className:"text-sm font-semibold text-destructive",children:[t.change,"%"]})]})})]},t.type)})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Por Projeto"}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-gradient-to-r from-success/10 to-chart-3/10 border-success/30",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Ticket Médio por Projeto"}),e.jsx("p",{className:"text-2xl font-bold text-success",children:"R$ 940"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-success",children:[e.jsx(A,{className:"h-5 w-5"}),e.jsx("span",{className:"text-lg font-semibold",children:"+3%"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Tendência (últimos 6 meses)"}),e.jsx("div",{className:"flex items-end justify-between gap-1 h-16",children:[920,980,1050,1120,1210,1280].map((t,d)=>{const x=t/1280*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-success to-success/80 rounded-sm transition-all hover:opacity-80",style:{height:`${x}%`},title:`R$ ${t}`}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:t})]},d)})})]})]})]});case"ltv":return e.jsxs(k,{className:"overflow-hidden",children:[e.jsxs(P,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-chart-4"}),e.jsx(R,{className:"text-base font-semibold",children:"LTV (Lifetime Value)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempo médio × Ticket médio"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{variant:"ghost",size:"sm",className:"h-8 px-2",children:e.jsx(xe,{className:"h-4 w-4"})}),e.jsx(u,{variant:"ghost",size:"sm",className:"h-8 px-2",children:e.jsx(ks,{className:"h-4 w-4"})})]})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold",children:"R$ 10.080"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[e.jsx("span",{children:"Tempo médio: 24 meses"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Ticket médio: R$ 420/mês"})]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(Ds,{className:"h-4 w-4 text-success"}),e.jsx("span",{className:"text-success font-semibold",children:"+6%"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-info-muted rounded-lg",children:[e.jsx(at,{className:"h-4 w-4 text-info"}),e.jsxs("span",{className:"text-xs text-info-foreground",children:["Confiança: 78% (baseado em ",Math.floor(2847*.78)," clientes com histórico completo)"]})]}),e.jsx("div",{className:"px-3 py-2 bg-muted/50 rounded-lg",children:e.jsx("div",{className:"text-xs font-mono text-muted-foreground",children:"LTV = Tempo médio de vida (meses) × Ticket médio mensal"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Por tipo de conta:"}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Agências"})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"28 meses × R$ 507/mês"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:"R$ 14.200"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs justify-end",children:[e.jsx(Ds,{className:"h-3 w-3 text-success"}),e.jsx("span",{className:"text-success font-semibold",children:"+8%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Lead Premium"})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"22 meses × R$ 414/mês"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:"R$ 9.100"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs justify-end",children:[e.jsx(Ds,{className:"h-3 w-3 text-success"}),e.jsx("span",{className:"text-success font-semibold",children:"+4%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Nômades"})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"12 meses × R$ 350/mês"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:"R$ 4.200"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs justify-end",children:[e.jsx(ur,{className:"h-3 w-3 text-warning"}),e.jsx("span",{className:"text-warning",children:"-1%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg opacity-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Free"})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Excluído do cálculo"})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-lg font-bold text-muted-foreground",children:"R$ 0"})})]})]}),e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Distribuição de LTVs:"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground w-24",children:"R$ 0 - 1k"}),e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-muted-foreground h-full",style:{width:"34%"}})}),e.jsx("div",{className:"text-xs font-medium w-12 text-right",children:"342"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground w-24",children:"R$ 1k - 5k"}),e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-info h-full",style:{width:"21%"}})}),e.jsx("div",{className:"text-xs font-medium w-12 text-right",children:"210"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground w-24",children:"R$ 5k - 15k"}),e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-chart-4 h-full",style:{width:"8%"}})}),e.jsx("div",{className:"text-xs font-medium w-12 text-right",children:"83"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground w-24",children:"R$ 15k+"}),e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-success h-full",style:{width:"3%"}})}),e.jsx("div",{className:"text-xs font-medium w-12 text-right",children:"28"})]})]})]})]})]});case"cmv":const n={totalCosts:124320,revenue:482400,cmvPercent:25.8,breakdown:{nomades:{value:62e3,percent:49.9},impostos:{value:28320,percent:22.8},comissoes:{value:24e3,percent:19.3},outros:{value:1e4,percent:8}},variation:{cmvPercent:-1}};return e.jsxs(k,{children:[e.jsxs(P,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zs,{className:"h-5 w-5 text-warning"}),e.jsx(R,{className:"text-base font-medium",children:"CMV (Custo de Mercadoria Vendida)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{variant:"ghost",size:"sm",children:e.jsx(xe,{className:"h-4 w-4"})}),e.jsx(u,{variant:"ghost",size:"sm",children:e.jsx(re,{className:"h-4 w-4"})})]})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-3xl font-bold",children:[n.cmvPercent.toFixed(1),"%"]}),e.jsxs("span",{className:l("flex items-center text-sm font-medium","text-success"),children:[e.jsx(ge,{className:"h-3 w-3 mr-1"}),Math.abs(n.variation.cmvPercent).toFixed(1),"pp"]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Custos"," ",e.jsxs("span",{className:"font-semibold text-foreground",children:["R$ ",(n.totalCosts/1e3).toFixed(1),"k"]}),e.jsx("span",{className:"mx-1",children:"/"}),"Receita:"," ",e.jsxs("span",{className:"font-semibold text-foreground",children:["R$ ",(n.revenue/1e3).toFixed(1),"k"]})]})]}),e.jsxs("div",{className:"space-y-3 pt-2 border-t",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Breakdown por Categoria:"}),e.jsx("div",{className:"space-y-2",children:Object.entries(n.breakdown).map(([t,d])=>{const p={nomades:"Nômades",impostos:"Impostos",comissoes:"Comissões",outros:"Outros"},x={nomades:"bg-info",impostos:"bg-warning",comissoes:"bg-chart-4",outros:"bg-muted-foreground"};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:l("h-2 w-2 rounded-full",x[t])}),e.jsxs("div",{className:"flex-1 flex items-baseline justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:p[t]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"font-medium",children:["R$ ",(d.value/1e3).toFixed(1),"k"]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",d.percent.toFixed(1),"%)"]})]})]}),e.jsx("div",{className:"w-16 h-1.5 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:l("h-full",x[t]),style:{width:`${d.percent}%`}})})]},t)})})]}),e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Composição do CMV:"}),e.jsxs("div",{className:"h-3 w-full bg-muted rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"bg-info",style:{width:`${n.breakdown.nomades.percent}%`},title:"Nômades"}),e.jsx("div",{className:"bg-warning",style:{width:`${n.breakdown.impostos.percent}%`},title:"Impostos"}),e.jsx("div",{className:"bg-chart-4",style:{width:`${n.breakdown.comissoes.percent}%`},title:"Comissões"}),e.jsx("div",{className:"bg-muted-foreground",style:{width:`${n.breakdown.outros.percent}%`},title:"Outros"})]})]}),n.cmvPercent>30,e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:[e.jsx(xe,{className:"h-3 w-3 mr-1"}),"Ver Detalhes"]}),e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),"Exportar CSV"]})]})]})]});case"platformActivities":return e.jsxs(k,{className:"overflow-hidden",children:[e.jsxs(P,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5 text-info"}),e.jsx(R,{className:"text-base font-semibold",children:"Atividades da Plataforma"})]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>alert("Ver detalhes"),children:e.jsx(ks,{className:"h-4 w-4"})})]}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Agências Ativas"}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[e.jsx("span",{className:"text-2xl font-bold",children:"182"}),e.jsxs("span",{className:"flex items-center text-xs text-success font-medium",children:[e.jsx(A,{className:"h-3 w-3"}),"+7%"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tempo médio/dia"}),e.jsxs("div",{className:"flex items-baseline gap-2 mt-1",children:[e.jsx("span",{className:"text-2xl font-bold",children:"42 min"}),e.jsxs("span",{className:"flex items-center text-xs text-success font-medium",children:[e.jsx(A,{className:"h-3 w-3"}),"+4%"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"MAU"}),e.jsx("span",{className:"text-lg font-semibold",children:"528"}),e.jsx("span",{className:"text-xs text-success",children:"+5%"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"DAU"}),e.jsx("span",{className:"text-lg font-semibold",children:"128"}),e.jsx("span",{className:"text-xs text-success",children:"+3%"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessões"}),e.jsx("span",{className:"text-lg font-semibold",children:"3.820"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ações executadas"}),e.jsx("span",{className:"text-lg font-semibold",children:"14.200"})]})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Atividade (últimos 7 dias)"}),e.jsx("div",{className:"flex items-end gap-1 h-16",children:[120,135,128,142,156,138,165].map((t,d)=>e.jsx("div",{className:"flex-1 bg-info rounded-t",style:{height:`${t/165*100}%`},title:`Dia ${d+1}: ${t} ações`},d))})]}),s.size==="large"&&e.jsxs("div",{className:"pt-4 border-t space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Tipos de Atividade"}),[{label:"Tarefas",value:4200,color:"bg-info"},{label:"Projetos",value:3100,color:"bg-chart-4"},{label:"Mensagens",value:4500,color:"bg-success"},{label:"Uploads",value:2400,color:"bg-warning"}].map(t=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:t.label}),e.jsx("span",{className:"font-medium",children:t.value.toLocaleString()})]}),e.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:e.jsx("div",{className:`h-2 ${t.color}`,style:{width:`${t.value/4500*100}%`}})})]},t.label))]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(u,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:"Ver detalhes"}),e.jsxs(u,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),"Exportar"]})]})]})})]},s.id);case"nomads":return e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-chart-2/10",children:e.jsx(X,{className:"h-5 w-5 text-chart-2"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Nômades"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Visão rápida da base de nômades"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{variant:"outline",size:"sm",children:"Ver lista"}),e.jsxs(u,{variant:"outline",size:"sm",children:[e.jsx(re,{className:"h-4 w-4 mr-1"}),"Exportar"]})]})]}),e.jsxs("div",{className:"rounded-lg border-2 border-chart-2/30 bg-chart-2/5 p-6 text-center",children:[e.jsx("p",{className:"text-sm font-medium text-chart-2 mb-2",children:"TOTAL DE NÔMADES"}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-5xl font-bold text-chart-2",children:"316"}),e.jsxs("span",{className:"flex items-center gap-1 text-lg text-success font-semibold",children:[e.jsx(A,{className:"h-5 w-5"}),"+4%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-lg border bg-success-muted border-success/20 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-success"}),e.jsx("p",{className:"text-sm font-medium text-success-foreground",children:"Ativos"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-success-foreground",children:"248"}),e.jsxs("span",{className:"flex items-center text-sm text-success font-semibold",children:[e.jsx(A,{className:"h-3 w-3"}),"+6%"]})]}),e.jsx("p",{className:"text-xs text-success mt-1",children:"vs período anterior"})]}),e.jsxs("div",{className:"rounded-lg border bg-muted border-border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-muted-foreground"}),e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Inativos"})]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-foreground",children:"68"}),e.jsxs("span",{className:"flex items-center text-sm text-destructive font-semibold",children:[e.jsx(ge,{className:"h-3 w-3"}),"-2%"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"vs período anterior"})]})]}),e.jsx("div",{className:"rounded-lg border bg-card p-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Novos no período"}),e.jsx("p",{className:"text-2xl font-bold text-info",children:"24"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Churn"}),e.jsx("p",{className:"text-2xl font-bold text-destructive",children:"8"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Retenção 30d"}),e.jsx("p",{className:"text-2xl font-bold text-success",children:"78%"})]})]})}),e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-3",children:"Evolução de nômades ativos"}),e.jsx("div",{className:"flex items-end justify-between gap-1 h-16",children:[220,225,230,235,238,242,248].map((t,d)=>{const p=t/250*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-chart-2 to-chart-2/80 rounded-t transition-all hover:bg-chart-2/80",style:{height:`${p}%`},title:`${t} ativos`}),e.jsxs("span",{className:"text-[10px] text-muted-foreground",children:["D",d+1]})]},d)})})]}),e.jsxs(u,{variant:"outline",className:"w-full bg-transparent",size:"sm",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Ver ranking de nômades"]})]})});case"nomadsRanking":return e.jsxs(k,{className:"overflow-hidden",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-warning-muted rounded-lg",children:e.jsx(mt,{className:"h-5 w-5 text-warning"})}),e.jsxs("div",{children:[e.jsx(R,{className:"text-lg",children:"Ranking de Nômades"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Os melhores nômades da plataforma"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:"outline",size:"sm",children:["Ver todos",e.jsx(je,{className:"h-3 w-3 ml-1"})]}),e.jsxs(u,{variant:"outline",size:"sm",children:[e.jsx(re,{className:"h-4 w-4 mr-1"}),"Exportar"]})]})]})}),e.jsx(D,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Us.map((t,d)=>e.jsxs("div",{className:"group flex items-center space-x-3 p-4 rounded-xl border-0 bg-gradient-to-br from-background to-background/50 shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-warning to-warning flex items-center justify-center text-white font-bold text-lg shadow-lg group-hover:shadow-warning/50 transition-shadow duration-300",children:d+1}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-background rounded-full p-0.5",children:e.jsx(Ke,{className:`h-5 w-5 ${d===0?"text-warning":d===1?"text-muted-foreground":"text-chart-5"}`})})]})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold leading-none",children:t.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"h-3 w-3 text-warning fill-warning"}),e.jsx("span",{className:"text-xs font-medium",children:t.rating})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"•"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.projects," projetos"]})]}),e.jsx(C,{className:`text-xs ${qs(t.badge)}`,children:t.badge==="gold"?"Ouro":t.badge==="silver"?"Prata":"Bronze"})]})]},t.id))})})]});case"agenciesRanking":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5 text-cyan-500"}),S(s.type)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{to:"/admin/agencias",children:e.jsxs(u,{variant:"outline",size:"sm",className:"text-xs bg-transparent",children:["Ver todos",e.jsx(je,{className:"h-3 w-3 ml-1"})]})}),e.jsxs(u,{variant:"outline",size:"sm",className:"text-xs bg-transparent",children:[e.jsx(re,{className:"h-4 w-4 mr-1"}),"Exportar"]})]})]})}),e.jsx(D,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:1,name:"Alpha Solutions",projects:55,rating:4.8,contribution:"R$ 150k"},{id:2,name:"Beta Innovations",projects:48,rating:4.7,contribution:"R$ 120k"},{id:3,name:"Gamma Marketing",projects:42,rating:4.6,contribution:"R$ 100k"}].map((t,d)=>e.jsxs("div",{className:"group flex items-center space-x-3 p-4 rounded-xl border-0 bg-gradient-to-br from-background to-background/50 shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-0.5",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-cyan-500 to-cyan-600 flex items-center justify-center text-white font-bold text-lg shadow-lg group-hover:shadow-cyan-500/50 transition-shadow duration-300",children:d+1})})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-sm font-semibold leading-none",children:t.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"h-3 w-3 text-warning fill-warning"}),e.jsx("span",{className:"text-xs font-medium",children:t.rating})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"•"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.projects," projetos"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Contribuição"}),e.jsx("span",{className:"font-medium",children:t.contribution})]})]})]},t.id))})})]})]},s.id);case"statusOverview":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(R,{className:"text-lg font-semibold",children:[e.jsx(ke,{className:"h-5 w-5"}),"Visão Geral por Status"]})]}),e.jsx(ls,{widgetId:s.id})]})}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold mb-3 text-muted-foreground flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),"Projetos"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[{label:"Em andamento",count:45,status:"ongoing",color:"blue"},{label:"Aprovados",count:18,status:"approved",color:"green"},{label:"Concluídos",count:73,status:"completed",color:"emerald"},{label:"Cancelados",count:5,status:"cancelled",color:"red"},{label:"Em atraso",count:8,status:"delayed",color:"amber"}].map(t=>e.jsxs("button",{onClick:()=>{window.location.href=`/admin/projects?status=${t.status}`},className:"p-4 rounded-lg border bg-card hover:bg-accent hover:shadow-md transition-all duration-200 text-left group",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1 group-hover:text-foreground transition-colors",children:t.label}),e.jsx("div",{className:`text-2xl font-bold text-${t.color}-600`,children:t.count})]},t.status))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold mb-3 text-muted-foreground flex items-center gap-2",children:[e.jsx(Xs,{className:"h-4 w-4"}),"Tarefas"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[{label:"Contratadas",count:87,status:"contracted",color:"purple"},{label:"Em execução",count:34,status:"inprogress",color:"blue"},{label:"Concluídas",count:456,status:"completed",color:"green"},{label:"Arquivadas",count:23,status:"archived",color:"gray"}].map(t=>e.jsxs("button",{onClick:()=>{window.location.href=`/admin/tasks?status=${t.status}`},className:"p-4 rounded-lg border bg-card hover:bg-accent hover:shadow-md transition-all duration-200 text-left group",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1 group-hover:text-foreground transition-colors",children:t.label}),e.jsx("div",{className:`text-2xl font-bold text-${t.color}-600`,children:t.count})]},t.status))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold mb-3 text-muted-foreground flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),"Leads"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[{label:"Novos",count:56,status:"new",color:"cyan"},{label:"Em contato",count:32,status:"contacted",color:"blue"},{label:"Proposta enviada",count:15,status:"proposal",color:"purple"},{label:"Fechado",count:9,status:"won",color:"green"},{label:"Perdido",count:21,status:"lost",color:"red"}].map(t=>e.jsxs("button",{onClick:()=>{window.location.href=`/admin/leads?status=${t.status}`},className:"p-4 rounded-lg border bg-card hover:bg-accent hover:shadow-md transition-all duration-200 text-left group",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-1 group-hover:text-foreground transition-colors",children:t.label}),e.jsx("div",{className:`text-2xl font-bold text-${t.color}-600`,children:t.count})]},t.status))})]})]})]})]},s.id);case"accountsReceivable":return e.jsxs("div",{"data-widget-id":s.type,draggable:h,onDragStart:t=>I(t,s.id),onDragOver:t=>F(t,s.id),onDragLeave:_,onDrop:t=>W(t,s.id),onDragEnd:V,className:l("relative transition-all duration-200",h&&"cursor-move",j===s.id&&"opacity-50 scale-95",U(s.id),!j&&!T&&"hover:scale-[1.01]"),children:[h&&a(s),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-950/20 dark:to-green-950/20",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(ue,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"}),e.jsx(R,{className:"text-lg font-semibold",children:S(s.type)})]}),e.jsx(ls,{widgetId:s.id})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-white dark:bg-gray-900 border border-emerald-200 dark:border-emerald-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Total a Receber"}),e.jsx(C,{className:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-300",children:"+6%"})]}),e.jsx("div",{className:"text-3xl font-bold text-emerald-600 dark:text-emerald-400",children:"R$ 182.450,00"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Composição por Tipo"}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 cursor-pointer hover:bg-blue-100 dark:hover:bg-blue-950/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(js,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Planos de Crédito"})]}),e.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-300",children:"R$ 98.200,00"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800 cursor-pointer hover:bg-purple-100 dark:hover:bg-purple-950/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"Pós-pagos"})]}),e.jsx("span",{className:"text-sm font-bold text-purple-700 dark:text-purple-300",children:"R$ 72.600,00"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-950/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),e.jsx("span",{className:"text-sm font-medium text-amber-700 dark:text-amber-300",children:"Outros Contratos"})]}),e.jsx("span",{className:"text-sm font-bold text-amber-700 dark:text-amber-300",children:"R$ 11.650,00"})]})]}),e.jsx("div",{className:"pt-3 border-t border-emerald-200 dark:border-emerald-800",children:e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-green-50 dark:bg-green-950/20",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recebido no período"}),e.jsx("span",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:"R$ 167.000,00"})]})}),e.jsxs(u,{variant:"outline",size:"sm",className:"w-full border-emerald-300 dark:border-emerald-700 hover:bg-emerald-50 dark:hover:bg-emerald-950/30 bg-transparent",children:["Ver Detalhes",e.jsx(je,{className:"ml-2 h-4 w-4"})]})]})]})]},s.id);default:return null}},Ks=()=>{if(!Ue.trim())return;const s={id:`dashboard-${Date.now()}`,name:Ue.trim(),widgets:J,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isGlobal:!1,sharedWith:[],createdBy:"current-user"},a=[...Q,s];Oe(a),localStorage.setItem("saved-dashboards",JSON.stringify(a)),Ae(s.id),$s(""),Ve(!1),We(!1)},ua=s=>{const a=Q.find(n=>n.id===s);a&&(ie(a.widgets),Ae(s),o({title:"Modo de edição ativado",description:`Editando dashboard: ${a.name}`}))},ha=()=>{if(!Ls)return;const s=Q.map(a=>a.id===Ls?{...a,isGlobal:Fs,sharedWith:Ge,updatedAt:new Date().toISOString()}:a);Oe(s),localStorage.setItem("saved-dashboards",JSON.stringify(s)),Is(null),cs(!1),ms([]),_s(""),qe(!1)},ga=s=>{ms(a=>a.includes(s)?a.filter(n=>n!==s):[...a,s])},pa=s=>{const a=Q.find(n=>n.id===s);a&&(ie(a.widgets),Ae(s),localStorage.setItem("dashboard-widget-config",JSON.stringify(a.widgets)))},fa=s=>{const a=Q.filter(n=>n.id!==s);Oe(a),localStorage.setItem("saved-dashboards",JSON.stringify(a)),pe===s&&Ae(null)};return e.jsxs("div",{className:"container mx-auto space-y-6 px-0 py-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent text-2xl",children:"Painel Administrativo"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Organize seu dashboard de forma intuitiva e personalizada"})]}),e.jsxs(u,{onClick:Os,variant:h?"default":"outline",className:l("h-10 px-4 gap-2",h&&"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700"),children:[e.jsx(Je,{className:"h-4 w-4"}),h?"Finalizar Edição":"Editar Widgets"]})]}),e.jsx(Br,{alerts:Ur}),e.jsx(k,{className:"relative",children:e.jsx(D,{className:"p-5",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 pr-3",children:[e.jsx(Ee,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{variant:ns==="7 dias"?"default":"ghost",size:"sm",onClick:()=>os("7 dias"),className:"h-8 px-3",children:"7 dias"}),e.jsx(u,{variant:ns==="30 dias"?"default":"ghost",size:"sm",onClick:()=>os("30 dias"),className:"h-8 px-3",children:"30 dias"}),e.jsx(u,{variant:ns==="90 dias"?"default":"ghost",size:"sm",onClick:()=>os("90 dias"),className:"h-8 px-3",children:"90 dias"}),e.jsxs(gs,{open:f,onOpenChange:v,children:[e.jsx(ps,{asChild:!0,children:e.jsxs(u,{variant:"ghost",size:"sm",className:"h-8 px-3 gap-1",children:["Personalizar",e.jsx(fs,{className:"h-3 w-3"})]})}),e.jsx(vs,{className:"w-80",align:"start",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Selecionar Período"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Este período será aplicado a todos os widgets do dashboard"})]}),e.jsx("div",{className:"grid gap-2",children:H.map(s=>e.jsxs("button",{onClick:()=>q(s.type,s.label),className:l("flex items-center justify-between p-3 rounded-lg border transition-all hover:border-primary",i.type===s.type&&"border-primary bg-primary/5"),children:[e.jsx("span",{className:"text-sm",children:s.label}),i.type===s.type&&e.jsx(ae,{className:"h-4 w-4 text-primary flex-shrink-0"})]},s.type))}),i.type==="custom"&&e.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:g?g.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):"Data Inicial"}),e.jsx("div",{className:"w-7 h-7 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("select",{value:g?.getMonth()??new Date().getMonth(),onChange:s=>{const a=g?new Date(g):new Date;a.setMonth(Number.parseInt(s.target.value)),y(a)},className:"flex-1 px-2 py-1.5 text-xs border border-gray-200 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-400",children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"].map((s,a)=>e.jsx("option",{value:a,children:s},s))}),e.jsx("select",{value:g?.getFullYear()??new Date().getFullYear(),onChange:s=>{const a=g?new Date(g):new Date;a.setFullYear(Number.parseInt(s.target.value)),y(a)},className:"w-20 px-2 py-1.5 text-xs border border-gray-200 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-400",children:Array.from({length:10},(s,a)=>new Date().getFullYear()-5+a).map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5 text-center mb-2",children:["D","S","T","Q","Q","S","S"].map((s,a)=>e.jsx("div",{className:"text-xs font-medium text-gray-400 py-1",children:s},a))}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:(()=>{const s=g||new Date,a=s.getFullYear(),n=s.getMonth(),t=new Date(a,n,1).getDay(),d=new Date(a,n+1,0).getDate(),p=[];for(let x=0;x<t;x++)p.push(e.jsx("div",{className:"w-6 h-6"},`empty-${x}`));for(let x=1;x<=d;x++){const N=g?.getDate()===x&&g?.getMonth()===n&&g?.getFullYear()===a;p.push(e.jsx("button",{type:"button",onClick:()=>y(new Date(a,n,x)),className:l("w-6 h-6 text-xs rounded-full transition-all hover:bg-blue-100",N?"bg-blue-500 text-white font-semibold":"text-gray-700"),children:x},x))}return p})()})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white p-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:b?b.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",year:"numeric"}):"Data Final"}),e.jsx("div",{className:"w-7 h-7 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("select",{value:b?.getMonth()??new Date().getMonth(),onChange:s=>{const a=b?new Date(b):new Date;a.setMonth(Number.parseInt(s.target.value)),M(a)},className:"flex-1 px-2 py-1.5 text-xs border border-gray-200 rounded-lg bg-gray-50 focus:ring-2 focus:ring-indigo-400",children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"].map((s,a)=>e.jsx("option",{value:a,children:s},s))}),e.jsx("select",{value:b?.getFullYear()??new Date().getFullYear(),onChange:s=>{const a=b?new Date(b):new Date;a.setFullYear(Number.parseInt(s.target.value)),M(a)},className:"w-20 px-2 py-1.5 text-xs border border-gray-200 rounded-lg bg-gray-50 focus:ring-2 focus:ring-indigo-400",children:Array.from({length:10},(s,a)=>new Date().getFullYear()-5+a).map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5 text-center mb-2",children:["D","S","T","Q","Q","S","S"].map((s,a)=>e.jsx("div",{className:"text-xs font-medium text-gray-400 py-1",children:s},a))}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:(()=>{const s=b||new Date,a=s.getFullYear(),n=s.getMonth(),t=new Date(a,n,1).getDay(),d=new Date(a,n+1,0).getDate(),p=[];for(let x=0;x<t;x++)p.push(e.jsx("div",{className:"w-6 h-6"},`empty-${x}`));for(let x=1;x<=d;x++){const N=b?.getDate()===x&&b?.getMonth()===n&&b?.getFullYear()===a;p.push(e.jsx("button",{type:"button",onClick:()=>M(new Date(a,n,x)),className:l("w-6 h-6 text-xs rounded-full transition-all hover:bg-indigo-100",N?"bg-indigo-500 text-white font-semibold":"text-gray-700"),children:x},x))}return p})()})]})]})]}),g&&b&&e.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 py-2 px-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:[e.jsx(Ee,{className:"h-4 w-4 text-blue-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[g.toLocaleDateString("pt-BR"),e.jsx("span",{className:"mx-2 text-gray-400",children:"ate"}),b.toLocaleDateString("pt-BR")]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(u,{variant:"outline",size:"sm",onClick:()=>{y(void 0),M(void 0)},className:"flex-1 h-9 text-sm rounded-xl bg-transparent",children:"Cancelar"}),e.jsx(u,{onClick:ce,disabled:!g||!b,size:"sm",className:"flex-1 h-9 text-sm bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl font-semibold transition-all disabled:opacity-50",children:"Confirmar"})]})]})]})})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 pr-3",children:e.jsxs(gs,{open:Mt,onOpenChange:Ms,children:[e.jsx(ps,{asChild:!0,children:e.jsxs(u,{variant:"ghost",size:"sm",className:"h-8 px-3 gap-1",children:[e.jsx(ke,{className:"h-3 w-3"}),"Colunas"]})}),e.jsx(vs,{className:"w-80",align:"start",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Layout de Colunas"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Escolha como os widgets serão organizados no dashboard"})]}),e.jsx("div",{className:"grid gap-2",children:da.map(s=>e.jsxs("button",{onClick:()=>{Rs(s.id),Ms(!1)},className:l("flex items-center justify-between p-3 rounded-lg border transition-all hover:border-primary",Pe===s.id&&"border-primary bg-primary/5"),children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:s.label}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.description})]}),Pe===s.id&&e.jsx(ae,{className:"h-4 w-4 text-primary flex-shrink-0"})]},s.id))})]})})]})}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[Q.length>0&&e.jsxs(gs,{open:It,onOpenChange:Ft,children:[e.jsx(ps,{asChild:!0,children:e.jsxs(u,{variant:"outline",size:"sm",className:"h-8 px-3 gap-2 bg-transparent",children:[e.jsx(ke,{className:"h-3 w-3"}),pe?Q.find(s=>s.id===pe)?.name:"Selecionar Dashboard",e.jsx(fs,{className:"h-3 w-3"})]})}),e.jsx(vs,{align:"end",className:"w-[320px] p-2",children:e.jsx("div",{className:"space-y-1",children:Q.map(s=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(u,{variant:"ghost",size:"sm",onClick:()=>pa(s.id),className:l("flex-1 justify-start h-9 px-2",pe===s.id&&"bg-primary/10 text-primary"),children:[e.jsx(ke,{className:"h-3 w-3 mr-2"}),e.jsx("span",{className:"flex-1 text-left truncate",children:s.name}),s.isGlobal&&e.jsx(Qs,{className:"h-3 w-3 ml-1 text-blue-500"}),s.sharedWith&&s.sharedWith.length>0&&e.jsx(X,{className:"h-3 w-3 ml-1 text-green-500"})]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>ua(s.id),className:"h-9 w-9 p-0 hover:bg-blue-500/10 hover:text-blue-500",children:e.jsx(xr,{className:"h-3 w-3"})}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>Ut(s.id),className:"h-9 w-9 p-0 hover:bg-green-500/10 hover:text-green-500",children:e.jsx(Ma,{className:"h-3 w-3"})}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>fa(s.id),className:"h-9 w-9 p-0 hover:bg-destructive/10 hover:text-destructive",children:e.jsx(bs,{className:"h-3 w-3"})})]},s.id))})})]}),e.jsxs(u,{variant:"outline",size:"sm",className:"h-8 px-3 gap-1 border-success text-success-foreground hover:bg-success-muted bg-transparent",onClick:Xt,disabled:As,children:[e.jsx(xe,{className:"h-3 w-3"}),As?"Exportando...":"Exportar PDF"]})]})]})})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:ee.filter(s=>s.visible).sort((s,a)=>s.order-a.order).map(s=>Ys(s.id))}),h&&e.jsx(k,{className:"border-2 border-dashed",children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Je,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Modo de Organização Ativo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Suas alterações serão salvas automaticamente"})]})]}),e.jsxs(u,{variant:"default",size:"sm",onClick:Os,className:"gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Concluir"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(u,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",children:[e.jsx($,{className:"h-4 w-4"}),"Arrastar para reorganizar"]}),e.jsxs(u,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",children:[e.jsx(Fe,{className:"h-4 w-4"}),"Ocultar widget"]}),e.jsxs(u,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",children:[e.jsx(Oa,{className:"h-4 w-4"}),"Renomear"]}),e.jsxs(u,{variant:"outline",size:"sm",className:"gap-2 text-red-600 hover:text-red-700 bg-transparent",children:[e.jsx(bs,{className:"h-4 w-4"}),"Remover"]})]})]})}),e.jsx("div",{id:"dashboard-content",className:l("grid gap-6 auto-rows-auto",la()),children:J.filter(s=>s.visible).sort((s,a)=>s.order-a.order).map(s=>xa(s))}),e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsxs(u,{size:"default",onClick:()=>We(!0),className:"gap-2 shadow-lg rounded-full h-12 px-5 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(Ye,{className:"h-4 w-4"}),"Adicionar Widget"]})}),Ot&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>We(!1)}),e.jsxs("div",{className:l("fixed top-0 right-0 h-screen bg-background z-50",r?"w-[calc(100vw-4rem)]":"w-[calc(100vw-16rem)]","shadow-[rgba(0,0,0,0.2)_-8px_0px_32px_0px,rgba(0,0,0,0.1)_-4px_0px_16px_0px]","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-100","duration-300 ease-in-out overflow-hidden flex flex-col"),style:{left:r?"4rem":"16rem"},children:[e.jsxs("div",{className:"flex-shrink-0 p-6 border-b bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/30 dark:to-purple-950/30",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Biblioteca de Widgets"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1.5",children:"Adicione widgets ao seu dashboard com um clique"})]}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>We(!1),className:"h-8 w-8 p-0",children:e.jsx(jt,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:e.jsxs(C,{variant:"secondary",className:"bg-white/80 dark:bg-gray-900/80",children:[J.filter(s=>s.visible).length," widgets ativos"]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Bt.map(s=>{const n=J.find(z=>z.type===s.id)?.visible??!1,t=s.icon,d={blue:"from-blue-500/10 to-blue-600/5 border-blue-200 dark:border-blue-800",green:"from-green-500/10 to-green-600/5 border-green-200 dark:border-green-800",purple:"from-purple-500/10 to-purple-600/5 border-purple-200 dark:border-purple-800",indigo:"from-indigo-500/10 to-indigo-600/5 border-indigo-200 dark:border-indigo-800",orange:"from-orange-500/10 to-orange-600/5 border-orange-200 dark:border-orange-800",emerald:"from-emerald-500/10 to-emerald-600/5 border-emerald-200 dark:border-emerald-800",teal:"from-teal-500/10 to-teal-600/5 border-teal-200 dark:border-teal-800",amber:"from-amber-500/10 to-amber-600/5 border-amber-200 dark:border-amber-800",yellow:"from-yellow-500/10 to-yellow-600/5 border-yellow-200 dark:border-yellow-800",sky:"from-sky-500/10 to-sky-600/5 border-sky-200 dark:border-sky-800",red:"from-red-500/10 to-red-600/5 border-red-200 dark:border-red-800",cyan:"from-cyan-500/10 to-cyan-600/5 border-cyan-200 dark:border-cyan-800",slate:"from-slate-500/10 to-slate-600/5 border-slate-200 dark:border-slate-800"},p={blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",purple:"text-purple-600 dark:text-purple-400",indigo:"text-indigo-600 dark:text-indigo-400",orange:"text-orange-600 dark:text-orange-400",emerald:"text-emerald-600 dark:text-emerald-400",teal:"text-teal-600 dark:text-teal-400",amber:"text-amber-600 dark:text-amber-400",yellow:"text-yellow-600 dark:text-yellow-400",sky:"text-sky-600 dark:text-sky-400",red:"text-red-600 dark:text-red-400",cyan:"text-cyan-600 dark:text-cyan-400",slate:"text-slate-600 dark:text-slate-400"},x=d[s.color]||d.blue,N=p[s.color]||p.blue;return e.jsxs("div",{className:l("relative p-2.5 rounded-lg border-2 transition-all hover:shadow-md cursor-pointer group",x,n?"shadow-sm":"opacity-60"),onClick:()=>{n?Js(s.id):Hs(s.id)},children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:l("flex-shrink-0 p-1.5 rounded-lg bg-white/50 dark:bg-gray-900/50",N),children:e.jsx(t,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm leading-tight mb-0.5",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground leading-tight",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx(C,{variant:"secondary",className:l("text-[10px] h-4 px-1.5",n?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"),children:n?"Ativo":"Inativo"}),e.jsx(u,{variant:n?"ghost":"default",size:"sm",className:l("h-6 px-2 text-xs",n?"hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/30":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700"),onClick:z=>{z.stopPropagation(),n?Js(s.id):Hs(s.id)},children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ea,{className:"h-3 w-3 mr-1"}),"Remover"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-3 w-3 mr-1"}),"Adicionar"]})})]})]},s.id)})})}),e.jsx("div",{className:"flex-shrink-0 p-4 border-t bg-gradient-to-r from-blue-50/50 to-purple-50/50 dark:from-blue-950/20 dark:to-purple-950/20",children:e.jsxs(u,{onClick:()=>Ve(!0),className:"w-full h-9 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx($a,{className:"h-4 w-4 mr-2"}),"Salvar Dashboard"]})})]})]}),e.jsx(Ze,{open:Wt,onOpenChange:ds,children:e.jsxs(es,{className:"sm:max-w-md",children:[e.jsxs(ss,{children:[e.jsx(ts,{children:"Editar Dashboard"}),e.jsx(Ns,{children:"Altere o nome do dashboard"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Qe,{htmlFor:"edit-dashboard-name",children:"Nome do Dashboard"}),e.jsx(ys,{id:"edit-dashboard-name",value:Be,onChange:s=>Ts(s.target.value),placeholder:"Digite o nome do dashboard",onKeyDown:s=>{s.key==="Enter"&&Ws()}})]})}),e.jsxs(ws,{children:[e.jsx(u,{variant:"outline",onClick:()=>ds(!1),children:"Cancelar"}),e.jsx(u,{onClick:Ws,disabled:!Be.trim(),children:"Salvar Alterações"})]})]})}),e.jsx(Ze,{open:Vt,onOpenChange:qe,children:e.jsxs(es,{className:"sm:max-w-lg",children:[e.jsxs(ss,{children:[e.jsx(ts,{children:"Compartilhar Dashboard"}),e.jsx(Ns,{children:"Escolha como deseja compartilhar este dashboard"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-4 w-4 text-blue-500"}),e.jsx(Qe,{htmlFor:"share-global",className:"font-medium",children:"Compartilhar Globalmente"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Disponível para todas as contas"})]}),e.jsx(tt,{id:"share-global",checked:Fs,onCheckedChange:cs})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-green-500"}),e.jsx(Qe,{className:"font-medium",children:"Compartilhar com Profissionais"})]}),e.jsx(ys,{placeholder:"Buscar profissional...",value:xs,onChange:s=>_s(s.target.value),className:"w-full"}),e.jsx("div",{className:"border rounded-lg max-h-[200px] overflow-y-auto",children:[{id:"prof-1",name:"Dr. João Silva",specialty:"Psicólogo"},{id:"prof-2",name:"Dra. Maria Santos",specialty:"Nutricionista"},{id:"prof-3",name:"Dr. Pedro Costa",specialty:"Personal Trainer"},{id:"prof-4",name:"Dra. Ana Lima",specialty:"Terapeuta"}].filter(s=>xs?s.name.toLowerCase().includes(xs.toLowerCase()):!0).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-muted/50 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.specialty})]}),e.jsx(tt,{checked:Ge.includes(s.id),onCheckedChange:()=>ga(s.id)})]},s.id))}),Ge.length>0&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[Ge.length," profissional(is) selecionado(s)"]})]})]}),e.jsxs(ws,{children:[e.jsx(u,{variant:"outline",onClick:()=>qe(!1),children:"Cancelar"}),e.jsx(u,{onClick:ha,children:"Salvar Compartilhamento"})]})]})}),e.jsx(Ze,{open:Lt,onOpenChange:Ve,children:e.jsxs(es,{className:"sm:max-w-md",children:[e.jsxs(ss,{children:[e.jsx(ts,{children:"Salvar Dashboard"}),e.jsx(Ns,{children:"Dê um nome ao seu dashboard personalizado"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Qe,{htmlFor:"dashboard-name",children:"Nome do Dashboard"}),e.jsx(ys,{id:"dashboard-name",value:Ue,onChange:s=>$s(s.target.value),placeholder:"Ex: Meu Dashboard Financeiro",onKeyDown:s=>{s.key==="Enter"&&Ks()}})]})}),e.jsxs(ws,{children:[e.jsx(u,{variant:"outline",onClick:()=>Ve(!1),children:"Cancelar"}),e.jsx(u,{onClick:Ks,disabled:!Ue.trim(),children:"Salvar Dashboard"})]})]})}),Re&&e.jsx(Vr,{open:At,onOpenChange:Et,metricKey:Re.key,metricTitle:Re.title,chartType:Re.type,data:Re.data})]})}export{$i as default};
