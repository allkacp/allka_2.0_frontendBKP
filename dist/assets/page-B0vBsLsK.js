import{c as I,r as l,j as e,f as m,T as M,h as W,i as p,k as v,C as a,g as t,aO as J,y as Z,a2 as z,p as O,a as N,d as b,af as c,aU as K,ag as T,E as R,H as C,I as D,J as A,K as n,B as L,P as B,m as Q,D as X,v as Y,w as ee,x as se,aR as ae,ac as te}from"./index-D2dOrPZ8.js";import{D as le}from"./download--rFCaPFG.js";import{T as ie}from"./trending-down-DG-mIJr0.js";import{R as re}from"./receipt-D46BrlE0.js";import{F as ne}from"./funnel-D8IEwOH8.js";import{A as ce}from"./arrow-up-right-BzGpF1u-.js";const de=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],oe=I("arrow-down-left",de);function pe(){const[i,y]=l.useState(null),[F,d]=l.useState(!1),[h,f]=l.useState(""),[j,k]=l.useState("credit"),[g,_]=l.useState(""),[o,U]=l.useState(""),[x,$]=l.useState("all"),r={total_available:45e4,total_pending:125e3,total_blocked:35e3,total_earned:25e5,active_users:156,pending_withdrawals:23},w=[{user_id:"user-1",user_name:"Agência Digital Pro",user_email:"contato@digitalpro.com",user_type:"agency",available_balance:15e3,pending_balance:5e3,blocked_balance:2e3,total_earned:85e3,last_activity:"2024-01-30T10:00:00Z"},{user_id:"user-2",user_name:"João Silva",user_email:"joao@nomade.com",user_type:"nomade",available_balance:3500,pending_balance:1200,blocked_balance:0,total_earned:25e3,last_activity:"2024-01-29T15:30:00Z"}],P=[{id:"adj-1",user_id:"user-1",user_name:"Agência Digital Pro",amount:1e3,type:"credit",reason:"Bônus por performance excepcional",admin_id:"admin-1",admin_name:"Admin Sistema",created_at:"2024-01-30T09:00:00Z"}],S=l.useMemo(()=>w.filter(s=>{const u=s.user_name.toLowerCase().includes(o.toLowerCase())||s.user_email.toLowerCase().includes(o.toLowerCase()),G=x==="all"||s.user_type===x;return u&&G}),[w,o,x]),V=()=>{if(!i||!h||!g.trim())return;const s=Number.parseFloat(h);s<=0||(console.log("Adjusting balance:",{user_id:i.user_id,amount:s,type:j,reason:g}),d(!1),f(""),_(""),y(null))},H=()=>{console.log("Generating reconciliation report...")},E=s=>({agency:"Agência",nomade:"Nômade",leader:"Líder"})[s]||s,q=s=>({agency:"default",nomade:"secondary",leader:"outline"})[s]||"default";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Carteiras"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Visão geral e gerenciamento de todas as carteiras da plataforma"})]}),e.jsxs(m,{onClick:H,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Relatório de Conciliação"]})]}),e.jsxs(M,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(W,{children:[e.jsx(p,{value:"overview",children:"Visão Geral"}),e.jsx(p,{value:"wallets",children:"Carteiras"}),e.jsx(p,{value:"adjustments",children:"Ajustes"})]}),e.jsxs(v,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(a,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Disponível"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["R$ ",r.total_available.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Para saque"})]}),e.jsx(J,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(a,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pendente"}),e.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:["R$ ",r.total_pending.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Aguardando liberação"})]}),e.jsx(Z,{className:"h-8 w-8 text-yellow-500"})]})})}),e.jsx(a,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bloqueado"}),e.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["R$ ",r.total_blocked.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Em solicitações"})]}),e.jsx(ie,{className:"h-8 w-8 text-red-500"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(a,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Ganho"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["R$ ",r.total_earned.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Histórico total"})]}),e.jsx(z,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(a,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Usuários Ativos"}),e.jsx("p",{className:"text-2xl font-bold",children:r.active_users}),e.jsx("p",{className:"text-sm text-gray-500",children:"Com saldo"})]}),e.jsx(O,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(a,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Saques Pendentes"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:r.pending_withdrawals}),e.jsx("p",{className:"text-sm text-gray-500",children:"Solicitações"})]}),e.jsx(re,{className:"h-8 w-8 text-orange-500"})]})})})]})]}),e.jsxs(v,{value:"wallets",className:"space-y-6",children:[e.jsxs(a,{children:[e.jsx(N,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Filtros"]})}),e.jsx(t,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(T,{placeholder:"Nome ou email...",value:o,onChange:s=>U(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Tipo de Usuário"}),e.jsxs(R,{value:x,onValueChange:$,children:[e.jsx(C,{children:e.jsx(D,{})}),e.jsxs(A,{children:[e.jsx(n,{value:"all",children:"Todos"}),e.jsx(n,{value:"agency",children:"Agências"}),e.jsx(n,{value:"nomade",children:"Nômades"}),e.jsx(n,{value:"leader",children:"Líderes"})]})]})]})]})})]}),e.jsxs(a,{children:[e.jsx(N,{children:e.jsxs(b,{children:["Carteiras (",S.length,")"]})}),e.jsx(t,{children:e.jsx("div",{className:"space-y-4",children:S.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.user_name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.user_email})]}),e.jsx(L,{variant:q(s.user_type),children:E(s.user_type)})]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>{y(s),d(!0)},children:[e.jsx(B,{className:"h-4 w-4 mr-1"}),"Ajustar Saldo"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Disponível"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",s.available_balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pendente"}),e.jsxs("p",{className:"text-lg font-bold text-yellow-600",children:["R$ ",s.pending_balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Bloqueado"}),e.jsxs("p",{className:"text-lg font-bold text-red-600",children:["R$ ",s.blocked_balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Ganho"}),e.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["R$ ",s.total_earned.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),e.jsx("div",{className:"mt-3 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),"Última atividade: ",new Date(s.last_activity).toLocaleDateString("pt-BR")," às"," ",new Date(s.last_activity).toLocaleTimeString("pt-BR")]})})]},s.user_id))})})]})]}),e.jsx(v,{value:"adjustments",className:"space-y-6",children:e.jsxs(a,{children:[e.jsx(N,{children:e.jsx(b,{children:"Histórico de Ajustes"})}),e.jsx(t,{children:e.jsx("div",{className:"space-y-4",children:P.map(s=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.type==="credit"?e.jsx(oe,{className:"h-5 w-5 text-green-600"}):e.jsx(ce,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.user_name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.reason}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Por ",s.admin_name," em ",new Date(s.created_at).toLocaleDateString("pt-BR")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-lg font-bold ${s.type==="credit"?"text-green-600":"text-red-600"}`,children:[s.type==="credit"?"+":"-","R$ ",s.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx(L,{variant:s.type==="credit"?"default":"destructive",children:s.type==="credit"?"Crédito":"Débito"})]})]})},s.id))})})]})})]}),e.jsx(X,{open:F,onOpenChange:d,children:e.jsxs(Y,{children:[e.jsx(ee,{children:e.jsx(se,{children:"Ajustar Saldo"})}),e.jsxs("div",{className:"space-y-4",children:[i&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Usuário Selecionado"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nome:"})," ",i.user_name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",i.user_email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Saldo Atual:"})," R$"," ",i.available_balance.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Tipo de Ajuste"}),e.jsxs(R,{value:j,onValueChange:s=>k(s),children:[e.jsx(C,{children:e.jsx(D,{})}),e.jsxs(A,{children:[e.jsx(n,{value:"credit",children:"Crédito (+)"}),e.jsx(n,{value:"debit",children:"Débito (-)"})]})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Valor"}),e.jsx(T,{type:"number",placeholder:"0,00",value:h,onChange:s=>f(s.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(c,{children:"Justificativa"}),e.jsx(ae,{placeholder:"Descreva o motivo do ajuste...",value:g,onChange:s=>_(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{onClick:V,className:"bg-blue-600 hover:bg-blue-700",children:[j==="credit"?e.jsx(B,{className:"h-4 w-4 mr-2"}):e.jsx(te,{className:"h-4 w-4 mr-2"}),"Aplicar Ajuste"]}),e.jsx(m,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"})]})]})]})})]})}export{pe as default};
