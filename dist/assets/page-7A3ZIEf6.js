import{r as o,j as e,f as l,z as L,P as B,C as n,g as c,n as E,y as O,aj as D,aU as G,ag as x,E as f,H as y,I as N,J as b,K as d,a as $,d as H,e as U,B as g,aQ as W,D as Z,v as Q,w as J,x as K,ae as X,T as Y,h as ee,i as u,k as j,af as t,aR as w,ai as se}from"./index-D2dOrPZ8.js";import{P as ae}from"./progress-BnPXSgzQ.js";import{P as ie}from"./play-CxVld3XJ.js";import{S as te}from"./square-pen-Bi43ABVd.js";import{T as re}from"./triangle-alert-Cjhkzg0C.js";const le=[{id:"1",name:"Landing Page Responsiva",description:"Criação de landing page responsiva com foco em conversão",category:"Web Development",complexity:"intermediate",base_price:800,emergency_multiplier:1.5,revision_time_hours:4,estimated_hours:16,execution_instructions:"Desenvolver landing page seguindo as diretrizes de UX/UI fornecidas...",briefing_instructions:"Forneça informações sobre público-alvo, objetivos de conversão...",prerequisite_tasks:[],triggers_tasks:["2"],ranking_criteria:{weight_task_rating:40,weight_availability:20,weight_project_history:25,weight_overall_score:15,min_task_rating:4,min_overall_score:4.2,min_available_hours:20,required_qualifications:["web_development","responsive_design"],prefer_project_experience:!0,prefer_category_specialist:!0},qualification_test_id:"test_1",stats:{total_executions:45,average_completion_time:14.5,average_rating:4.6,success_rate:92,average_revisions:1.2,performance_by_level:{silver:{avg_time:18,avg_rating:4.2,completion_rate:88},gold:{avg_time:14,avg_rating:4.7,completion_rate:95},diamond:{avg_time:12,avg_rating:4.9,completion_rate:98}},last_30_days:{executions:8,avg_rating:4.7,issues:1}},is_active:!0,requires_approval:!1,max_revisions:3,tags:["landing-page","responsive","conversion"],created_at:"2024-01-15T10:00:00Z",updated_at:"2024-01-20T15:30:00Z",created_by:"admin_1"},{id:"2",name:"Integração de Analytics",description:"Implementação de Google Analytics e Facebook Pixel",category:"Web Development",complexity:"basic",base_price:300,emergency_multiplier:2,revision_time_hours:2,estimated_hours:6,execution_instructions:"Implementar códigos de tracking seguindo as melhores práticas...",briefing_instructions:"Forneça acesso às contas do Google Analytics e Facebook Ads...",prerequisite_tasks:["1"],triggers_tasks:[],ranking_criteria:{weight_task_rating:50,weight_availability:15,weight_project_history:20,weight_overall_score:15,min_task_rating:4.2,min_overall_score:4,min_available_hours:8,required_qualifications:["analytics","tracking"],prefer_project_experience:!1,prefer_category_specialist:!0},stats:{total_executions:32,average_completion_time:5.8,average_rating:4.8,success_rate:96,average_revisions:.8,performance_by_level:{silver:{avg_time:7,avg_rating:4.5,completion_rate:92},gold:{avg_time:5.5,avg_rating:4.9,completion_rate:98},diamond:{avg_time:4.5,avg_rating:5,completion_rate:100}},last_30_days:{executions:6,avg_rating:4.9,issues:0}},is_active:!0,requires_approval:!1,max_revisions:2,tags:["analytics","tracking","integration"],created_at:"2024-01-16T09:00:00Z",updated_at:"2024-01-18T11:20:00Z",created_by:"admin_1"}],m={1:{template_id:"1",efficiency_trend:[85,87,89,92,88,91,94,96,93,95,97,92],quality_trend:[4.2,4.3,4.4,4.5,4.4,4.6,4.7,4.6,4.8,4.7,4.6,4.6],demand_trend:[3,4,5,6,4,7,8,6,9,7,8,8],vs_category_average:{completion_time:-12,rating:8,success_rate:5},common_revision_reasons:[{reason:"Ajustes de responsividade",frequency:35,avg_resolution_time:2.5},{reason:"Mudanças de cor/fonte",frequency:28,avg_resolution_time:1.8},{reason:"Otimização de velocidade",frequency:22,avg_resolution_time:3.2}],top_performers:[{nomade_id:"n1",nomade_name:"Carlos Silva",executions:8,avg_rating:4.9,avg_time:12.5},{nomade_id:"n2",nomade_name:"Ana Costa",executions:6,avg_rating:4.8,avg_time:13.2},{nomade_id:"n3",nomade_name:"Pedro Santos",executions:5,avg_rating:4.7,avg_time:14.1}],optimization_suggestions:["Considere criar template específico para mobile-first","Adicione checklist de performance no briefing","Implemente revisão automática de responsividade"],pricing_recommendations:{suggested_price:850,confidence:87,reasoning:"Alta demanda e performance acima da média justificam aumento de 6.25%"}}},ne={basic:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-orange-100 text-orange-800",premium:"bg-purple-100 text-purple-800"};function ue(){const[r,C]=o.useState(le),[h,k]=o.useState(""),[p,T]=o.useState("all"),[v,S]=o.useState("all"),[a,_]=o.useState(null),[ce,A]=o.useState(!1),[de,P]=o.useState(!1),q=o.useMemo(()=>r.filter(s=>{const i=s.name.toLowerCase().includes(h.toLowerCase())||s.description.toLowerCase().includes(h.toLowerCase())||s.tags.some(z=>z.toLowerCase().includes(h.toLowerCase())),F=p==="all"||s.category===p,R=v==="all"||s.complexity===v;return i&&F&&R}),[r,h,p,v]),I=Array.from(new Set(r.map(s=>s.category))),M=s=>{const i={...s,id:`${s.id}_copy_${Date.now()}`,name:`${s.name} (Cópia)`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};C([...r,i])},V=s=>{C(r.map(i=>i.id===s?{...i,is_active:!i.is_active}:i))};return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Modelos de Tarefas"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie modelos de tarefas e configure distribuição automática"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(l,{variant:"outline",onClick:()=>P(!0),children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Analytics"]}),e.jsxs(l,{onClick:()=>A(!0),children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Novo Modelo"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(n,{children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total de Modelos"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.length})]}),e.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(ie,{className:"h-4 w-4 text-blue-600"})})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Modelos Ativos"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(s=>s.is_active).length})]}),e.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(E,{className:"h-4 w-4 text-green-600"})})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Execuções (30d)"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.reduce((s,i)=>s+i.stats.last_30_days.executions,0)})]}),e.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"h-4 w-4 text-purple-600"})})]})})}),e.jsx(n,{children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Rating Médio"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(r.reduce((s,i)=>s+i.stats.average_rating,0)/r.length).toFixed(1)})]}),e.jsx("div",{className:"h-8 w-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(D,{className:"h-4 w-4 text-yellow-600"})})]})})})]}),e.jsx(n,{className:"mb-6",children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(x,{placeholder:"Buscar modelos por nome, descrição ou tags...",value:h,onChange:s=>k(s.target.value),className:"pl-10"})]})}),e.jsxs(f,{value:p,onValueChange:T,children:[e.jsx(y,{className:"w-full md:w-48",children:e.jsx(N,{placeholder:"Categoria"})}),e.jsxs(b,{children:[e.jsx(d,{value:"all",children:"Todas as categorias"}),I.map(s=>e.jsx(d,{value:s,children:s},s))]})]}),e.jsxs(f,{value:v,onValueChange:S,children:[e.jsx(y,{className:"w-full md:w-48",children:e.jsx(N,{placeholder:"Complexidade"})}),e.jsxs(b,{children:[e.jsx(d,{value:"all",children:"Todas as complexidades"}),e.jsx(d,{value:"basic",children:"Básico"}),e.jsx(d,{value:"intermediate",children:"Intermediário"}),e.jsx(d,{value:"advanced",children:"Avançado"}),e.jsx(d,{value:"premium",children:"Premium"})]})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:q.map(s=>e.jsxs(n,{className:"hover:shadow-lg transition-shadow",children:[e.jsx($,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(H,{className:"text-lg mb-1",children:s.name}),e.jsx(U,{className:"text-sm",children:s.description})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-3",children:[!s.is_active&&e.jsx(g,{variant:"secondary",className:"text-xs",children:"Inativo"}),e.jsx(g,{className:ne[s.complexity],children:s.complexity})]})]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Preço Base"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["R$ ",s.base_price]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Tempo Estimado"}),e.jsxs("p",{className:"font-semibold",children:[s.estimated_hours,"h"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Rating Médio"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"font-semibold",children:s.stats.average_rating})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Taxa de Sucesso"}),e.jsxs("p",{className:"font-semibold text-green-600",children:[s.stats.success_rate,"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{children:"Execuções (30d)"}),e.jsx("span",{children:s.stats.last_30_days.executions})]}),e.jsx(ae,{value:s.stats.last_30_days.executions/10*100,className:"h-1"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.tags.slice(0,3).map(i=>e.jsx(g,{variant:"outline",className:"text-xs",children:i},i)),s.tags.length>3&&e.jsxs(g,{variant:"outline",className:"text-xs",children:["+",s.tags.length-3]})]}),(s.prerequisite_tasks.length>0||s.triggers_tasks.length>0)&&e.jsxs("div",{className:"text-xs text-gray-600 bg-blue-50 p-2 rounded",children:[s.prerequisite_tasks.length>0&&e.jsxs("p",{children:["↳ Depende de ",s.prerequisite_tasks.length," tarefa(s)"]}),s.triggers_tasks.length>0&&e.jsxs("p",{children:["→ Dispara ",s.triggers_tasks.length," tarefa(s)"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>_(s),className:"flex-1",children:[e.jsx(te,{className:"h-3 w-3 mr-1"}),"Editar"]}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>M(s),children:e.jsx(W,{className:"h-3 w-3"})}),e.jsx(l,{variant:s.is_active?"outline":"default",size:"sm",onClick:()=>V(s.id),children:s.is_active?"Pausar":"Ativar"})]})]})]},s.id))}),q.length===0&&e.jsx(n,{className:"text-center py-12",children:e.jsxs(c,{children:[e.jsx(re,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum modelo encontrado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Não encontramos modelos que correspondam aos filtros selecionados."}),e.jsx(l,{onClick:()=>{k(""),T("all"),S("all")},children:"Limpar Filtros"})]})}),a&&e.jsx(Z,{open:!!a,onOpenChange:()=>_(null),children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(J,{children:[e.jsx(K,{children:a.name}),e.jsx(X,{children:a.description})]}),e.jsxs(Y,{defaultValue:"general",className:"w-full",children:[e.jsxs(ee,{className:"grid w-full grid-cols-5",children:[e.jsx(u,{value:"general",children:"Geral"}),e.jsx(u,{value:"instructions",children:"Instruções"}),e.jsx(u,{value:"ranking",children:"Ranking"}),e.jsx(u,{value:"chain",children:"Cadeia"}),e.jsx(u,{value:"analytics",children:"Analytics"})]}),e.jsxs(j,{value:"general",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",children:"Nome do Modelo"}),e.jsx(x,{id:"name",defaultValue:a.name})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"category",children:"Categoria"}),e.jsxs(f,{defaultValue:a.category,children:[e.jsx(y,{children:e.jsx(N,{})}),e.jsxs(b,{children:[e.jsx(d,{value:"Web Development",children:"Web Development"}),e.jsx(d,{value:"Design",children:"Design"}),e.jsx(d,{value:"Marketing",children:"Marketing"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"base_price",children:"Preço Base (R$)"}),e.jsx(x,{id:"base_price",type:"number",defaultValue:a.base_price})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"estimated_hours",children:"Horas Estimadas"}),e.jsx(x,{id:"estimated_hours",type:"number",defaultValue:a.estimated_hours})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"description",children:"Descrição"}),e.jsx(w,{id:"description",defaultValue:a.description})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{id:"is_active",defaultChecked:a.is_active}),e.jsx(t,{htmlFor:"is_active",children:"Modelo Ativo"})]})]}),e.jsxs(j,{value:"instructions",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"execution_instructions",children:"Instruções de Execução (Para Nômades)"}),e.jsx(w,{id:"execution_instructions",defaultValue:a.execution_instructions,rows:6,placeholder:"Instruções detalhadas sobre como executar esta tarefa..."})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"briefing_instructions",children:"Instruções de Briefing (Para Clientes)"}),e.jsx(w,{id:"briefing_instructions",defaultValue:a.briefing_instructions,rows:6,placeholder:"Instruções sobre quais informações o cliente deve fornecer..."})]})]}),e.jsxs(j,{value:"ranking",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Peso - Rating da Tarefa (%)"}),e.jsx(x,{type:"number",defaultValue:a.ranking_criteria.weight_task_rating})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Peso - Disponibilidade (%)"}),e.jsx(x,{type:"number",defaultValue:a.ranking_criteria.weight_availability})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Rating Mínimo da Tarefa"}),e.jsx(x,{type:"number",step:"0.1",defaultValue:a.ranking_criteria.min_task_rating})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Score Geral Mínimo"}),e.jsx(x,{type:"number",step:"0.1",defaultValue:a.ranking_criteria.min_overall_score})]})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Qualificações Obrigatórias"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.ranking_criteria.required_qualifications.map(s=>e.jsx(g,{variant:"outline",children:s},s))})]})]}),e.jsxs(j,{value:"chain",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Tarefas Pré-requisito"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tarefas que devem ser concluídas antes desta"}),a.prerequisite_tasks.length>0?e.jsx("div",{className:"space-y-2",children:a.prerequisite_tasks.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("span",{children:["Tarefa ID: ",s]}),e.jsx(l,{variant:"outline",size:"sm",children:"Remover"})]},s))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma tarefa pré-requisito"})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Tarefas Disparadas"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Tarefas que serão iniciadas automaticamente após a conclusão desta"}),a.triggers_tasks.length>0?e.jsx("div",{className:"space-y-2",children:a.triggers_tasks.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("span",{children:["Tarefa ID: ",s]}),e.jsx(l,{variant:"outline",size:"sm",children:"Remover"})]},s))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma tarefa disparada"})]})]}),e.jsx(j,{value:"analytics",className:"space-y-4",children:m[a.id]&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(n,{children:e.jsxs(c,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"vs Categoria"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:[m[a.id].vs_category_average.completion_time>0?"+":"",m[a.id].vs_category_average.completion_time,"% tempo"]})]})}),e.jsx(n,{children:e.jsxs(c,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Rating vs Média"}),e.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["+",m[a.id].vs_category_average.rating,"%"]})]})}),e.jsx(n,{children:e.jsxs(c,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Taxa de Sucesso"}),e.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["+",m[a.id].vs_category_average.success_rate,"%"]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Top Performers"}),e.jsx("div",{className:"space-y-2",children:m[a.id].top_performers.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.nomade_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.executions," execuções"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:[s.avg_rating," ⭐"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.avg_time,"h média"]})]})]},s.nomade_id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Sugestões de Otimização"}),e.jsx("div",{className:"space-y-2",children:m[a.id].optimization_suggestions.map((s,i)=>e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:e.jsx("p",{className:"text-sm",children:s})},i))})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(l,{variant:"outline",onClick:()=>_(null),children:"Cancelar"}),e.jsx(l,{children:"Salvar Alterações"})]})]})})]})}export{ue as default};
