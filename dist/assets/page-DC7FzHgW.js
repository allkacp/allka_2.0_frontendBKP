import{r as s,y as T,m as B,n as _,a2 as A,j as e,f as h,C as b,g as f,az as L,Z as $,P as R,B as z}from"./index-D2dOrPZ8.js";import{D as M}from"./data-table-BARJs-tp.js";import{P as O}from"./project-modal-form-CFanLYa-.js";import{C as v}from"./confirmation-dialog-Bk9N8cdM.js";import{P as V}from"./page-header-DpITyWPC.js";import{D as q}from"./download--rFCaPFG.js";import{F as G}from"./funnel-D8IEwOH8.js";import{S as I}from"./square-pen-Bi43ABVd.js";import"./table-DSYZvwhV.js";import"./skeleton-D4sfmQAY.js";import"./triangle-alert-Cjhkzg0C.js";function oe(){const[o,r]=s.useState([]),[N,H]=s.useState(!1),[y,U]=s.useState(null),[C,i]=s.useState(!1),[p,c]=s.useState(null),[n,d]=s.useState({open:!1,project:null}),[u,g]=s.useState(!1),[l,m]=s.useState({open:!1,project:null}),w=[{title:"Total de Projetos",value:o.length.toString(),icon:T,color:"bg-gradient-to-r from-blue-500 to-blue-600"},{title:"Em Andamento",value:o.filter(t=>t.status==="in_progress").length.toString(),icon:B,color:"bg-gradient-to-r from-yellow-500 to-orange-500"},{title:"Concluídos",value:o.filter(t=>t.status==="completed").length.toString(),icon:_,color:"bg-gradient-to-r from-green-500 to-emerald-500"},{title:"Investimento Total",value:`R$ ${(o.reduce((t,a)=>t+(a.budget||0),0)/1e3).toFixed(0)}k`,icon:A,color:"bg-gradient-to-r from-purple-500 to-pink-500"}],P=[{key:"name",label:"Nome do Projeto",sortable:!0},{key:"client",label:"Cliente",sortable:!0},{key:"status",label:"Status",sortable:!0,render:t=>{const a={active:{label:"Ativo",className:"bg-green-100 text-green-800"},in_progress:{label:"Em Andamento",className:"bg-blue-100 text-blue-800"},completed:{label:"Concluído",className:"bg-gray-100 text-gray-800"},on_hold:{label:"Pausado",className:"bg-yellow-100 text-yellow-800"},awaiting_payment:{label:"Aguardando Pagamento",className:"bg-cyan-100 text-cyan-800"}},j=a[t.status]||a.active;return e.jsx(z,{className:j.className,children:j.label})}},{key:"budget",label:"Orçamento",sortable:!0,render:t=>`R$ ${t.budget?.toLocaleString()||"0"}`},{key:"deadline",label:"Prazo",sortable:!0}],D=[{label:"Visualizar",icon:L,onClick:t=>{m({open:!0,project:t})}},{label:"Editar",icon:I,onClick:t=>{c(t),i(!0)}},{label:"Excluir",icon:$,onClick:t=>{d({open:!0,project:t})},variant:"destructive"}],S=()=>{c(null),i(!0)},x=()=>{i(!1),c(null)},E=t=>{r(p?o.map(a=>a.id===t.id?t:a):[...o,{...t,id:Date.now().toString()}]),x()},k=()=>{n.project&&(r(o.filter(t=>t.id!==n.project?.id)),d({open:!1,project:null}))},F=async()=>{g(!0),await new Promise(t=>setTimeout(t,1500)),g(!1),alert("Dados exportados com sucesso!")};return s.useEffect(()=>{r([{id:"1",name:"Marketing Digital Completo",client:"Empresa Teste LTDA",status:"in_progress",budget:45e3,deadline:"2025-12-15",description:"Projeto de marketing digital completo incluindo redes sociais, SEO e Google Ads"},{id:"2",name:"Desenvolvimento de E-commerce",client:"Loja Virtual ABC",status:"awaiting_payment",budget:85e3,deadline:"2025-11-30",description:"Desenvolvimento completo de plataforma e-commerce com integração de pagamentos"},{id:"3",name:"Campanha Black Friday",client:"TechCorp Marketing",status:"in_progress",budget:25e3,deadline:"2024-11-20",description:"Campanha de marketing para Black Friday 2024"},{id:"4",name:"Rebranding Completo",client:"Creative Partners",status:"in_progress",budget:45e3,deadline:"2024-12-15",description:"Rebranding completo incluindo logo, identidade visual e materiais gráficos"},{id:"5",name:"Website Institucional",client:"Digital Solutions",status:"completed",budget:18e3,deadline:"2024-10-30",description:"Desenvolvimento de website institucional responsivo"}])},[]),e.jsx("div",{className:"min-h-screen p-6 px-0 py-0 bg-slate-200",children:e.jsxs("div",{className:"max-w-7xl bg-slate-200 mx-0 my-0 px-0 py-0 space-y-6",children:[e.jsx(V,{title:"Projetos",description:"Gerencie todos os seus projetos em um só lugar",actions:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(h,{variant:"outline",onClick:F,disabled:u,children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),u?"Exportando...":"Exportar"]}),e.jsxs(h,{variant:"outline",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Filtros"]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map((t,a)=>e.jsx(b,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer overflow-hidden",children:e.jsx("div",{className:`${t.color} h-full`,children:e.jsx(f,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white/90",children:t.title}),e.jsx("p",{className:"text-3xl font-bold mt-2 text-white",children:t.value})]}),e.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:e.jsx(t.icon,{className:"h-6 w-6 text-white"})})]})})})},a))}),e.jsx(b,{className:"shadow-lg border-0",children:e.jsx(f,{className:"p-0",children:e.jsx(M,{title:"",columns:P,rows:o,isLoading:N,error:y,actions:D,searchable:!0,searchPlaceholder:"Buscar projetos...",onCreateNew:S,createButtonLabel:e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Novo Projeto"]}),emptyMessage:"Nenhum projeto cadastrado",className:"w-full"})})}),e.jsx(O,{open:C,onClose:x,onSubmit:E,initialData:p}),e.jsx(v,{open:n.open,onClose:()=>d({open:!1,project:null}),onConfirm:k,title:"Confirmar Exclusão",message:`Tem certeza que deseja excluir o projeto "${n.project?.name}"? Esta ação não pode ser desfeita.`,confirmText:"Excluir"}),e.jsx(v,{open:l.open,onClose:()=>m({open:!1,project:null}),onConfirm:()=>m({open:!1,project:null}),title:l.project?.name||"Detalhes do Projeto",message:l.project?e.jsxs("div",{className:"space-y-3 text-left",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Cliente:"}),e.jsx("p",{className:"text-sm text-gray-600",children:l.project.client})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Descrição:"}),e.jsx("p",{className:"text-sm text-gray-600",children:l.project.description||"Sem descrição"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Orçamento:"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["R$ ",l.project.budget?.toLocaleString()||"0"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Prazo:"}),e.jsx("p",{className:"text-sm text-gray-600",children:l.project.deadline})]})]}):"",confirmText:"Fechar"})]})})}export{oe as default};
