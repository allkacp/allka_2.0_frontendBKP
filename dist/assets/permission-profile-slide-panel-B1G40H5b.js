import{r as x,j as e,S as w,f as n,a1 as P,C as m,a as h,d as f,g as p,af as c,ag as j,U as g,l as S,a6 as E,a2 as $,q as B,ai as F}from"./index-D2dOrPZ8.js";import{u as D}from"./sidebar-context-DQOyQsLi.js";const z=[{key:"users",label:"Usuários",icon:g},{key:"companies",label:"Empresas",icon:S},{key:"projects",label:"Projetos",icon:E},{key:"nomades",label:"Nômades",icon:g},{key:"financial",label:"Financeiro",icon:$},{key:"settings",label:"Configurações",icon:B}],A=[{key:"view",label:"Visualizar"},{key:"create",label:"Criar"},{key:"edit",label:"Editar"},{key:"delete",label:"Excluir"}];function M({open:u,onClose:v,profile:o,onSave:y}){const[a,i]=x.useState(o||{name:"",description:"",permissions:{users:{view:!1,create:!1,edit:!1,delete:!1},companies:{view:!1,create:!1,edit:!1,delete:!1},projects:{view:!1,create:!1,edit:!1,delete:!1},nomades:{view:!1,create:!1,edit:!1,delete:!1},financial:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,create:!1,edit:!1,delete:!1}}}),[b,d]=x.useState(!1),{sidebarWidth:N}=D(),r=()=>{d(!0),setTimeout(()=>{d(!1),v()},300)},k=(s,l,t)=>{i({...a,permissions:{...a.permissions,[s]:{...a.permissions[s],[l]:t}}})},C=()=>{y(a),r()};return u?e.jsxs("div",{style:{width:`calc(100% - ${N}px)`},className:`fixed inset-y-0 right-0 bg-white shadow-2xl z-50 flex flex-col transition-all duration-500 ease-out ${b?"translate-x-full":"translate-x-0"}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b bg-gradient-to-r from-purple-600 to-blue-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"h-6 w-6 text-white"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:o?.id?"Editar Perfil de Acesso":"Novo Perfil de Acesso"}),e.jsx("p",{className:"text-sm text-purple-100",children:"Configure as permissões do perfil"})]})]}),e.jsx(n,{variant:"ghost",size:"icon",onClick:r,className:"text-white hover:bg-white/20",children:e.jsx(P,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{children:[e.jsx(h,{children:e.jsx(f,{className:"text-base",children:"Informações Básicas"})}),e.jsxs(p,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"name",className:"text-xs",children:"Nome do Perfil"}),e.jsx(j,{id:"name",value:a.name,onChange:s=>i({...a,name:s.target.value}),placeholder:"Ex: Gerente de Projetos",className:"h-9"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"description",className:"text-xs",children:"Descrição"}),e.jsx(j,{id:"description",value:a.description,onChange:s=>i({...a,description:s.target.value}),placeholder:"Breve descrição do perfil",className:"h-9"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Configurar Permissões por Módulo"}),z.map(s=>e.jsxs(m,{children:[e.jsx(h,{className:"pb-2",children:e.jsxs(f,{className:"text-sm flex items-center gap-2",children:[e.jsx(s.icon,{className:"h-4 w-4 text-gray-600"}),s.label]})}),e.jsx(p,{children:e.jsx("div",{className:"grid grid-cols-2 gap-3",children:A.map(l=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{id:`${s.key}-${l.key}`,checked:a.permissions[s.key]?.[l.key]||!1,onCheckedChange:t=>k(s.key,l.key,t)}),e.jsx(c,{htmlFor:`${s.key}-${l.key}`,className:"text-xs cursor-pointer",children:l.label})]},l.key))})})]},s.key))]})]})}),e.jsxs("div",{className:"border-t px-6 py-3 bg-gray-50 flex items-center justify-end gap-2",children:[e.jsx(n,{variant:"outline",onClick:r,className:"h-9 text-sm bg-transparent",children:"Cancelar"}),e.jsx(n,{onClick:C,className:"h-9 text-sm bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:"Salvar Perfil"})]})]}):null}export{M as P};
