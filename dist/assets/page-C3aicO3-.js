import{c as ve,M as Ne,r,j as e,b$ as J,f as n,P as X,F as p,aU as ye,ag as L,E as v,H as N,I as y,J as b,K as u,D as w,v as C,w as k,x as T,a9 as $,B as d,a8 as K,T as be,h as we,i as S,k as g,br as q,bs as F,C as A,g as E,n as Y,ao as P,aR as ee,b3 as Ce,az as ke,a as Te,d as Se,m as qe}from"./index-D2dOrPZ8.js";import{P as se}from"./progress-BnPXSgzQ.js";import{L as Ae}from"./list-CjThOVOb.js";import{G as Ee}from"./grid-3x3-DSkwZCAM.js";import{M as Ie}from"./message-square-Bm6iE3sR.js";import{P as Be}from"./paperclip-DZJYHyoe.js";import{T as De}from"./triangle-alert-Cjhkzg0C.js";const Qe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Ze=ve("clipboard-check",Qe),m="admin";const ae={draft:"bg-gray-100 text-gray-800",launched:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",returned:"bg-orange-100 text-orange-800",paused:"bg-purple-100 text-purple-800",agency_approval:"bg-indigo-100 text-indigo-800",client_approval:"bg-cyan-100 text-cyan-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800"},j={draft:"Rascunho",launched:"Lançamento",in_progress:"Em Execução",returned:"Devolvida",paused:"Pausada",agency_approval:"Aprovação da Agência",client_approval:"Aprovação do Cliente",approved:"Aprovada",rejected:"Reprovada",expired:"Expirada"},ie={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800",emergency:"bg-red-500 text-white"},R={low:"Baixa",medium:"Média",high:"Alta",urgent:"Urgente",emergency:"Emergencial"};function Xe(){const{toast:x}=Ne(),[h,te]=r.useState([]),[re,z]=r.useState(!0),[I,M]=r.useState("list"),[o,f]=r.useState({}),[i,B]=r.useState(null),[le,V]=r.useState(!1),[ne,_]=r.useState(!1),[D,ce]=r.useState(null),[O,H]=r.useState(""),[de,Q]=r.useState(!1),[l,Z]=r.useState(0),[Le,Fe]=r.useState(!1),[Pe,Re]=r.useState([]),[ze,Me]=r.useState({}),[oe,U]=r.useState(!1),[W,me]=r.useState([]);r.useEffect(()=>{ue(),xe()},[o]);const ue=async()=>{try{z(!0);let a=[{id:"task-1",template_id:"template-1",template_name:"Logo Design",project_id:"project-1",project_name:"Rebranding Empresa X",client_id:"client-1",client_name:"Empresa X",agency_id:"agency-1",agency_name:"Agência Y",nomad_id:"nomad-1",nomad_name:"João Designer",status:"in_progress",priority:"high",title:"Criação de Logo para Rebranding",description:"Desenvolvimento de nova identidade visual",briefing:"Cliente busca modernizar sua marca...",instructions:"Seguir guidelines de design...",requirements:{format:"vector",colors:"corporate"},deliverables:["Logo principal","Variações","Manual de uso"],estimated_hours:16,deadline:"2024-12-30T23:59:59Z",price:1500,created_at:"2024-12-20T10:00:00Z",updated_at:"2024-12-26T14:30:00Z",started_at:"2024-12-21T09:00:00Z",is_emergency:!1,is_overdue:!1,days_until_deadline:4,linked_tasks:["task-2"],auto_trigger_next:!0,chat_messages:[],history:[],attachments:[],task_type:"regular",is_qualification_test:!1},{id:"task-qual-1",template_id:"template-qual-1",template_name:"Teste de Qualificação - Design",client_id:"system",client_name:"Sistema",nomad_id:"nomad-3",nomad_name:"Ana Candidata",status:"in_progress",priority:"medium",title:"TAREFA TESTE - Criação de Identidade Visual",description:"Teste prático para qualificação em design de marca",briefing:"Desenvolva uma identidade visual completa para uma startup fictícia...",instructions:"Complete o circuito de aprendizado antes de iniciar o teste...",requirements:{test_duration:"48h",deliverables:["logo","manual","aplicacoes"]},deliverables:["Logo principal","Manual de marca","Aplicações"],estimated_hours:24,deadline:"2024-12-28T23:59:59Z",price:0,created_at:"2024-12-24T10:00:00Z",updated_at:"2024-12-26T14:30:00Z",started_at:"2024-12-25T09:00:00Z",is_emergency:!1,is_overdue:!1,days_until_deadline:2,linked_tasks:[],auto_trigger_next:!1,chat_messages:[],history:[],attachments:[],task_type:"qualification_test",is_qualification_test:!0,qualification_category:"Design",learning_circuit:[{id:"step-1",type:"text",title:"Fundamentos de Identidade Visual",content:"Aprenda os conceitos básicos de criação de marca...",completed:!0,completed_at:"2024-12-25T08:30:00Z"},{id:"step-2",type:"video",title:"Processo Criativo",content:"Vídeo explicativo sobre metodologia de design",url:"https://example.com/video",duration:15,completed:!0,completed_at:"2024-12-25T08:45:00Z"},{id:"step-3",type:"commitment_term",title:"Termo de Compromisso",content:"Declaro que compreendi as responsabilidades...",completed:!1}],qualification_checklist:[{id:"check-1",criterion:"Criatividade e originalidade",description:"Avalie a originalidade das soluções apresentadas",weight:30,required:!0,checked:!1},{id:"check-2",criterion:"Aplicação técnica",description:"Qualidade técnica da execução",weight:25,required:!0,checked:!1},{id:"check-3",criterion:"Adequação ao briefing",description:"Atendimento aos requisitos solicitados",weight:25,required:!0,checked:!1},{id:"check-4",criterion:"Apresentação e organização",description:"Qualidade da apresentação dos materiais",weight:20,required:!1,checked:!1}]},{id:"task-2",template_id:"template-2",template_name:"Website Development",client_id:"client-1",client_name:"Empresa X",status:"agency_approval",priority:"medium",title:"Desenvolvimento de Website Institucional",description:"Site responsivo com CMS",briefing:"Website moderno e responsivo...",instructions:"Usar tecnologias atuais...",requirements:{cms:"required",responsive:!0},deliverables:["Website completo","Painel admin","Documentação"],estimated_hours:80,deadline:"2025-01-15T23:59:59Z",price:8e3,created_at:"2024-12-20T10:00:00Z",updated_at:"2024-12-26T16:00:00Z",is_emergency:!1,is_overdue:!1,days_until_deadline:20,linked_tasks:[],auto_trigger_next:!1,chat_messages:[],history:[],attachments:[],task_type:"regular",is_qualification_test:!1},{id:"task-3",template_id:"template-3",template_name:"Social Media Content",client_id:"client-2",client_name:"Startup Z",nomad_id:"nomad-2",nomad_name:"Maria Social Media",status:"returned",priority:"urgent",title:"Conteúdo para Redes Sociais - Janeiro",description:"Posts para Instagram e LinkedIn",briefing:"Conteúdo engajador para janeiro...",instructions:"Seguir tom de voz da marca...",requirements:{platforms:["instagram","linkedin"],quantity:20},deliverables:["20 posts","Calendário editorial","Hashtags"],estimated_hours:24,deadline:"2024-12-28T23:59:59Z",price:2e3,created_at:"2024-12-18T08:00:00Z",updated_at:"2024-12-26T11:00:00Z",is_emergency:!1,is_overdue:!0,days_until_deadline:-2,linked_tasks:[],auto_trigger_next:!1,chat_messages:[],history:[],attachments:[],task_type:"regular",is_qualification_test:!1}];if(o.status?.length&&(a=a.filter(t=>o.status.includes(t.status))),o.priority?.length&&(a=a.filter(t=>o.priority.includes(t.priority))),o.quick_filter)switch(o.quick_filter){case"overdue":a=a.filter(t=>t.is_overdue);break;case"completed":a=a.filter(t=>t.status==="approved");break;case"due_soon":a=a.filter(t=>t.days_until_deadline<=3&&t.days_until_deadline>0);break;case"emergency":a=a.filter(t=>t.is_emergency||t.priority==="emergency");break}te(a)}catch{x({title:"Erro",description:"Falha ao carregar tarefas",variant:"destructive"})}finally{z(!1)}},xe=async()=>{try{me([{id:"q1",question:"Qual é o público-alvo do projeto?",type:"textarea",category:"briefing",tags:["target","audience"],required:!0,ai_fillable:!0,usage_count:45,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"q2",question:"Quais são as cores preferidas da marca?",type:"text",category:"design",tags:["colors","brand"],required:!1,ai_fillable:!0,usage_count:32,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"},{id:"q3",question:"Estilo de design preferido",type:"select",category:"design",tags:["style","preference"],options:["Moderno","Clássico","Minimalista","Criativo"],required:!0,ai_fillable:!0,usage_count:28,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-12-01T00:00:00Z"}])}catch(s){console.error("Failed to load question bank:",s)}},he=s=>{s.learning_circuit&&(B(s),Z(0),Q(!0))},pe=()=>{if(!i?.learning_circuit)return;const s=[...i.learning_circuit];s[l].completed=!0,s[l].completed_at=new Date().toISOString(),B({...i,learning_circuit:s}),l<i.learning_circuit.length-1?Z(l+1):(x({title:"Circuito Concluído",description:"Você pode agora iniciar o teste de qualificação"}),Q(!1))},ge=async s=>{try{const a=W.filter(c=>c.ai_fillable&&(c.category==="briefing"||c.category==="design")),t={task_id:s,fields:a.map(c=>({id:c.id,name:c.id,label:c.question,type:c.type,required:c.required,options:c.options,ai_fillable:c.ai_fillable,ai_filled_value:c.type==="textarea"?"Empresários de 30-50 anos, setor tecnológico, renda alta":c.type==="select"?c.options?.[0]:"Azul corporativo (#1E40AF), Cinza (#6B7280)",user_value:null})),ai_completion_percentage:85,requires_review:!0};ce(t),_(!0),x({title:"IA AplicADA",description:"Questionário preenchido automaticamente pela IA. Revise as informações."})}catch{x({title:"Erro",description:"Falha ao preencher questionário com IA",variant:"destructive"})}},je=async()=>{if(!(!O.trim()||!i))try{x({title:"Funcionalidade Temporariamente Indisponível",description:"O chat com IA será implementado em breve",variant:"destructive"}),H("")}catch{x({title:"Erro",description:"Falha ao enviar mensagem",variant:"destructive"})}},fe=()=>[{key:"overdue",label:"Atrasadas",count:h.filter(a=>a.is_overdue).length},{key:"due_soon",label:"Prestes a Vencer",count:h.filter(a=>a.days_until_deadline<=3&&a.days_until_deadline>0).length},{key:"emergency",label:"Emergenciais",count:h.filter(a=>a.is_emergency||a.priority==="emergency").length},{key:"completed",label:"Concluídas",count:h.filter(a=>a.status==="approved").length}],G=s=>e.jsxs(A,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{B(s),V(!0)},children:[e.jsx(Te,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(Se,{className:"text-lg flex items-center gap-2",children:[s.title,s.is_qualification_test&&e.jsxs(d,{className:"bg-purple-100 text-purple-800 border-purple-200",children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),"TAREFA TESTE"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:s.client_name}),s.project_name&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:s.project_name})]}),s.qualification_category&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:"text-purple-600",children:s.qualification_category})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.is_emergency&&e.jsx($,{className:"h-4 w-4 text-red-500"}),s.is_overdue&&e.jsx(De,{className:"h-4 w-4 text-orange-500"})]})]})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:ae[s.status],children:j[s.status]}),e.jsx(d,{className:ie[s.priority],children:R[s.priority]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.estimated_hours,"h"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx("span",{className:s.is_overdue?"text-red-500":s.days_until_deadline<=3?"text-orange-500":"",children:s.days_until_deadline>0?`${s.days_until_deadline} dias`:`${Math.abs(s.days_until_deadline)} dias atraso`})]})]}),s.nomad_name&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Nômade:"})," ",s.nomad_name]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Valor:"})," ",s.is_qualification_test?"Teste de Qualificação":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s.price)]}),s.learning_circuit&&e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Circuito de Aprendizado"})]}),e.jsx(se,{value:s.learning_circuit.filter(a=>a.completed).length/s.learning_circuit.length*100,className:"h-2"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[s.learning_circuit.filter(a=>a.completed).length," de ",s.learning_circuit.length," ","concluídos"]})]})]})]},s.id),_e=(s,a)=>e.jsx("div",{className:"flex-1 min-w-80",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold",children:j[s]}),e.jsx(d,{variant:"secondary",children:a.length})]}),e.jsx("div",{className:"space-y-3",children:a.map(G)})]})},s);return re?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-lg",children:"Carregando tarefas..."})})}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Tarefas"}),e.jsx("p",{className:"text-muted-foreground",children:"Gerencie todas as suas tarefas em um só lugar"})]}),e.jsxs("div",{className:"flex gap-2",children:[J(m,"create_projects")&&e.jsxs(n,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Nova Tarefa"]}),J(m,"manage_templates")&&e.jsxs(n,{variant:"outline",onClick:()=>U(!0),children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Banco de Perguntas"]})]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:fe().map(s=>e.jsxs(n,{variant:o.quick_filter===s.key?"default":"outline",size:"sm",onClick:()=>f(a=>({...a,quick_filter:a.quick_filter===s.key?void 0:s.key})),children:[s.label," (",s.count,")"]},s.key))}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(L,{placeholder:"Buscar tarefas...",className:"pl-10 w-64",value:o.search||"",onChange:s=>f(a=>({...a,search:s.target.value}))})]}),e.jsxs(v,{value:o.status?.[0]||"all",onValueChange:s=>f(a=>({...a,status:s==="all"?void 0:[s]})),children:[e.jsx(N,{className:"w-48",children:e.jsx(y,{placeholder:"Status"})}),e.jsxs(b,{children:[e.jsx(u,{value:"all",children:"Todos os status"}),Object.entries(j).map(([s,a])=>e.jsx(u,{value:s,children:a},s))]})]}),e.jsxs(v,{value:o.priority?.[0]||"all",onValueChange:s=>f(a=>({...a,priority:s==="all"?void 0:[s]})),children:[e.jsx(N,{className:"w-48",children:e.jsx(y,{placeholder:"Prioridade"})}),e.jsxs(b,{children:[e.jsx(u,{value:"all",children:"Todas as prioridades"}),Object.entries(R).map(([s,a])=>e.jsx(u,{value:s,children:a},s))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:I==="list"?"default":"outline",size:"sm",onClick:()=>M("list"),children:e.jsx(Ae,{className:"w-4 h-4"})}),e.jsx(n,{variant:I==="kanban"?"default":"outline",size:"sm",onClick:()=>M("kanban"),children:e.jsx(Ee,{className:"w-4 h-4"})})]})]}),I==="list"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(G)}):e.jsx("div",{className:"flex gap-6 overflow-x-auto pb-4",children:Object.keys(j).map(s=>{const a=h.filter(t=>t.status===s);return _e(s,a)})}),h.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(p,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma tarefa encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Ajuste os filtros ou crie uma nova tarefa"})]}),e.jsx(w,{open:le,onOpenChange:V,children:e.jsx(C,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:i&&e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[i.title,i.is_emergency&&e.jsx($,{className:"h-5 w-5 text-red-500"}),i.is_qualification_test&&e.jsxs(d,{className:"bg-purple-100 text-purple-800 border-purple-200",children:[e.jsx(K,{className:"h-4 w-4 mr-1"}),"TAREFA TESTE"]})]})}),e.jsxs(be,{defaultValue:"details",className:"w-full",children:[e.jsxs(we,{className:"grid w-full grid-cols-4",children:[e.jsx(S,{value:"details",children:"Detalhes"}),e.jsx(S,{value:"chat",children:"Chat"}),e.jsx(S,{value:"history",children:"Histórico"}),e.jsx(S,{value:"files",children:"Arquivos"})]}),e.jsxs(g,{value:"details",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Informações Gerais"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cliente:"})," ",i.client_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Projeto:"})," ",i.project_name||"-"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Nômade:"})," ",i.nomad_name||"Não atribuído"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Agência:"})," ",i.agency_name||"-"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Status e Prazos"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{className:ae[i.status],children:j[i.status]}),e.jsx(d,{className:ie[i.priority],children:R[i.priority]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Prazo:"})," ",new Date(i.deadline).toLocaleDateString("pt-BR")]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Horas estimadas:"})," ",i.estimated_hours,"h"]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Valor:"})," ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.price)]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Briefing"}),e.jsx("p",{className:"text-sm text-muted-foreground bg-gray-50 p-3 rounded",children:i.briefing})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Instruções"}),e.jsx("p",{className:"text-sm text-muted-foreground bg-gray-50 p-3 rounded",children:i.instructions})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{onClick:()=>ge(i.id),children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Preencher com IA"]}),i.is_qualification_test&&i.learning_circuit&&e.jsxs(n,{variant:"outline",onClick:()=>he(i),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Circuito de Aprendizado"]}),i.is_qualification_test&&m==="leader",m==="nomad"]})]}),i.is_qualification_test&&e.jsx(g,{value:"learning",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Circuito de Aprendizado"}),e.jsxs(d,{variant:"secondary",children:[i.learning_circuit?.filter(s=>s.completed).length||0," de"," ",i.learning_circuit?.length||0," concluídos"]})]}),i.learning_circuit?.map((s,a)=>e.jsx(A,{className:s.completed?"bg-green-50 border-green-200":"",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:s.completed?e.jsx(Y,{className:"h-5 w-5 text-green-600"}):e.jsx("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.content}),s.type==="video"&&s.duration&&e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-muted-foreground",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.duration," minutos"]})]}),s.completed&&s.completed_at&&e.jsxs("div",{className:"text-xs text-green-600 mt-2",children:["Concluído em ",new Date(s.completed_at).toLocaleString("pt-BR")]})]})]})})},s.id))]})}),i.is_qualification_test&&m==="leader",e.jsxs(g,{value:"chat",className:"space-y-4",children:[e.jsx("div",{className:"border rounded-lg p-4 h-96 overflow-y-auto",children:e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Ie,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"Chat com IA será implementado em breve"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{placeholder:"Chat temporariamente indisponível...",value:O,onChange:s=>H(s.target.value),className:"flex-1",rows:2,disabled:!0}),e.jsx(n,{onClick:je,disabled:!0,children:e.jsx(Ce,{className:"w-4 h-4"})})]})]}),e.jsx(g,{value:"history",children:e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(P,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"Histórico de alterações aparecerá aqui"})]})}),e.jsx(g,{value:"files",children:e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(Be,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"Arquivos anexados aparecerão aqui"})]})})]})]})})}),e.jsx(w,{open:ne,onOpenChange:_,children:e.jsxs(C,{className:"max-w-2xl",children:[e.jsx(k,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Questionário Inteligente"]})}),D&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Y,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-800",children:["IA preencheu ",D.ai_completion_percentage,"% do questionário"]})]}),e.jsx("p",{className:"text-xs text-green-700",children:"Revise as informações preenchidas automaticamente e faça ajustes se necessário."})]}),e.jsx("div",{className:"space-y-4",children:D.fields.map(s=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:[s.label,s.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"}),s.ai_fillable&&e.jsxs(d,{variant:"secondary",className:"ml-2 text-xs",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),"IA"]})]}),s.type==="textarea"?e.jsx(ee,{defaultValue:s.ai_filled_value||s.user_value||"",className:s.ai_filled_value?"bg-green-50 border-green-200":""}):s.type==="select"?e.jsxs(v,{defaultValue:s.ai_filled_value||s.user_value||"",children:[e.jsx(N,{className:s.ai_filled_value?"bg-green-50 border-green-200":"",children:e.jsx(y,{placeholder:"Selecione..."})}),e.jsx(b,{children:s.options?.map(a=>e.jsx(u,{value:a,children:a},a))})]}):e.jsx(L,{defaultValue:s.ai_filled_value||s.user_value||"",className:s.ai_filled_value?"bg-green-50 border-green-200":""})]},s.id))}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"outline",onClick:()=>_(!1),children:"Cancelar"}),e.jsx(n,{onClick:()=>{_(!1),x({title:"Questionário salvo",description:"As informações foram salvas com sucesso"})},children:"Salvar Questionário"})]})]})]})}),e.jsx(w,{open:de,onOpenChange:Q,children:e.jsxs(C,{className:"max-w-3xl",children:[e.jsx(k,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Circuito de Aprendizado - ",i?.qualification_category]})}),i?.learning_circuit&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(se,{value:(l+1)/i.learning_circuit.length*100,className:"h-2"}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Etapa ",l+1," de ",i.learning_circuit.length]}),e.jsx(A,{children:e.jsx(E,{className:"p-6",children:i.learning_circuit[l]&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:i.learning_circuit[l].title}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{children:i.learning_circuit[l].content})}),i.learning_circuit[l].type==="video"&&e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Vídeo Tutorial"}),e.jsxs("div",{className:"text-lg font-medium",children:[i.learning_circuit[l].duration," minutos"]})]}),i.learning_circuit[l].type==="commitment_term"&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ze,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-800",children:"Termo de Compromisso"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"Ao prosseguir, você declara ter compreendido todas as responsabilidades e requisitos para este teste de qualificação."})]})]})})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(n,{variant:"outline",onClick:()=>Z(Math.max(0,l-1)),disabled:l===0,children:"Anterior"}),e.jsx(n,{onClick:pe,children:l===i.learning_circuit.length-1?"Finalizar Circuito":"Próxima Etapa"})]})]})]})}),e.jsx(w,{open:oe,onOpenChange:U,children:e.jsxs(C,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(k,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5"}),"Banco de Perguntas"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{placeholder:"Buscar perguntas...",className:"w-64"}),e.jsxs(v,{children:[e.jsx(N,{className:"w-48",children:e.jsx(y,{placeholder:"Categoria"})}),e.jsxs(b,{children:[e.jsx(u,{value:"all",children:"Todas"}),e.jsx(u,{value:"briefing",children:"Briefing"}),e.jsx(u,{value:"design",children:"Design"}),e.jsx(u,{value:"development",children:"Desenvolvimento"})]})]})]}),e.jsxs(n,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Nova Pergunta"]})]}),e.jsx("div",{className:"grid gap-4",children:W.map(s=>e.jsx(A,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:s.question}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(d,{variant:"outline",children:s.category}),e.jsx(d,{variant:"secondary",children:s.type}),s.ai_fillable&&e.jsxs(d,{className:"bg-green-100 text-green-800",children:[e.jsx(q,{className:"h-3 w-3 mr-1"}),"IA"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Usado ",s.usage_count," vezes"]}),e.jsxs("span",{children:["Tags: ",s.tags.join(", ")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"ghost",size:"sm",children:e.jsx(ke,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"sm",children:e.jsx(p,{className:"h-4 w-4"})})]})]})})},s.id))})]})]})}),e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(p,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"Interface de tarefas simplificada - funcionalidades completas serão implementadas em breve"})]})]})}export{Xe as default};
